var de=Object.defineProperty,fe=Object.defineProperties;var pe=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var W=(e,t,o)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,g=(e,t)=>{for(var o in t||(t={}))ee.call(t,o)&&W(e,o,t[o]);if(V)for(var o of V(t))te.call(t,o)&&W(e,o,t[o]);return e},k=(e,t)=>fe(e,pe(t));var T=(e,t)=>{var o={};for(var a in e)ee.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&V)for(var a of V(e))t.indexOf(a)<0&&te.call(e,a)&&(o[a]=e[a]);return o};var R=(e,t,o)=>new Promise((a,s)=>{var c=p=>{try{l(o.next(p))}catch(m){s(m)}},u=p=>{try{l(o.throw(p))}catch(m){s(m)}},l=p=>p.done?a(p.value):Promise.resolve(p.value).then(c,u);l((o=o.apply(e,t)).next())});import{q as me,a8 as q,bG as ve,aU as re,Z as oe,cp as _e,aY as Z,c6 as ge,aH as ye,w as ue,c8 as ce,c7 as Ce,cq as xe,cr as be,bm as he,U as K,aR as Q,bj as Ae,cs as Y,ct as De}from"./bootstrap-CmOIY23B.js";import{d as v,D as f,n as d,E as i,z as y,R as B,S as w,u as n,r as P,G as E,C as J,e as Be,m as we,c as L,j as h,q as M,B as ke,y as N,L as ne,M as Pe,a1 as D,x as X,v as z,Q as G,A as H,H as ae,as as j,au as S}from"../jse/index-index-Dn7Pga_E.js";import{C as $e}from"./circle-check-big-pDJZkLX7.js";import{a as ie,b as qe,c as Ee,D as Oe,d as Te}from"./DialogTitle-yaBRErHk.js";import{X as Re}from"./x-BOl5kJMD.js";const ze=me("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var Se=v({__name:"AlertDialogAction",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;return q(),(o,a)=>(d(),f(n(ie),B(w(t)),{default:i(()=>[y(o.$slots,"default")]),_:3},16))}}),Me=Se;const[Ie,Ne]=re("AlertDialogContent");var Fe=v({__name:"AlertDialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=e,s=ve(t);q();const c=P();return Ne({onCancelElementChange:u=>{c.value=u}}),(u,l)=>(d(),f(n(qe),E(g(g({},o),n(s)),{role:"alertdialog",onPointerDownOutside:l[0]||(l[0]=oe(()=>{},["prevent"])),onInteractOutside:l[1]||(l[1]=oe(()=>{},["prevent"])),onOpenAutoFocus:l[2]||(l[2]=()=>{J(()=>{var p;(p=c.value)==null||p.focus({preventScroll:!0})})})}),{default:i(()=>[y(u.$slots,"default")]),_:3},16))}}),Ve=Fe,je=v({__name:"AlertDialogCancel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,o=Ie(),{forwardRef:a,currentElement:s}=q();return Be(()=>{o.onCancelElementChange(s.value)}),(c,u)=>(d(),f(n(ie),E(t,{ref:n(a)}),{default:i(()=>[y(c.$slots,"default")]),_:3},16))}}),Le=je,Ue=v({__name:"AlertDialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(e){const t=e;return q(),(o,a)=>(d(),f(n(Ee),B(w(t)),{default:i(()=>[y(o.$slots,"default")]),_:3},16))}}),Ke=Ue,Xe=v({__name:"AlertDialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(o,a)=>(d(),f(n(_e),B(w(t)),{default:i(()=>[y(o.$slots,"default")]),_:3},16))}}),Ge=Xe,He=v({__name:"AlertDialogRoot",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:t}){const s=Z(e,t);return q(),(c,u)=>(d(),f(n(Oe),E(n(s),{modal:!0}),{default:i(l=>[y(c.$slots,"default",B(w(l)))]),_:3},16))}}),Qe=He,Ye=v({__name:"AlertDialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const t=e;return q(),(o,a)=>(d(),f(n(Te),B(w(t)),{default:i(()=>[y(o.$slots,"default")]),_:3},16))}}),Ze=Ye;const Je=v({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const s=Z(e,t);return(c,u)=>(d(),f(n(Qe),B(w(n(s))),{default:i(()=>[y(c.$slots,"default")]),_:3},16))}}),We=v({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(o,a)=>(d(),f(n(Me),B(w(t)),{default:i(()=>[y(o.$slots,"default")]),_:3},16))}}),le=v({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(o,a)=>(d(),f(n(Le),B(w(t)),{default:i(()=>[y(o.$slots,"default")]),_:3},16))}}),et={class:"z-popup inset-0 bg-overlay"},tt=v({__name:"AlertDialogOverlay",setup(e){return ge(),(t,o)=>(d(),we("div",et))}}),ot=v({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},centered:{type:Boolean},class:{},modal:{type:Boolean,default:!0},open:{type:Boolean},overlayBlur:{},zIndex:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","close","closed","opened"],setup(e,{expose:t,emit:o}){const a=e,s=o,c=L(()=>{const b=a,{class:m,modal:_,open:A}=b;return T(b,["class","modal","open"])}),u=Z(c,s),l=P(null);function p(m){var _;m.target===((_=l.value)==null?void 0:_.$el)&&(a.open?s("opened"):s("closed"))}return t({getContentRef:()=>l.value}),(m,_)=>(d(),f(n(Ge),null,{default:i(()=>[h(ye,{name:"fade",appear:""},{default:i(()=>[e.open&&e.modal?(d(),f(tt,{key:0,style:ke(k(g({},e.zIndex?{zIndex:e.zIndex}:{}),{position:"fixed",backdropFilter:e.overlayBlur&&e.overlayBlur>0?`blur(${e.overlayBlur}px)`:"none"})),onClick:_[0]||(_[0]=()=>s("close"))},null,8,["style"])):M("",!0)]),_:1}),h(n(Ve),E({ref_key:"contentRef",ref:l,style:k(g({},e.zIndex?{zIndex:e.zIndex}:{}),{position:"fixed"}),onAnimationend:p},n(u),{class:n(N)("z-popup bg-background p-6 shadow-lg outline-none sm:rounded-xl","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95",{"data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-top-[48%]":!e.centered,"data-[state=closed]:slide-out-to-top-[148%] data-[state=open]:slide-in-from-top-[98%]":e.centered,"top-[10vh]":!e.centered,"top-1/2 -translate-y-1/2":e.centered},a.class)}),{default:i(()=>[y(m.$slots,"default")]),_:3},16,["style","class"])]),_:3}))}}),nt=v({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=L(()=>{const u=t,{class:s}=u;return T(u,["class"])}),a=ue(o);return(s,c)=>(d(),f(n(Ke),E(n(a),{class:n(N)("text-sm text-muted-foreground",t.class)}),{default:i(()=>[y(s.$slots,"default")]),_:3},16,["class"]))}}),at=v({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=L(()=>{const u=t,{class:s}=u;return T(u,["class"])}),a=ue(o);return(s,c)=>(d(),f(n(Ze),E(n(a),{class:n(N)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:i(()=>[y(s.$slots,"default")]),_:3},16,["class"]))}}),[yt,lt]=re("VbenAlertContext"),st={class:"flex items-center"},rt={class:"flex-auto"},ut={class:"m-4 min-h-[30px]"},ct=v({__name:"alert",props:ne({beforeClose:{},bordered:{type:Boolean,default:!0},buttonAlign:{default:"end"},cancelText:{},centered:{type:Boolean,default:!0},confirmText:{},containerClass:{},content:{},contentClass:{},contentMasking:{type:Boolean},footer:{},icon:{},overlayBlur:{},showCancel:{type:Boolean},title:{}},{open:{type:Boolean,default:!1},openModifiers:{}}),emits:ne(["closed","confirm","opened"],["update:open"]),setup(e,{emit:t}){const o=e,a=t,s=Pe(e,"open"),{$t:c}=ce(),u=Ce.getComponents(),l=P(!1);function p(){a("closed",l.value),l.value=!1}function m(){l.value=!1}const _=L(()=>{var C;let r=null;if(o.icon){if(typeof o.icon=="string")switch(o.icon){case"error":{r=D(be,{style:{color:"hsl(var(--destructive))"}});break}case"info":{r=D(ze,{style:{color:"hsl(var(--info))"}});break}case"question":{r=he;break}case"success":{r=D($e,{style:{color:"hsl(var(--success))"}});break}case"warning":{r=D(xe,{style:{color:"hsl(var(--warning))"}});break}default:{r=null;break}}}else r=(C=o.icon)!=null?C:null;return r});function A(){O(),U(!1)}function $(){b(),U(!1)}lt({doCancel:A,doConfirm:$});function b(){l.value=!0,a("confirm")}function O(){l.value=!1}const x=P(!1);function U(r){return R(this,null,function*(){if(yield J(),!r&&o.beforeClose){x.value=!0;try{(yield o.beforeClose({isConfirm:l.value}))!==!1&&(s.value=!1)}finally{x.value=!1}}else s.value=r})}return(r,C)=>(d(),f(n(Je),{open:s.value,"onUpdate:open":U},{default:i(()=>[h(n(ot),{open:s.value,centered:e.centered,"overlay-blur":e.overlayBlur,onOpened:C[0]||(C[0]=F=>a("opened")),onClosed:p,onEscapeKeyDown:m,class:X(n(N)(e.containerClass,"left-0 right-0 mx-auto flex max-h-[80%] flex-col p-0 duration-300 sm:w-[520px] sm:max-w-[80%] sm:rounded-[var(--radius)]",{"border border-border":e.bordered,"shadow-3xl":!e.bordered}))},{default:i(()=>[z("div",{class:X(n(N)("relative flex-1 overflow-y-auto p-3",e.contentClass))},[e.title?(d(),f(n(at),{key:0},{default:i(()=>[z("div",st,[(d(),f(G(_.value),{class:"mr-2"})),z("span",rt,H(n(c)(e.title)),1),e.showCancel?(d(),f(n(le),{key:0,"as-child":""},{default:i(()=>[h(n(K),{variant:"ghost",size:"icon",class:"rounded-full",disabled:x.value,onClick:O},{default:i(()=>[h(n(Re),{class:"size-4 text-muted-foreground"})]),_:1},8,["disabled"])]),_:1})):M("",!0)])]),_:1})):M("",!0),h(n(nt),null,{default:i(()=>[z("div",ut,[h(n(Q),{content:e.content,"render-br":""},null,8,["content"])]),x.value&&e.contentMasking?(d(),f(n(Ae),{key:0,spinning:x.value},null,8,["spinning"])):M("",!0)]),_:1}),z("div",{class:X(["flex items-center justify-end gap-x-2",`justify-${e.buttonAlign}`])},[h(n(Q),{content:e.footer},null,8,["content"]),e.showCancel?(d(),f(n(le),{key:0,"as-child":""},{default:i(()=>[(d(),f(G(n(u).DefaultButton||n(K)),{disabled:x.value,variant:"ghost",onClick:O},{default:i(()=>[ae(H(e.cancelText||n(c)("cancel")),1)]),_:1},8,["disabled"]))]),_:1})):M("",!0),h(n(We),{"as-child":""},{default:i(()=>[(d(),f(G(n(u).PrimaryButton||n(K)),{loading:x.value,onClick:b},{default:i(()=>[ae(H(e.confirmText||n(c)("confirm")),1)]),_:1},8,["loading"]))]),_:1})],2)],2)]),_:1},8,["open","centered","overlay-blur","class"])]),_:1},8,["open"]))}}),I=P([]),{$t:it}=ce();function se(e,t,o){return new Promise((a,s)=>{var _,A;const c=j(e)?{content:e}:g({},e);t&&(j(t)?c.title=t:j(t)||Object.assign(c,t));const u=document.createElement("div");document.body.append(u);const l={container:u,instance:null},p=k(g({onClosed:$=>{I.value=I.value.filter(b=>b!==l),Y(null,u),u.parentNode&&u.remove(),$?a():s(new Error("dialog cancelled"))}},c),{open:!0,title:(_=c.title)!=null?_:it.value("prompt")}),m=D(ct,p);Y(m,u),l.instance=(A=m.component)==null?void 0:A.proxy,I.value.push(l)})}function dt(e,t,o){const a={showCancel:!0};return j(e)?se(e,a):se(g(g({},a),e))}function Ct(e){return R(this,null,function*(){const x=e,{component:t,componentProps:o,componentSlots:a,content:s,defaultValue:c,modelPropName:u}=x,l=T(x,["component","componentProps","componentSlots","content","defaultValue","modelPropName"]),p=P(c),m=P(null),_=[D(Q,{content:s,renderBr:!0})],A=u||"modelValue",$=g({},o),b=()=>{const r=k(g({},$),{[A]:p.value,[`onUpdate:${A}`]:C=>{p.value=C}});return m.value=D(t||De,r,a),D("div",{class:"flex flex-col gap-2"},{default:()=>[..._,m.value]})},O=k(g({},l),{beforeClose(r){return R(this,null,function*(){if(l.beforeClose)return yield l.beforeClose(k(g({},r),{value:p.value}))})},content:b,contentMasking:!0,onOpened(){return R(this,null,function*(){var C;yield J();const r=m.value;if(r){if((C=r.component)!=null&&C.exposed&&S(r.component.exposed.focus))r.component.exposed.focus();else if(r.el)if(S(r.el.focus)&&["BUTTON","INPUT","SELECT","TEXTAREA"].includes(r.el.tagName))r.el.focus();else if(S(r.el.querySelector)){const F=r.el.querySelector("input, select, textarea, button");F&&S(F.focus)&&F.focus()}else r.el.nextElementSibling&&S(r.el.nextElementSibling.focus)&&r.el.nextElementSibling.focus()}})}});return yield dt(O),p.value})}function xt(){I.value.forEach(e=>{Y(null,e.container),e.container.parentNode&&e.container.remove()}),I.value=[]}export{dt as a,Ct as b,xt as c,se as v};
