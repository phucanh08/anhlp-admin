var i=(l,s,t)=>new Promise((r,o)=>{var c=e=>{try{n(t.next(e))}catch(a){o(a)}},m=e=>{try{n(t.throw(e))}catch(a){o(a)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(c,m);n((t=t.apply(l,s)).next())});import{X as b,U as h,Y as v,Z as g,a0 as w}from"./bootstrap-CmOIY23B.js";import{d as f,b as S,c as d,m as y,n as _,j as p,u,E as N,H as x,r as k,e as A,D as B}from"../jse/index-index-Dn7Pga_E.js";const C=["onKeydown"],V=f({__name:"base-setting",props:{formSchema:{default:()=>[]}},emits:["submit"],setup(l,{expose:s,emit:t}){const r=l,o=t,[c,m]=b(S({commonConfig:{componentProps:{class:"w-full"}},layout:"horizontal",schema:d(()=>r.formSchema),showDefaultActions:!1}));function n(){return i(this,null,function*(){const{valid:e}=yield m.validate(),a=yield m.getValues();e&&o("submit",a)})}return s({getFormApi:()=>m}),(e,a)=>(_(),y("div",{onKeydown:v(g(n,["prevent"]),["enter"])},[p(u(c)),p(u(h),{type:"submit",class:"mt-4",onClick:n},{default:N(()=>[...a[0]||(a[0]=[x(" 更新基本信息 ",-1)])]),_:1})],40,C))}}),O=f({__name:"base-setting",setup(l){const s=k(),t=[{label:"管理员",value:"super"},{label:"用户",value:"user"},{label:"测试",value:"test"}],r=d(()=>[{fieldName:"realName",component:"Input",label:"姓名"},{fieldName:"username",component:"Input",label:"用户名"},{fieldName:"roles",component:"Select",componentProps:{mode:"tags",options:t},label:"角色"},{fieldName:"introduction",component:"Textarea",label:"个人简介"}]);return A(()=>i(null,null,function*(){const o=yield w();s.value.getFormApi().setValues(o)})),(o,c)=>(_(),B(u(V),{ref_key:"profileBaseSettingRef",ref:s,"form-schema":r.value},null,8,["form-schema"]))}});export{O as _};
