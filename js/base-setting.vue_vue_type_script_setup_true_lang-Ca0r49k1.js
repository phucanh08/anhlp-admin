var c=(i,s,a)=>new Promise((r,o)=>{var l=e=>{try{n(a.next(e))}catch(t){o(t)}},m=e=>{try{n(a.throw(e))}catch(t){o(t)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(l,m);n((a=a.apply(i,s)).next())});import{aY as b,bm as h,aF as v,c2 as g}from"./bootstrap-CQbOoz5A.js";import{a1 as f,P as w,E as d,ap as S,aj as _,p as u,a9 as p,ak as x,ax as y,L as N,aa as k,ai as A}from"../jse/index-index-dOqq_LZr.js";import{u as B}from"./use-vben-form-DEIMVwum.js";const C=["onKeydown"],F=f({__name:"base-setting",props:{formSchema:{default:()=>[]}},emits:["submit"],setup(i,{expose:s,emit:a}){const r=i,o=a,[l,m]=B(w({commonConfig:{componentProps:{class:"w-full"}},layout:"horizontal",schema:d(()=>r.formSchema),showDefaultActions:!1}));function n(){return c(this,null,function*(){const{valid:e}=yield m.validate(),t=yield m.getValues();e&&o("submit",t)})}return s({getFormApi:()=>m}),(e,t)=>(_(),S("div",{onKeydown:h(v(n,["prevent"]),["enter"])},[u(p(l)),u(p(b),{type:"submit",class:"mt-4",onClick:n},{default:x(()=>[...t[0]||(t[0]=[y(" 更新基本信息 ",-1)])]),_:1})],40,C))}}),P=f({__name:"base-setting",setup(i){const s=N(),a=[{label:"管理员",value:"super"},{label:"用户",value:"user"},{label:"测试",value:"test"}],r=d(()=>[{fieldName:"realName",component:"Input",label:"姓名"},{fieldName:"username",component:"Input",label:"用户名"},{fieldName:"roles",component:"Select",componentProps:{mode:"tags",options:a},label:"角色"},{fieldName:"introduction",component:"Textarea",label:"个人简介"}]);return k(()=>c(null,null,function*(){const o=yield g();s.value.getFormApi().setValues(o)})),(o,l)=>(_(),A(p(F),{ref_key:"profileBaseSettingRef",ref:s,"form-schema":r.value},null,8,["form-schema"]))}});export{P as _};
