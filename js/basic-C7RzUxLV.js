var _=(c,f,t)=>new Promise((h,i)=>{var v=n=>{try{l(t.next(n))}catch(a){i(a)}},m=n=>{try{l(t.throw(n))}catch(a){i(a)}},l=n=>n.done?h(n.value):Promise.resolve(n.value).then(v,m);l((t=t.apply(c,f)).next())});import{q as P,bl as A,$ as w,T,ac as V,ad as q,ag as U,ai as W,bm as O,V as Z,aS as R}from"./bootstrap-CmOIY23B.js";import{_ as j}from"./login.vue_vue_type_script_setup_true_lang-D6fQWdiD.js";import{u as D}from"./use-watermark-B9C_R-xJ.js";import{f as G,N as H,i as Q,_ as F}from"./layout.vue_vue_type_script_setup_true_lang-DOIEGcDA.js";import{u as K}from"./use-modal-Brudt_15.js";import{_ as J}from"./avatar.vue_vue_type_script_setup_true_lang-B53dEAxl.js";import{d as I,L as X,M as Y,w as C,c as y,m as ee,n as S,j as d,E as u,u as s,z as ae,r as te,K as M,$ as b,O as oe,D as se}from"../jse/index-index-Dn7Pga_E.js";import{a as re}from"./use-tabs-DqcWxZeB.js";import"./index.vue_vue_type_script_setup_true_lang-CcnCQVvY.js";import"./auth-title-CCQpxSeU.js";import"./AlertBuilder-Dz3kGiBI.js";import"./circle-check-big-pDJZkLX7.js";import"./DialogTitle-yaBRErHk.js";import"./x-BOl5kJMD.js";import"./bell-v1DSs4FX.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-DRiToryD.js";import"./sun-DzQeF_ke.js";import"./use-drawer-BWYtXBhV.js";import"./Separator.vue_vue_type_script_setup_true_lang-CuvZwDmJ.js";import"./TabsList.vue_vue_type_script_setup_true_lang-D1g48S-N.js";import"./TabsContent.vue_vue_type_script_setup_true_lang-CJ-xXqbK.js";import"./Switch.vue_vue_type_script_setup_true_lang-CCt7BYbO.js";import"./check-button-group-XocIf_AW.js";import"./plus-DMpoty4I.js";import"./rotate-cw-CF1nnIEv.js";import"./menu-badge.vue_vue_type_script_setup_true_lang-DS94_HHk.js";import"./index-DKyRbeFR.js";const ne=P("book-open-text",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]),ie=I({name:"LoginExpiredModal",__name:"login-expired-modal",props:X({avatar:{default:""},zIndex:{default:0},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(c){const f=c,t=Y(c,"open"),[h,i]=K();C(()=>t.value,a=>{i.setState({isOpen:a})});const v=y(()=>f.zIndex||n()),m=["ant-message","loading"];function l(a){return m.some(g=>a.classList.contains(g))}function n(){let a=0;return[...document.querySelectorAll("*")].forEach(p=>{const x=window.getComputedStyle(p).getPropertyValue("z-index");x&&!Number.isNaN(Number.parseInt(x))&&!l(p)&&(a=Math.max(a,Number.parseInt(x)))}),a+1}return(a,g)=>(S(),ee("div",null,[d(s(h),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,"z-index":v.value,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:u(()=>[d(s(J),{src:c.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),d(s(A),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":s(w)("authentication.loginAgainSubTitle"),title:s(w)("authentication.loginAgainTitle")},{default:u(()=>[ae(a.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3},8,["z-index"])]))}}),Ae=I({__name:"basic",setup(c){const{setMenuList:f}=re();f(["close","affix","maximize","reload","open-in-new-window","close-left","close-right","close-other","close-all"]);const t=te([{id:1,avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3小时前",isRead:!0,message:"描述信息描述信息描述信息",title:"收到了 14 份新周报"},{id:2,avatar:"https://avatar.vercel.sh/1",date:"刚刚",isRead:!1,message:"描述信息描述信息描述信息",title:"朱偏右 回复了你"},{id:3,avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"描述信息描述信息描述信息",title:"曲丽丽 评论了你"},{id:4,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"代办提醒"},{id:5,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"跳转Workspace示例",link:"/workspace"},{id:6,avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"跳转外部链接示例",link:"https://doc.vben.pro"}]),h=T(),i=V(),v=q(),m=U(),{destroyWatermark:l,updateWatermark:n}=D(),a=y(()=>t.value.some(o=>!o.isRead)),g=y(()=>[{handler:()=>{h.push({name:"Profile"})},icon:"lucide:user",text:w("page.auth.profile")},{handler:()=>{M(Z,{target:"_blank"})},icon:ne,text:w("ui.widgets.document")},{handler:()=>{M(R,{target:"_blank"})},icon:W,text:"GitHub"},{handler:()=>{M(`${R}/issues`,{target:"_blank"})},icon:O,text:w("ui.widgets.qa")}]),p=y(()=>{var o,e;return(e=(o=i.userInfo)==null?void 0:o.avatar)!=null?e:b.app.defaultAvatar});function k(){return _(this,null,function*(){yield v.logout(!1)})}function x(){t.value=[]}function N(o){const e=t.value.find(r=>r.id===o);e&&(e.isRead=!0)}function $(o){t.value=t.value.filter(e=>e.id!==o)}function z(){t.value.forEach(o=>o.isRead=!0)}function E(){}return C(()=>({enable:b.app.watermark,content:b.app.watermarkContent}),r=>_(null,[r],function*({enable:o,content:e}){var B,L;o?yield n({content:e||`${(B=i.userInfo)==null?void 0:B.username} - ${(L=i.userInfo)==null?void 0:L.realName}`}):l()}),{immediate:!0}),oe(()=>{b.app.watermark&&l()}),(o,e)=>(S(),se(s(F),{onClearPreferencesAndLogout:k,onClickLogo:E},{"user-dropdown":u(()=>{var r;return[d(s(Q),{avatar:p.value,menus:g.value,text:(r=s(i).userInfo)==null?void 0:r.realName,description:"ann.vben@gmail.com","tag-text":"Pro",trigger:"both",onLogout:k},null,8,["avatar","menus","text"])]}),notification:u(()=>[d(s(H),{dot:a.value,notifications:t.value,onClear:x,onRead:e[0]||(e[0]=r=>r.id&&N(r.id)),onRemove:e[1]||(e[1]=r=>r.id&&$(r.id)),onMakeAll:z},null,8,["dot","notifications"])]),extra:u(()=>[d(s(ie),{open:s(m).loginExpired,"onUpdate:open":e[2]||(e[2]=r=>s(m).loginExpired=r),avatar:p.value},{default:u(()=>[d(j)]),_:1},8,["open","avatar"])]),"lock-screen":u(()=>[d(s(G),{avatar:p.value,onToLogin:k},null,8,["avatar"])]),_:1}))}});export{Ae as default};
