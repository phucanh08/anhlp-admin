var G=Object.defineProperty,L=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var b=(s,t,e)=>t in s?G(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,y=(s,t)=>{for(var e in t||(t={}))F.call(t,e)&&b(s,e,t[e]);if(h)for(var e of h(t))j.call(t,e)&&b(s,e,t[e]);return s},k=(s,t)=>L(s,M(t));var _=(s,t,e)=>new Promise((f,m)=>{var i=u=>{try{n(e.next(u))}catch(a){m(a)}},l=u=>{try{n(e.throw(u))}catch(a){m(a)}},n=u=>u.done?f(u.value):Promise.resolve(u.value).then(i,l);n((e=e.apply(s,t)).next())});import{q,v as x,U as A,bi as D,aR as E}from"./bootstrap-CmOIY23B.js";import{d as $,m as v,n as r,B as N,x as O,u as d,y as C,z as g,L as B,c as P,at as S,M as R,r as V,w as z,D as p,E as w,F as U,I as H,G as J,q as K,j as Q,au as T}from"../jse/index-index-Dn7Pga_E.js";import{C as W}from"./circle-check-big-pDJZkLX7.js";const X=q("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Y=$({name:"VbenButtonGroup",__name:"button-group",props:{border:{type:Boolean,default:!1},gap:{default:0},size:{default:"middle"}},setup(s){return(t,e)=>(r(),v("div",{class:O(d(C)("vben-button-group rounded-md",`size-${s.size}`,s.gap?"with-gap":"no-gap",t.$attrs.class)),style:N({gap:s.gap?`${s.gap}px`:"0px"})},[g(t.$slots,"default",{},void 0,!0)],6))}}),Z=x(Y,[["__scopeId","data-v-ca371018"]]),ee={key:0,class:"icon-wrapper"},ae=$({__name:"check-button-group",props:B({allowClear:{type:Boolean,default:!1},beforeChange:{},btnClass:{},gap:{default:0},maxCount:{default:0},multiple:{type:Boolean,default:!1},options:{},showIcon:{type:Boolean,default:!0},size:{default:"middle"},disabled:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:B(["btnClick"],["update:modelValue"]),setup(s,{emit:t}){const e=s,f=t,m=P(()=>k(y({},S(e,["options","btnClass","size","disabled"])),{class:C(e.btnClass)})),i=R(s,"modelValue"),l=V([]),n=V([]);z(()=>e.multiple,a=>{a?i.value=l.value:i.value=l.value.length>0?l.value[0]:void 0}),z(()=>i.value,a=>{if(Array.isArray(a)){const c=a.filter(o=>o!==void 0);c.length>0?l.value=e.multiple?[...c]:[c[0]]:l.value=[]}else l.value=a===void 0?[]:[a]},{deep:!0,immediate:!0});function u(a){return _(this,null,function*(){if(e.beforeChange&&T(e.beforeChange))try{if(n.value.push(a),(yield e.beforeChange(a,!l.value.includes(a)))===!1)return}finally{n.value.splice(n.value.indexOf(a),1)}if(e.multiple)l.value.includes(a)?l.value=l.value.filter(c=>c!==a):(e.maxCount>0&&l.value.length>=e.maxCount&&(l.value=l.value.slice(0,e.maxCount-1)),l.value.push(a)),i.value=l.value;else if(e.allowClear&&l.value.includes(a)){l.value=[],i.value=void 0,f("btnClick",void 0);return}else l.value=[a],i.value=a;f("btnClick",a)})}return(a,c)=>(r(),p(Z,{size:e.size,gap:e.gap,class:"vben-check-button-group"},{default:w(()=>[(r(!0),v(U,null,H(e.options,(o,I)=>(r(),p(A,J({key:I,class:d(C)("border",e.btnClass),disabled:e.disabled||n.value.includes(o.value)||!e.multiple&&n.value.length>0},{ref_for:!0},m.value,{variant:l.value.includes(o.value)?"default":"outline",onClick:le=>u(o.value),type:"button"}),{default:w(()=>[e.showIcon?(r(),v("div",ee,[g(a.$slots,"icon",{loading:n.value.includes(o.value),checked:l.value.includes(o.value)},()=>[n.value.includes(o.value)?(r(),p(d(D),{key:0,class:"animate-spin"})):l.value.includes(o.value)?(r(),p(d(W),{key:1})):(r(),p(d(X),{key:2}))],!0)])):K("",!0),g(a.$slots,"option",{label:o.label,value:o.value,data:o},()=>[Q(d(E),{content:o.label},null,8,["content"])],!0)]),_:2},1040,["class","disabled","variant","onClick"]))),128))]),_:3},8,["size","gap"]))}}),ue=x(ae,[["__scopeId","data-v-a535fc0e"]]);export{X as C,Z as V,ue as a};
