var p=(u,r,a)=>new Promise((c,o)=>{var s=e=>{try{t(a.next(e))}catch(n){o(n)}},l=e=>{try{t(a.throw(e))}catch(n){o(n)}},t=e=>e.done?c(e.value):Promise.resolve(e.value).then(s,l);t((a=a.apply(u,r)).next())});import{u as h}from"./useQuery-MkQhxMhz.js";import{y as _,z as y}from"./bootstrap-CmOIY23B.js";import{d as w,m as v,n as F,v as i,j as b,A as m,u as d}from"../jse/index-index-Dn7Pga_E.js";const g={class:"mb-2 flex gap-2"},f=4,L=w({__name:"concurrency-caching",setup(u){const r=["demo","api","options"],{dataUpdatedAt:a,promise:c}=h({experimental_prefetchInRender:!0,queryFn:y,queryKey:r,refetchOnMount:"always",staleTime:3e5});function o(){return p(this,null,function*(){return yield c.value})}const s=[];for(let t=0;t<f;t++)s.push({component:"ApiSelect",componentProps:{api:o,class:"w-full",filterOption:(e,n)=>n.label.toLowerCase().includes(e.toLowerCase()),labelField:"name",showSearch:!0,valueField:"id"},fieldName:`field${t}`,label:`Select ${t}`});const[l]=_({schema:s,showDefaultActions:!1});return(t,e)=>(F(),v("div",null,[i("div",g,[i("div",null,"以下"+m(f)+"个组件共用一个数据源。"),i("div",null,"缓存更新时间："+m(new Date(d(a)).toLocaleString()),1)]),b(d(l))]))}});export{L as _};
