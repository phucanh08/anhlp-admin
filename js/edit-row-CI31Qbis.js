var c=(y,d,o)=>new Promise((i,l)=>{var m=e=>{try{r(o.next(e))}catch(t){l(t)}},p=e=>{try{r(o.throw(e))}catch(t){l(t)}},r=e=>e.done?i(e.value):Promise.resolve(e.value).then(m,p);r((o=o.apply(y,d)).next())});import{u as E}from"./vxe-table-D5snAFuW.js";import{B as u,A as _}from"./bootstrap-CmOIY23B.js";import{g as v}from"./table-C-KLJmMh.js";import{_ as x}from"./page.vue_vue_type_script_setup_true_lang-B79NNVXE.js";import{d as R,D as w,n as f,E as n,j as g,u as a,m as B,F as $,H as k}from"../jse/index-index-Dn7Pga_E.js";import"./index-Dv_Q-tLx.js";import"./css-Dmgy8YJo.js";import"./useMergedState-DAlpYor9.js";import"./EyeOutlined-BULGo-Rb.js";import"./index-DqCPM53I.js";import"./colors-CDlQsefj.js";import"./index-BuhGstFT.js";import"./Trigger-B0Zd1YSB.js";import"./ResizeObserver.es-CDE7jhPe.js";import"./index-DCVhQ827.js";import"./FormItemContext-k0P1nm20.js";const I=R({__name:"edit-row",setup(y){const d={columns:[{title:"序号",type:"seq",width:50},{editRender:{name:"input"},field:"category",title:"Category"},{editRender:{name:"input"},field:"color",title:"Color"},{editRender:{name:"input"},field:"productName",title:"Product Name"},{field:"price",title:"Price"},{field:"releaseDate",formatter:"formatDateTime",title:"Date"},{slots:{default:"action"},title:"操作"}],editConfig:{mode:"row",trigger:"click"},height:"auto",pagerConfig:{},proxyConfig:{ajax:{query:t=>c(null,[t],function*({page:e}){return yield v({page:e.currentPage,pageSize:e.pageSize})})}},showOverflow:!0},[o,i]=E({gridOptions:d});function l(e){var t;return(t=i.grid)==null?void 0:t.isEditByRow(e)}function m(e){var t;(t=i.grid)==null||t.setEditRow(e)}function p(e){return c(this,null,function*(){var t;yield(t=i.grid)==null?void 0:t.clearEdit(),i.setLoading(!0),setTimeout(()=>{i.setLoading(!1),_.success({content:`保存成功！category=${e.category}`})},600)})}const r=e=>{var t;(t=i.grid)==null||t.clearEdit()};return(e,t)=>(f(),w(a(x),{"auto-content-height":""},{default:n(()=>[g(a(o),null,{action:n(({row:s})=>[l(s)?(f(),B($,{key:0},[g(a(u),{type:"link",onClick:C=>p(s)},{default:n(()=>[...t[0]||(t[0]=[k("保存",-1)])]),_:1},8,["onClick"]),g(a(u),{type:"link",onClick:C=>r(s)},{default:n(()=>[...t[1]||(t[1]=[k("取消",-1)])]),_:1},8,["onClick"])],64)):(f(),w(a(u),{key:1,type:"link",onClick:C=>m(s)},{default:n(()=>[...t[2]||(t[2]=[k("编辑",-1)])]),_:1},8,["onClick"]))]),_:1})]),_:1}))}});export{I as default};
