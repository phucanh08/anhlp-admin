var w=Math.pow;import{v as I,a_ as N,B as $,A as F}from"./bootstrap-CmOIY23B.js";import{C as M}from"./index-18-lVBa-.js";import{d as z,ap as B,r as E,e as P,w as R,ao as L,c as f,as as _,m as v,n as m,z as A,v as g,q as k,B as S,x as V,A as y,G as D,b as q,a4 as G,D as T,E as t,j as a,u as e,a2 as H,F as K,I as Q,H as O}from"../jse/index-index-Dn7Pga_E.js";import{F as W,a as r}from"./index-gRF9uEoc.js";import C from"./index-BJGWNYOq.js";import j from"./index-BO7piAaP.js";import{_ as J}from"./page.vue_vue_type_script_setup_true_lang-B79NNVXE.js";import{R as X,C as u}from"./index-DNC2mB8l.js";import c from"./index-DehqAyGo.js";import Y from"./index-DCVhQ827.js";import"./index-Cq5upoUv.js";import"./shallowequal-BOWVaEXw.js";import"./Trigger-B0Zd1YSB.js";import"./ResizeObserver.es-CDE7jhPe.js";import"./collapse-BuqCI_Sc.js";import"./Overflow-D-n6m9kG.js";import"./index-bMV-OEX7.js";import"./index-BuhGstFT.js";import"./colors-CDlQsefj.js";import"./collapseMotion-CW4DPm-L.js";import"./slide-DCDZKjHj.js";import"./useRefs-DsN55d7I.js";import"./hasIn-1TLaJpEW.js";import"./isMobile-8sZ0LT6r.js";import"./useMergedState-DAlpYor9.js";import"./isPlainObject-Cfyj4D1A.js";import"./responsiveObserve-CJ1ux-Ki.js";import"./useFlexGapSupport-DfzakgpO.js";import"./FormItemContext-k0P1nm20.js";import"./statusUtils-DTPv3Ou6.js";import"./BaseInput-C43ESQW7.js";import"./css-Dmgy8YJo.js";import"./index-CWW4frSs.js";import"./SearchOutlined-C8HQRqNf.js";import"./EyeOutlined-BULGo-Rb.js";import"./index-pYiCWgB9.js";import"./DownOutlined-CvF4JFGC.js";import"./CheckOutlined-CDn0qcio.js";import"./move-BkUR_TGH.js";const Z=z({__name:"count-to",props:{startVal:{default:0},endVal:{},disabled:{type:Boolean},delay:{default:0},duration:{default:2e3},decimals:{default:0},decimal:{default:"."},separator:{default:","},prefix:{},suffix:{},transition:{type:[Array,Function],default:()=>B.easeOutExpo},mainClass:{},decimalClass:{},prefixClass:{},suffixClass:{},mainStyle:{type:[Boolean,null,String,Object,Array]},decimalStyle:{type:[Boolean,null,String,Object,Array]},prefixStyle:{type:[Boolean,null,String,Object,Array]},suffixStyle:{type:[Boolean,null,String,Object,Array]}},emits:["started","finished"],setup(s,{emit:l}){const o=s,x=l,p=E(o.startVal);P(()=>{p.value=o.endVal}),R(()=>o.endVal,d=>{p.value=d});const b=L(p,{delay:f(()=>o.delay),duration:f(()=>o.duration),disabled:f(()=>o.disabled),transition:f(()=>_(o.transition)?B[o.transition]:o.transition),onStarted(){x("started")},onFinished(){x("finished")}}),U=f(()=>{var i;return(i=b.value.toFixed(o.decimals).split(".")[0])==null?void 0:i.replaceAll(/\B(?=(\d{3})+(?!\d))/g,o.separator)}),n=f(()=>o.decimal+b.value.toFixed(o.decimals).split(".")[1]);return(d,i)=>(m(),v("div",D({class:"count-to"},d.$attrs),[A(d.$slots,"prefix",{},()=>[s.prefix?(m(),v("div",{key:0,class:V(["count-to-prefix",s.prefixClass]),style:S(s.prefixStyle)},y(s.prefix),7)):k("",!0)],!0),g("div",{class:V(["count-to-main",s.mainClass]),style:S(s.mainStyle)},[g("span",null,y(U.value),1),s.decimals>0?(m(),v("span",{key:0,class:V(["count-to-main-decimal",s.decimalClass]),style:S(s.decimalStyle)},y(n.value),7)):k("",!0)],6),A(d.$slots,"suffix",{},()=>[s.suffix?(m(),v("div",{key:0,class:V(["count-to-suffix",s.suffixClass]),style:S(s.suffixStyle)},y(s.suffix),7)):k("",!0)],!0)],16))}}),h=I(Z,[["__scopeId","data-v-c8144b93"]]),ee=Object.keys(B),ae={class:"flex w-full items-center justify-center pb-4"},_e=z({__name:"index",setup(s){const l=q({decimal:".",decimals:2,decimalStyle:{fontSize:"small",fontStyle:"italic"},delay:0,disabled:!1,duration:2e3,endVal:1e5,mainStyle:{color:"hsl(var(--primary))",fontSize:"xx-large",fontWeight:"bold"},prefix:"￥",prefixStyle:{paddingRight:"0.5rem"},separator:",",startVal:0,suffix:"元",suffixStyle:{paddingLeft:"0.5rem"},transition:"easeOutQuart"});function o(){l.endVal=Math.floor(Math.random()*1e8)/w(10,l.decimals||0)}function x(){window.open("https://vueuse.org/core/useTransition/","_blank")}function p(){F.loading({content:"动画已开始",duration:0,key:"animator-info"})}function b(){F.success({content:"动画已结束",duration:2,key:"animator-info"})}return(U,n)=>{const d=G("tippy");return m(),T(e(J),{title:"CountTo",description:"数字滚动动画组件。使用"},{description:t(()=>[n[12]||(n[12]=g("span",null," 使用useTransition封装的数字滚动动画组件，每次改变当前值都会产生过渡动画。 ",-1)),a(e($),{type:"link",onClick:x},{default:t(()=>[...n[11]||(n[11]=[O(" 查看useTransition文档 ",-1)])]),_:1})]),default:t(()=>[a(e(M),{title:"基本用法"},{default:t(()=>[g("div",ae,[a(e(h),D(l,{onStarted:p,onFinished:b}),null,16)]),a(e(W),{model:l},{default:t(()=>[a(e(X),{gutter:20},{default:t(()=>[a(e(u),{span:8},{default:t(()=>[a(e(r),{label:"初始值",name:"startVal"},{default:t(()=>[a(e(c),{value:l.startVal,"onUpdate:value":n[0]||(n[0]=i=>l.startVal=i)},null,8,["value"])]),_:1})]),_:1}),a(e(u),{span:8},{default:t(()=>[a(e(r),{label:"当前值",name:"endVal"},{default:t(()=>[a(e(c),{value:l.endVal,"onUpdate:value":n[1]||(n[1]=i=>l.endVal=i),class:"w-full",precision:l.decimals},{addonAfter:t(()=>[H(a(e(N),{class:"size-5 cursor-pointer outline-none",icon:"ix:random-filled",onClick:o},null,512),[[d,"设置一个随机值"]])]),_:1},8,["value","precision"])]),_:1})]),_:1}),a(e(u),{span:8},{default:t(()=>[a(e(r),{label:"禁用动画",name:"disabled"},{default:t(()=>[a(e(Y),{modelValue:l.disabled,"onUpdate:modelValue":n[2]||(n[2]=i=>l.disabled=i)},null,8,["modelValue"])]),_:1})]),_:1}),a(e(u),{span:8},{default:t(()=>[a(e(r),{label:"延迟动画",name:"delay"},{default:t(()=>[a(e(c),{value:l.delay,"onUpdate:value":n[3]||(n[3]=i=>l.delay=i),min:0},null,8,["value"])]),_:1})]),_:1}),a(e(u),{span:8},{default:t(()=>[a(e(r),{label:"持续时间",name:"duration"},{default:t(()=>[a(e(c),{value:l.duration,"onUpdate:value":n[4]||(n[4]=i=>l.duration=i),min:0},null,8,["value"])]),_:1})]),_:1}),a(e(u),{span:8},{default:t(()=>[a(e(r),{label:"小数位数",name:"decimals"},{default:t(()=>[a(e(c),{value:l.decimals,"onUpdate:value":n[5]||(n[5]=i=>l.decimals=i),min:0,precision:0},null,8,["value"])]),_:1})]),_:1}),a(e(u),{span:8},{default:t(()=>[a(e(r),{label:"分隔符",name:"separator"},{default:t(()=>[a(e(C),{value:l.separator,"onUpdate:value":n[6]||(n[6]=i=>l.separator=i)},null,8,["value"])]),_:1})]),_:1}),a(e(u),{span:8},{default:t(()=>[a(e(r),{label:"小数点",name:"decimal"},{default:t(()=>[a(e(C),{value:l.decimal,"onUpdate:value":n[7]||(n[7]=i=>l.decimal=i)},null,8,["value"])]),_:1})]),_:1}),a(e(u),{span:8},{default:t(()=>[a(e(r),{label:"动画",name:"transition"},{default:t(()=>[a(e(j),{value:l.transition,"onUpdate:value":n[8]||(n[8]=i=>l.transition=i)},{default:t(()=>[(m(!0),v(K,null,Q(e(ee),i=>(m(),T(e(j).Option,{key:i,value:i},{default:t(()=>[O(y(i),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1}),a(e(u),{span:8},{default:t(()=>[a(e(r),{label:"前缀",name:"prefix"},{default:t(()=>[a(e(C),{value:l.prefix,"onUpdate:value":n[9]||(n[9]=i=>l.prefix=i)},null,8,["value"])]),_:1})]),_:1}),a(e(u),{span:8},{default:t(()=>[a(e(r),{label:"后缀",name:"suffix"},{default:t(()=>[a(e(C),{value:l.suffix,"onUpdate:value":n[10]||(n[10]=i=>l.suffix=i)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})}}});export{_e as default};
