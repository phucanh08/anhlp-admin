var A=Object.defineProperty,O=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var k=(t,i,e)=>i in t?A(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,T=(t,i)=>{for(var e in i||(i={}))L.call(i,e)&&k(t,e,i[e]);if(E)for(var e of E(i))H.call(i,e)&&k(t,e,i[e]);return t},V=(t,i)=>O(t,D(i));import{_ as N}from"./doc-button.vue_vue_type_script_setup_true_lang-DbNX43sX.js";import{C as h}from"./index-18-lVBa-.js";import{d as C,c as j,r as f,ar as F,e as R,f as U,o as q,a as G,m as P,n as _,j as s,E as o,z as b,v as m,G as I,u as a,D as J,H as n,A as y}from"../jse/index-index-Dn7Pga_E.js";import{bs as K,v as Q}from"./bootstrap-CmOIY23B.js";import{_ as X}from"./page.vue_vue_type_script_setup_true_lang-B79NNVXE.js";import"./index-Cq5upoUv.js";import"./shallowequal-BOWVaEXw.js";import"./Trigger-B0Zd1YSB.js";import"./ResizeObserver.es-CDE7jhPe.js";import"./collapse-BuqCI_Sc.js";import"./Overflow-D-n6m9kG.js";import"./index-bMV-OEX7.js";import"./index-BuhGstFT.js";import"./colors-CDlQsefj.js";import"./collapseMotion-CW4DPm-L.js";import"./slide-DCDZKjHj.js";import"./useRefs-DsN55d7I.js";import"./hasIn-1TLaJpEW.js";import"./isMobile-8sZ0LT6r.js";import"./useMergedState-DAlpYor9.js";import"./isPlainObject-Cfyj4D1A.js";const Y=C({__name:"ellipsis-text",props:{expand:{type:Boolean,default:!1},line:{default:1},maxWidth:{default:"100%"},placement:{default:"top"},tooltip:{type:Boolean,default:!0},tooltipWhenEllipsis:{type:Boolean,default:!1},ellipsisThreshold:{default:3},tooltipBackgroundColor:{default:""},tooltipColor:{default:""},tooltipFontSize:{default:14},tooltipMaxWidth:{default:void 0},tooltipOverlayStyle:{default:()=>({textAlign:"justify"})}},emits:["expandChange"],setup(t,{emit:i}){const e=t,r=i,$=j(()=>typeof e.maxWidth=="number"?`${e.maxWidth}px`:e.maxWidth),u=f(),d=f(!1),g=f(),x=f(!1),{width:W}=F(u),c=()=>{if(!u.value||!e.tooltipWhenEllipsis)return;const l=u.value;if(!(l.textContent||"").trim()){x.value=!1;return}const B=l.scrollWidth-l.clientWidth,z=l.scrollHeight-l.clientHeight;x.value=e.line===1?B>e.ellipsisThreshold:z>e.ellipsisThreshold};let p=null;R(()=>{typeof ResizeObserver!="undefined"&&e.tooltipWhenEllipsis&&(p=new ResizeObserver(()=>{c()}),u.value&&p.observe(u.value)),c()}),U(()=>{e.tooltipWhenEllipsis&&c()}),q(()=>{p&&(p.disconnect(),p=null)}),G(()=>{var l;e.tooltip&&W.value&&(g.value=(l=e.tooltipMaxWidth)!=null?l:W.value+24)},{flush:"post"});function S(){d.value=!d.value,r("expandChange",d.value),e.tooltipWhenEllipsis&&c()}function w(){e.expand&&S()}return(l,M)=>(_(),P("div",null,[s(a(K),{"content-style":V(T({},t.tooltipOverlayStyle),{maxWidth:`${g.value}px`,fontSize:`${t.tooltipFontSize}px`,color:t.tooltipColor,backgroundColor:t.tooltipBackgroundColor}),disabled:!e.tooltip||d.value||e.tooltipWhenEllipsis&&!x.value,side:t.placement},{trigger:o(()=>[m("div",I({ref_key:"ellipsis",ref:u,class:[{"!cursor-pointer":t.expand,"block truncate":t.line===1,[l.$style.ellipsisMultiLine]:t.line>1},"cursor-text overflow-hidden"],style:{"-webkit-line-clamp":d.value?"":t.line,"max-width":$.value},onClick:w},l.$attrs),[b(l.$slots,"default")],16)]),default:o(()=>[b(l.$slots,"tooltip",{},()=>[b(l.$slots,"default")])]),_:3},8,["content-style","disabled","side"])]))}}),Z="_ellipsisMultiLine_fwtmq_2",ee={ellipsisMultiLine:Z},te={$style:ee},v=Q(Y,[["__cssModules",te]]),ie="Vben Admin 是一个基于 Vue3.0、Vite、 TypeScript 的后台解决方案，目标是为开发中大型项目提供开箱即用的解决方案。包括二次封装组件、utils、hooks、动态菜单、权限校验、多主题配置、按钮级别权限控制等功能。项目会使用前端较新的技术栈，可以作为项目的启动模版，以帮助你快速搭建企业级中后台产品原型。也可以作为一个示例，用于学习 vue3、vite、ts 等主流技术。该项目会持续跟进最新技术，并将其应用在项目中。Vben Admin 是一个基于 Vue3.0、Vite、 TypeScript 的后台解决方案，目标是为开发中大型项目提供开箱即用的解决方案。包括二次封装组件、utils、hooks、动态菜单、权限校验、多主题配置、按钮级别权限控制等功能。项目会使用前端较新的技术栈，可以作为项目的启动模版，以帮助你快速搭建企业级中后台产品原型。也可以作为一个示例，用于学习 vue3、vite、ts 等主流技术。该项目会持续跟进最新技术，并将其应用在项目中。Vben Admin 是一个基于 Vue3.0、Vite、 TypeScript 的后台解决方案，目标是为开发中大型项目提供开箱即用的解决方案。包括二次封装组件、utils、hooks、动态菜单、权限校验、多主题配置、按钮级别权限控制等功能。项目会使用前端较新的技术栈，可以作为项目的启动模版，以帮助你快速搭建企业级中后台产品原型。也可以作为一个示例，用于学习 vue3、vite、ts 等主流技术。该项目会持续跟进最新技术，并将其应用在项目中。Vben Admin 是一个基于 Vue3.0、Vite、 TypeScript 的后台解决方案，目标是为开发中大型项目提供开箱即用的解决方案。包括二次封装组件、utils、hooks、动态菜单、权限校验、多主题配置、按钮级别权限控制等功能。项目会使用前端较新的技术栈，可以作为项目的启动模版，以帮助你快速搭建企业级中后台产品原型。也可以作为一个示例，用于学习 vue3、vite、ts 等主流技术。该项目会持续跟进最新技术，并将其应用在项目中。",Ce=C({__name:"index",setup(t){const i=f(ie);return(e,r)=>(_(),J(a(X),{description:"用于多行文本省略，支持点击展开和自定义内容。",title:"文本省略组件示例"},{extra:o(()=>[s(N,{class:"mb-2",path:"/components/common-ui/vben-ellipsis-text"})]),default:o(()=>[s(a(h),{class:"mb-4",title:"基本使用"},{default:o(()=>[s(a(v),{"max-width":500},{default:o(()=>[n(y(i.value),1)]),_:1})]),_:1}),s(a(h),{class:"mb-4",title:"多行省略"},{default:o(()=>[s(a(v),{line:2},{default:o(()=>[n(y(i.value),1)]),_:1})]),_:1}),s(a(h),{class:"mb-4",title:"点击展开"},{default:o(()=>[s(a(v),{line:3,expand:""},{default:o(()=>[n(y(i.value),1)]),_:1})]),_:1}),s(a(h),{class:"mb-4",title:"自定义内容"},{default:o(()=>[s(a(v),{"max-width":240},{tooltip:o(()=>[...r[0]||(r[0]=[m("div",{style:{"text-align":"center"}},[n(" 《秦皇岛》"),m("br"),n("住在我心里孤独的"),m("br"),n("孤独的海怪 痛苦之王"),m("br"),n("开始厌倦 深海的光 停滞的海浪 ")],-1)])]),default:o(()=>[r[1]||(r[1]=n(" 住在我心里孤独的 孤独的海怪 痛苦之王 开始厌倦 深海的光 停滞的海浪 ",-1))]),_:1})]),_:1})]),_:1}))}});export{Ce as default};
