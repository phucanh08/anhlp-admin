var d=(x,i,o)=>new Promise((g,u)=>{var l=e=>{try{r(o.next(e))}catch(p){u(p)}},c=e=>{try{r(o.throw(e))}catch(p){u(p)}},r=e=>e.done?g(e.value):Promise.resolve(e.value).then(l,c);r((o=o.apply(x,i)).next())});import{ab as B,ac as _,ad as v,T,B as f,ae as C}from"./bootstrap-CmOIY23B.js";import{C as k}from"./index-18-lVBa-.js";import{_ as $}from"./page.vue_vue_type_script_setup_true_lang-B79NNVXE.js";import{d as b,D as M,n as N,E as n,j as a,u as s,v as w,A as S,H as y}from"../jse/index-index-Dn7Pga_E.js";import"./index-Cq5upoUv.js";import"./shallowequal-BOWVaEXw.js";import"./Trigger-B0Zd1YSB.js";import"./ResizeObserver.es-CDE7jhPe.js";import"./collapse-BuqCI_Sc.js";import"./Overflow-D-n6m9kG.js";import"./index-bMV-OEX7.js";import"./index-BuhGstFT.js";import"./colors-CDlQsefj.js";import"./collapseMotion-CW4DPm-L.js";import"./slide-DCDZKjHj.js";import"./useRefs-DsN55d7I.js";import"./hasIn-1TLaJpEW.js";import"./isMobile-8sZ0LT6r.js";import"./useMergedState-DAlpYor9.js";import"./isPlainObject-Cfyj4D1A.js";const R={class:"mx-4 text-primary"},h=b({__name:"index",setup(x){const i={admin:{password:"123456",username:"admin"},super:{password:"123456",username:"vben"},user:{password:"123456",username:"jack"}},{accessMode:o,toggleAccessMode:g}=B(),u=_(),l=v(),c=T();function r(m){return u.userRoles.includes(m)?"primary":"default"}function e(m){return d(this,null,function*(){if(u.userRoles.includes(m))return;const t=i[m];C(),t&&(yield l.authLogin(t,()=>d(null,null,function*(){c.go(0)})))})}function p(){return d(this,null,function*(){i.super&&(yield g(),C(),yield l.authLogin(i.super,()=>d(null,null,function*(){setTimeout(()=>{c.go(0)},150)})))})}return(m,t)=>(N(),M(s($),{title:`${s(o)==="frontend"?"前端":"后端"}页面访问权限演示`,description:"切换不同的账号，观察左侧菜单变化。"},{default:n(()=>[a(s(k),{class:"mb-5",title:"权限模式"},{default:n(()=>[t[3]||(t[3]=w("span",{class:"font-semibold"},"当前权限模式:",-1)),w("span",R,S(s(o)==="frontend"?"前端权限控制":"后端权限控制"),1),a(s(f),{type:"primary",onClick:p},{default:n(()=>[y(" 切换为"+S(s(o)==="frontend"?"后端":"前端")+"权限模式 ",1)]),_:1})]),_:1}),a(s(k),{title:"账号切换"},{default:n(()=>[a(s(f),{type:r("super"),onClick:t[0]||(t[0]=A=>e("super"))},{default:n(()=>[...t[4]||(t[4]=[y(" 切换为 Super 账号 ",-1)])]),_:1},8,["type"]),a(s(f),{type:r("admin"),class:"mx-4",onClick:t[1]||(t[1]=A=>e("admin"))},{default:n(()=>[...t[5]||(t[5]=[y(" 切换为 Admin 账号 ",-1)])]),_:1},8,["type"]),a(s(f),{type:r("user"),onClick:t[2]||(t[2]=A=>e("user"))},{default:n(()=>[...t[6]||(t[6]=[y(" 切换为 User 账号 ",-1)])]),_:1},8,["type"])]),_:1})]),_:1},8,["title"]))}});export{h as default};
