import{f as O,_ as h}from"./bootstrap-CmOIY23B.js";import{i as R}from"./ResizeObserver.es-CDE7jhPe.js";import{d as C,b as x,e as M,f as H,h as W,w as _,g as B}from"../jse/index-index-Dn7Pga_E.js";const y=C({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(i,v){let{slots:l}=v;const n=x({width:0,height:0,offsetHeight:0,offsetWidth:0});let c=null,s=null;const r=()=>{s&&(s.disconnect(),s=null)},b=e=>{const{onResize:t}=i,o=e[0].target,{width:p,height:w}=o.getBoundingClientRect(),{offsetWidth:a,offsetHeight:f}=o,g=Math.floor(p),m=Math.floor(w);if(n.width!==g||n.height!==m||n.offsetWidth!==a||n.offsetHeight!==f){const u={width:g,height:m,offsetWidth:a,offsetHeight:f};h(n,u),t&&Promise.resolve().then(()=>{t(h(h({},u),{offsetWidth:a,offsetHeight:f}),o)})}},z=B(),d=()=>{const{disabled:e}=i;if(e){r();return}const t=O(z);t!==c&&(r(),c=t),!s&&t&&(s=new R(b),s.observe(t))};return M(()=>{d()}),H(()=>{d()}),W(()=>{r()}),_(()=>i.disabled,()=>{d()},{flush:"post"}),()=>{var e;return(e=l.default)===null||e===void 0?void 0:e.call(l)[0]}}});export{y as R};
