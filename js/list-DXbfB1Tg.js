var h=(_,m,o)=>new Promise((u,r)=>{var d=t=>{try{i(o.next(t))}catch(s){r(s)}},l=t=>{try{i(o.throw(t))}catch(s){r(s)}},i=t=>t.done?u(t.value):Promise.resolve(t.value).then(d,l);i((o=o.apply(_,m)).next())});import{B as y,$ as c,A as C}from"./bootstrap-CmOIY23B.js";import{u as k}from"./vxe-table-D5snAFuW.js";import{_ as b,u as x,g as D,d as A}from"./form.vue_vue_type_script_setup_true_lang-DQWa7FkI.js";import{_ as M}from"./page.vue_vue_type_script_setup_true_lang-B79NNVXE.js";import{d as V,D as B,n as S,E as f,j as p,u as a,H as $,A as E}from"../jse/index-index-Dn7Pga_E.js";import{u as F}from"./use-modal-Brudt_15.js";import{P as G}from"./plus-DMpoty4I.js";import"./index-Dv_Q-tLx.js";import"./css-Dmgy8YJo.js";import"./useMergedState-DAlpYor9.js";import"./EyeOutlined-BULGo-Rb.js";import"./index-DqCPM53I.js";import"./colors-CDlQsefj.js";import"./index-BuhGstFT.js";import"./Trigger-B0Zd1YSB.js";import"./ResizeObserver.es-CDE7jhPe.js";import"./index-DCVhQ827.js";import"./FormItemContext-k0P1nm20.js";import"./DialogTitle-yaBRErHk.js";import"./x-BOl5kJMD.js";const ee=V({__name:"list",setup(_){const[m,o]=F({connectedComponent:b,destroyOnClose:!0});function u(e){o.setData(e).open()}function r(e){o.setData({pid:e.id}).open()}function d(){o.setData(null).open()}function l(e){const n=C.loading({content:c("ui.actionMessage.deleting",[e.name]),duration:0,key:"action_process_msg"});A(e.id).then(()=>{C.success({content:c("ui.actionMessage.deleteSuccess",[e.name]),key:"action_process_msg"}),g()}).catch(()=>{n()})}function i({code:e,row:n}){switch(e){case"append":{r(n);break}case"delete":{l(n);break}case"edit":{u(n);break}}}const[t,s]=k({gridEvents:{},gridOptions:{columns:x(i),height:"auto",keepSource:!0,pagerConfig:{enabled:!1},proxyConfig:{ajax:{query:e=>h(null,null,function*(){return yield D()})}},toolbarConfig:{custom:!0,export:!1,refresh:!0,zoom:!0},treeConfig:{parentField:"pid",rowField:"id",transform:!1}}});function g(){s.query()}return(e,n)=>(S(),B(a(M),{"auto-content-height":""},{default:f(()=>[p(a(m),{onSuccess:g}),p(a(t),{"table-title":"部门列表"},{"toolbar-tools":f(()=>[p(a(y),{type:"primary",onClick:d},{default:f(()=>[p(a(G),{class:"size-5"}),$(" "+E(a(c)("ui.actionTitle.create",[a(c)("system.dept.name")])),1)]),_:1})]),_:1})]),_:1}))}});export{ee as default};
