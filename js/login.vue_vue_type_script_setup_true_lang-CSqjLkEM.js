var De=Object.defineProperty,Pe=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var fe=(e,n,a)=>n in e?De(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,I=(e,n)=>{for(var a in n||(n={}))pe.call(n,a)&&fe(e,a,n[a]);if(te)for(var a of te(n))me.call(n,a)&&fe(e,a,n[a]);return e},Q=(e,n)=>Pe(e,Be(n));var ne=(e,n)=>{var a={};for(var s in e)pe.call(e,s)&&n.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&te)for(var s of te(e))n.indexOf(s)<0&&me.call(e,s)&&(a[s]=e[s]);return a};var oe=(e,n,a)=>new Promise((s,l)=>{var r=f=>{try{i(a.next(f))}catch(m){l(m)}},o=f=>{try{i(a.throw(f))}catch(m){l(m)}},i=f=>f.done?s(f.value):Promise.resolve(f.value).then(r,o);i((a=a.apply(e,n)).next())});import{bp as G,bw as Se,b9 as be,aF as re,bx as Le,by as ce,aV as Re,bz as Te,a7 as Me,bA as _e,bv as Ee,bB as Ie,bC as qe,bo as Fe,aW as v,bb as we,bD as Oe,bE as Ve,aY as X,bF as ze,bG as ge,bH as We,bI as Ne,bJ as Z,bK as Ue,bL as je,bM as Qe,bN as Xe,bO as Ke,aX as Ge,bP as Ye,bm as He,bQ as Je}from"./bootstrap-CQbOoz5A.js";import{a1 as y,ai as p,aj as c,ak as u,al as b,av as z,aw as W,a9 as t,L as V,ag as Y,V as xe,aa as Ce,ap as B,E as R,p as h,an as A,am as H,aS as K,bu as U,aR as O,ax as q,ay as k,aW as ae,aX as $e,P as ke,U as Ze,a6 as et,bE as tt,b0 as he,f as ee,az as D,ar as se,a as nt,bF as ot,M as at}from"../jse/index-index-dOqq_LZr.js";import{T as st}from"./auth-title-B6JOFQ3y.js";import{C as lt,a as it,u as rt,s as le,b as ct}from"./use-vben-form-DEIMVwum.js";import{D as Ae,a as ut,b as dt,c as ft,d as pt,C as mt,X as gt,u as ht}from"./use-modal-_GP-vJBZ.js";import{_ as ve}from"./render-content.vue_vue_type_script_lang-BdAF7fvf.js";var vt=y({__name:"AlertDialogAction",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;return G(),(a,s)=>(c(),p(t(Ae),z(W(n)),{default:u(()=>[b(a.$slots,"default")]),_:3},16))}}),yt=vt;const[bt,_t]=be("AlertDialogContent");var wt=y({__name:"AlertDialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=e,l=Se(n);G();const r=V();return _t({onCancelElementChange:o=>{r.value=o}}),(o,i)=>(c(),p(t(ut),Y(I(I({},a),t(l)),{role:"alertdialog",onPointerDownOutside:i[0]||(i[0]=re(()=>{},["prevent"])),onInteractOutside:i[1]||(i[1]=re(()=>{},["prevent"])),onOpenAutoFocus:i[2]||(i[2]=()=>{xe(()=>{var f;(f=r.value)==null||f.focus({preventScroll:!0})})})}),{default:u(()=>[b(o.$slots,"default")]),_:3},16))}}),xt=wt,Ct=y({__name:"AlertDialogCancel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,a=bt(),{forwardRef:s,currentElement:l}=G();return Ce(()=>{a.onCancelElementChange(l.value)}),(r,o)=>(c(),p(t(Ae),Y(n,{ref:t(s)}),{default:u(()=>[b(r.$slots,"default")]),_:3},16))}}),$t=Ct,kt=y({__name:"AlertDialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(e){const n=e;return G(),(a,s)=>(c(),p(t(dt),z(W(n)),{default:u(()=>[b(a.$slots,"default")]),_:3},16))}}),At=kt,Dt=y({__name:"AlertDialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(a,s)=>(c(),p(t(Le),z(W(n)),{default:u(()=>[b(a.$slots,"default")]),_:3},16))}}),Pt=Dt,Bt=y({__name:"AlertDialogRoot",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:n}){const l=ce(e,n);return G(),(r,o)=>(c(),p(t(ft),Y(t(l),{modal:!0}),{default:u(i=>[b(r.$slots,"default",z(W(i)))]),_:3},16))}}),St=Bt,Lt=y({__name:"AlertDialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const n=e;return G(),(a,s)=>(c(),p(t(pt),z(W(n)),{default:u(()=>[b(a.$slots,"default")]),_:3},16))}}),Rt=Lt;const Tt=Re("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Mt=y({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const l=ce(e,n);return(r,o)=>(c(),p(t(St),z(W(t(l))),{default:u(()=>[b(r.$slots,"default")]),_:3},16))}}),Et=y({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{}},setup(e){const n=e;return(a,s)=>(c(),p(t(yt),z(W(n)),{default:u(()=>[b(a.$slots,"default")]),_:3},16))}}),ye=y({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{}},setup(e){const n=e;return(a,s)=>(c(),p(t($t),z(W(n)),{default:u(()=>[b(a.$slots,"default")]),_:3},16))}}),It={class:"z-popup inset-0 bg-overlay"},qt=y({__name:"AlertDialogOverlay",setup(e){return Te(),(n,a)=>(c(),B("div",It))}}),Ft=y({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},centered:{type:Boolean},class:{},modal:{type:Boolean,default:!0},open:{type:Boolean},overlayBlur:{},zIndex:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","close","closed","opened"],setup(e,{expose:n,emit:a}){const s=e,l=a,r=R(()=>{const w=s,{class:m,modal:g,open:$}=w;return ne(w,["class","modal","open"])}),o=ce(r,l),i=V(null);function f(m){var g;m.target===((g=i.value)==null?void 0:g.$el)&&(s.open?l("opened"):l("closed"))}return n({getContentRef:()=>i.value}),(m,g)=>(c(),p(t(Pt),null,{default:u(()=>[h(Me,{name:"fade",appear:""},{default:u(()=>[e.open&&e.modal?(c(),p(qt,{key:0,style:H(Q(I({},e.zIndex?{zIndex:e.zIndex}:{}),{position:"fixed",backdropFilter:e.overlayBlur&&e.overlayBlur>0?`blur(${e.overlayBlur}px)`:"none"})),onClick:g[0]||(g[0]=()=>l("close"))},null,8,["style"])):A("",!0)]),_:1}),h(t(xt),Y({ref_key:"contentRef",ref:i,style:Q(I({},e.zIndex?{zIndex:e.zIndex}:{}),{position:"fixed"}),onAnimationend:f},t(o),{class:t(K)("z-popup bg-background p-6 shadow-lg outline-none sm:rounded-xl","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95",{"data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-top-[48%]":!e.centered,"data-[state=closed]:slide-out-to-top-[148%] data-[state=open]:slide-in-from-top-[98%]":e.centered,"top-[10vh]":!e.centered,"top-1/2 -translate-y-1/2":e.centered},s.class)}),{default:u(()=>[b(m.$slots,"default")]),_:3},16,["style","class"])]),_:3}))}}),Ot=y({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,a=R(()=>{const o=n,{class:l}=o;return ne(o,["class"])}),s=_e(a);return(l,r)=>(c(),p(t(At),Y(t(s),{class:t(K)("text-sm text-muted-foreground",n.class)}),{default:u(()=>[b(l.$slots,"default")]),_:3},16,["class"]))}}),Vt=y({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,a=R(()=>{const o=n,{class:l}=o;return ne(o,["class"])}),s=_e(a);return(l,r)=>(c(),p(t(Rt),Y(t(s),{class:t(K)("text-lg font-semibold leading-none tracking-tight",n.class)}),{default:u(()=>[b(l.$slots,"default")]),_:3},16,["class"]))}}),zt=y({__name:"spine-text",props:{animationDuration:{default:2},animationIterationCount:{default:"infinite"}},setup(e){const n=R(()=>({animation:`shine ${e.animationDuration}s linear ${e.animationIterationCount}`}));return(a,s)=>(c(),B("div",{style:H(n.value),class:"vben-spine-text !bg-clip-text text-transparent"},[b(a.$slots,"default")],4))}}),Wt=y({__name:"slider-captcha-action",props:{actionStyle:{},isPassing:{type:Boolean},toLeft:{type:Boolean}},setup(e,{expose:n}){const a=e,s=U("actionRef"),l=V("0"),r=R(()=>{const{actionStyle:i}=a;return Q(I({},i),{left:l.value})}),o=R(()=>Number.parseInt(l.value)>10&&!a.isPassing);return n({getEl:()=>s.value,getStyle:()=>{var i;return(i=s==null?void 0:s.value)==null?void 0:i.style},setLeft:i=>{l.value=i}}),(i,f)=>(c(),B("div",{ref_key:"actionRef",ref:s,class:O([{"transition-width !left-0 duration-300":e.toLeft,"rounded-md":o.value},"bg-background dark:bg-accent absolute left-0 top-0 flex h-full cursor-move items-center justify-center px-3.5 shadow-md"]),style:H(r.value),name:"captcha-action"},[h(t(Ee),{"is-passing":e.isPassing,class:"text-foreground/60 size-4"},{default:u(()=>[b(i.$slots,"icon",{},()=>[e.isPassing?(c(),p(t(qe),{key:1})):(c(),p(t(Ie),{key:0}))])]),_:3},8,["is-passing"])],6))}}),Nt=y({__name:"slider-captcha-bar",props:{barStyle:{},toLeft:{type:Boolean}},setup(e,{expose:n}){const a=e,s=U("barRef"),l=V("0"),r=R(()=>{const{barStyle:o}=a;return Q(I({},o),{width:l.value})});return n({getEl:()=>s.value,setWidth:o=>{l.value=o}}),(o,i)=>(c(),B("div",{ref_key:"barRef",ref:s,class:O([e.toLeft&&"transition-width !w-0 duration-300","bg-success absolute h-full"]),style:H(r.value)},null,6))}}),Ut=y({__name:"slider-captcha-content",props:{contentStyle:{},isPassing:{type:Boolean},successText:{},text:{}},setup(e,{expose:n}){const a=e,s=U("contentRef"),l=R(()=>{const{contentStyle:r}=a;return I({},r)});return n({getEl:()=>s.value}),(r,o)=>(c(),B("div",{ref_key:"contentRef",ref:s,class:O([{[r.$style.success]:e.isPassing},"absolute top-0 flex size-full select-none items-center justify-center text-xs"]),style:H(l.value)},[b(r.$slots,"text",{},()=>[h(t(zt),{class:"flex h-full items-center"},{default:u(()=>[q(k(e.isPassing?e.successText:e.text),1)]),_:1})])],6))}}),jt="_success_fwxn1_2",Qt={success:jt},Xt={$style:Qt},Kt=Fe(Ut,[["__cssModules",Xt]]),Gt=y({__name:"index",props:ae({class:{},actionStyle:{default:()=>({})},barStyle:{default:()=>({})},contentStyle:{default:()=>({})},wrapperStyle:{default:()=>({})},isSlot:{type:Boolean,default:!1},successText:{default:""},text:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ae(["end","move","start","success"],["update:modelValue"]),setup(e,{expose:n,emit:a}){const s=e,l=a,r=$e(e,"modelValue"),o=ke({endTime:0,isMoving:!1,isPassing:!1,moveDistance:0,startTime:0,toLeft:!1});n({resume:C});const i=U("wrapperRef"),f=U("barRef"),m=U("contentRef"),g=U("actionRef");Ze(()=>o.isPassing,d=>{if(d){const{endTime:P,startTime:L}=o,T=(P-L)/1e3;l("success",{isPassing:d,time:T.toFixed(1)}),r.value=d}}),et(()=>{o.isPassing=!!r.value});function $(d){return"pageX"in d?d.pageX:"touches"in d&&d.touches[0]?d.touches[0].pageX:0}function S(d){o.isPassing||g.value&&(l("start",d),o.moveDistance=$(d)-Number.parseInt(g.value.getStyle().left.replace("px","")||"0",10),o.startTime=Date.now(),o.isMoving=!0)}function w(d){var M,E,N;const P=(E=(M=i.value)==null?void 0:M.offsetWidth)!=null?E:220,L=(N=d==null?void 0:d.offsetWidth)!=null?N:40,T=P-L-6;return{actionWidth:L,offset:T,wrapperWidth:P}}function _(d){const{isMoving:P,moveDistance:L}=o;if(P){const T=t(g),M=t(f);if(!T||!M)return;const{actionWidth:E,offset:N,wrapperWidth:J}=w(T.getEl()),F=$(d)-L;l("move",{event:d,moveDistance:L,moveX:F}),F>0&&F<=N?(T.setLeft(`${F}px`),M.setWidth(`${F+E/2}px`)):F>N&&(T.setLeft(`${J-E}px`),M.setWidth(`${J-E/2}px`),s.isSlot||j())}}function x(d){const{isMoving:P,isPassing:L,moveDistance:T}=o;if(P&&!L){l("end",d);const M=g.value,E=t(f);if(!M||!E)return;const N=$(d)-T,{actionWidth:J,offset:F,wrapperWidth:ue}=w(M.getEl());N<F?s.isSlot?setTimeout(()=>{if(r.value){const de=t(m);de&&(de.getEl().style.width=`${Number.parseInt(E.getEl().style.width)}px`)}else C()},0):C():(M.setLeft(`${ue-J}px`),E.setWidth(`${ue-J/2}px`),j()),o.isMoving=!1}}function j(){if(s.isSlot){C();return}o.endTime=Date.now(),o.isPassing=!0,o.isMoving=!1}function C(){o.isMoving=!1,o.isPassing=!1,o.moveDistance=0,o.toLeft=!1,o.startTime=0,o.endTime=0;const d=t(g),P=t(f),L=t(m);!d||!P||!L||(L.getEl().style.width="100%",o.toLeft=!0,tt(()=>{o.toLeft=!1,d.setLeft("0"),P.setWidth("0")},300))}return(d,P)=>(c(),B("div",{ref_key:"wrapperRef",ref:i,class:O(t(K)("border-border bg-background-deep relative flex h-10 w-full items-center overflow-hidden rounded-md border text-center",s.class)),style:H(e.wrapperStyle),onMouseleave:x,onMousemove:_,onMouseup:x,onTouchend:x,onTouchmove:_},[h(Nt,{ref_key:"barRef",ref:f,"bar-style":e.barStyle,"to-left":o.toLeft},null,8,["bar-style","to-left"]),h(Kt,{ref_key:"contentRef",ref:m,"content-style":e.contentStyle,"is-passing":o.isPassing,"success-text":e.successText||t(v)("ui.captcha.sliderSuccessText"),text:e.text||t(v)("ui.captcha.sliderDefaultText")},he({_:2},[d.$slots.text?{name:"text",fn:u(()=>[b(d.$slots,"text",{isPassing:o.isPassing})]),key:"0"}:void 0]),1032,["content-style","is-passing","success-text","text"]),h(Wt,{ref_key:"actionRef",ref:g,"action-style":e.actionStyle,"is-passing":o.isPassing,"to-left":o.toLeft,onMousedown:S,onTouchstart:S},he({_:2},[d.$slots.actionIcon?{name:"icon",fn:u(()=>[b(d.$slots,"actionIcon",{isPassing:o.isPassing})]),key:"0"}:void 0]),1032,["action-style","is-passing","to-left"])],38))}}),[kn,Yt]=be("VbenAlertContext"),Ht={class:"flex items-center"},Jt={class:"flex-auto"},Zt={class:"m-4 min-h-[30px]"},en=y({__name:"alert",props:ae({beforeClose:{},bordered:{type:Boolean,default:!0},buttonAlign:{default:"end"},cancelText:{},centered:{type:Boolean,default:!0},confirmText:{},containerClass:{},content:{},contentClass:{},contentMasking:{type:Boolean},footer:{},icon:{},overlayBlur:{},showCancel:{type:Boolean},title:{}},{open:{type:Boolean,default:!1},openModifiers:{}}),emits:ae(["closed","confirm","opened"],["update:open"]),setup(e,{emit:n}){const a=e,s=n,l=$e(e,"open"),{$t:r}=we(),o=Oe.getComponents(),i=V(!1);function f(){s("closed",i.value),i.value=!1}function m(){i.value=!1}const g=R(()=>{var d;let C=null;if(a.icon){if(typeof a.icon=="string")switch(a.icon){case"error":{C=ee(Ve,{style:{color:"hsl(var(--destructive))"}});break}case"info":{C=ee(Tt,{style:{color:"hsl(var(--info))"}});break}case"question":{C=it;break}case"success":{C=ee(mt,{style:{color:"hsl(var(--success))"}});break}case"warning":{C=ee(lt,{style:{color:"hsl(var(--warning))"}});break}default:{C=null;break}}}else C=(d=a.icon)!=null?d:null;return C});function $(){_(),j(!1)}function S(){w(),j(!1)}Yt({doCancel:$,doConfirm:S});function w(){i.value=!0,s("confirm")}function _(){i.value=!1}const x=V(!1);function j(C){return oe(this,null,function*(){if(yield xe(),!C&&a.beforeClose){x.value=!0;try{(yield a.beforeClose({isConfirm:i.value}))!==!1&&(l.value=!1)}finally{x.value=!1}}else l.value=C})}return(C,d)=>(c(),p(t(Mt),{open:l.value,"onUpdate:open":j},{default:u(()=>[h(t(Ft),{open:l.value,centered:e.centered,"overlay-blur":e.overlayBlur,onOpened:d[0]||(d[0]=P=>s("opened")),onClosed:f,onEscapeKeyDown:m,class:O(t(K)(e.containerClass,"left-0 right-0 mx-auto flex max-h-[80%] flex-col p-0 duration-300 sm:w-[520px] sm:max-w-[80%] sm:rounded-[var(--radius)]",{"border border-border":e.bordered,"shadow-3xl":!e.bordered}))},{default:u(()=>[D("div",{class:O(t(K)("relative flex-1 overflow-y-auto p-3",e.contentClass))},[e.title?(c(),p(t(Vt),{key:0},{default:u(()=>[D("div",Ht,[(c(),p(se(g.value),{class:"mr-2"})),D("span",Jt,k(t(r)(e.title)),1),e.showCancel?(c(),p(t(ye),{key:0,"as-child":""},{default:u(()=>[h(t(X),{variant:"ghost",size:"icon",class:"rounded-full",disabled:x.value,onClick:_},{default:u(()=>[h(t(gt),{class:"size-4 text-muted-foreground"})]),_:1},8,["disabled"])]),_:1})):A("",!0)])]),_:1})):A("",!0),h(t(Ot),null,{default:u(()=>[D("div",Zt,[h(t(ve),{content:e.content,"render-br":""},null,8,["content"])]),x.value&&e.contentMasking?(c(),p(t(ze),{key:0,spinning:x.value},null,8,["spinning"])):A("",!0)]),_:1}),D("div",{class:O(["flex items-center justify-end gap-x-2",`justify-${e.buttonAlign}`])},[h(t(ve),{content:e.footer},null,8,["content"]),e.showCancel?(c(),p(t(ye),{key:0,"as-child":""},{default:u(()=>[(c(),p(se(t(o).DefaultButton||t(X)),{disabled:x.value,variant:"ghost",onClick:_},{default:u(()=>[q(k(e.cancelText||t(r)("cancel")),1)]),_:1},8,["disabled"]))]),_:1})):A("",!0),h(t(Et),{"as-child":""},{default:u(()=>[(c(),p(se(t(o).PrimaryButton||t(X)),{loading:x.value,onClick:w},{default:u(()=>[q(k(e.confirmText||t(r)("confirm")),1)]),_:1},8,["loading"]))]),_:1})],2)],2)]),_:1},8,["open","centered","overlay-blur","class"])]),_:1},8,["open"]))}}),ie=V([]),{$t:tn}=we();function nn(e,n,a){return new Promise((s,l)=>{var g,$;const r=nt(e)?{content:e}:I({},e),o=document.createElement("div");document.body.append(o);const i={container:o,instance:null},f=Q(I({onClosed:S=>{ie.value=ie.value.filter(w=>w!==i),ge(null,o),o.parentNode&&o.remove(),S?s():l(new Error("dialog cancelled"))}},r),{open:!0,title:(g=r.title)!=null?g:tn.value("prompt")}),m=ee(en,f);ge(m,o),i.instance=($=m.component)==null?void 0:$.proxy,ie.value.push(i)})}const on=y({__name:"dingding-login",props:{clientId:{},corpId:{},redirectUri:{},isQrCode:{type:Boolean}},setup(e){const n=e,a=We(),[s,l]=ht({header:!1,footer:!1,fullscreenButton:!1,class:"w-[302px] h-[302px] dingding-qrcode-login-modal",onOpened(){o()}}),r=()=>{const{redirectUri:f}=n;return f||window.location.origin+a.fullPath},o=()=>oe(null,null,function*(){const{clientId:f,corpId:m}=n;window.DTFrameLogin||(yield ot("https://g.alicdn.com/dingding/h5-dingtalk-login/0.21.0/ddlogin.js")),window.DTFrameLogin({id:"dingding_qrcode_login_element",width:300,height:300},{redirect_uri:encodeURIComponent(r()),client_id:f,scope:"openid corpid",response_type:"code",state:"1",prompt:"consent",corpId:m},g=>{const{redirectUrl:$}=g;window.location.href=$},g=>{nn(`Login Error: ${g}`)})}),i=()=>{const{clientId:f,corpId:m,isQrCode:g}=n;g?l.open():window.location.href=`https://login.dingtalk.com/oauth2/auth?redirect_uri=${encodeURIComponent(r())}&response_type=code&client_id=${f}&scope=openid&corpid=${m}&prompt=consent`};return(f,m)=>(c(),B("div",null,[h(t(Z),{onClick:i,tooltip:t(v)("authentication.dingdingLogin"),"tooltip-side":"top"},{default:u(()=>[h(t(Ne))]),_:1},8,["tooltip"]),h(t(s),null,{default:u(()=>[...m[0]||(m[0]=[D("div",{id:"dingding_qrcode_login_element"},null,-1)])]),_:1})]))}}),an={VITE_GLOB_API_URL:"https://mock-napi.vben.pro/api"},sn={class:"w-full sm:mx-auto md:max-w-md"},ln={class:"mt-4 flex items-center justify-between"},rn={class:"text-muted-foreground text-center text-xs uppercase"},cn={class:"mt-4 flex flex-wrap justify-center"},un=y({name:"ThirdPartyLogin",__name:"third-party-login",setup(e){const{auth:{dingding:n}}=Ue(an,!0);return(a,s)=>(c(),B("div",sn,[D("div",ln,[s[0]||(s[0]=D("span",{class:"border-input w-[35%] border-b dark:border-gray-600"},null,-1)),D("span",rn,k(t(v)("authentication.thirdPartyLogin")),1),s[1]||(s[1]=D("span",{class:"border-input w-[35%] border-b dark:border-gray-600"},null,-1))]),D("div",cn,[h(t(Z),{tooltip:t(v)("authentication.wechatLogin"),"tooltip-side":"top",class:"mb-3"},{default:u(()=>[h(t(je))]),_:1},8,["tooltip"]),h(t(Z),{tooltip:t(v)("authentication.qqLogin"),"tooltip-side":"top",class:"mb-3"},{default:u(()=>[h(t(Qe))]),_:1},8,["tooltip"]),h(t(Z),{tooltip:t(v)("authentication.githubLogin"),"tooltip-side":"top",class:"mb-3"},{default:u(()=>[h(t(Xe))]),_:1},8,["tooltip"]),h(t(Z),{tooltip:t(v)("authentication.googleLogin"),"tooltip-side":"top",class:"mb-3"},{default:u(()=>[h(t(Ke))]),_:1},8,["tooltip"]),t(n)?(c(),p(on,{key:0,"corp-id":t(n).corpId,"client-id":t(n).clientId,class:"mb-3"},null,8,["corp-id","client-id"])):A("",!0)])]))}}),dn=["onKeydown"],fn={class:"text-muted-foreground"},pn={key:0,class:"mb-6 flex justify-between"},mn={class:"flex-center"},gn={key:1,class:"mb-2 mt-4 flex items-center justify-between"},hn={key:0,class:"mt-3 text-center text-sm"},vn=y({name:"AuthenticationLogin",__name:"login",props:{formSchema:{default:()=>[]},codeLoginPath:{default:"/auth/code-login"},forgetPasswordPath:{default:"/auth/forget-password"},loading:{type:Boolean,default:!1},qrCodeLoginPath:{default:"/auth/qrcode-login"},registerPath:{default:"/auth/register"},showCodeLogin:{type:Boolean,default:!0},showForgetPassword:{type:Boolean,default:!0},showQrcodeLogin:{type:Boolean,default:!0},showRegister:{type:Boolean,default:!0},showRememberMe:{type:Boolean,default:!0},showThirdPartyLogin:{type:Boolean,default:!0},subTitle:{default:""},title:{default:""},submitButtonText:{default:""}},emits:["submit"],setup(e,{expose:n,emit:a}){const s=e,l=a,[r,o]=rt(ke({commonConfig:{hideLabel:!0,hideRequiredMark:!0},schema:R(()=>s.formSchema),showDefaultActions:!1})),i=Ge(),f=`REMEMBER_ME_USERNAME_${location.hostname}`,m=localStorage.getItem(f)||"",g=V(!!m);function $(){return oe(this,null,function*(){const{valid:w}=yield o.validate(),_=yield o.getValues();w&&(localStorage.setItem(f,g.value?_==null?void 0:_.username:""),l("submit",_))})}function S(w){i.push(w)}return Ce(()=>{m&&o.setFieldValue("username",m)}),n({getFormApi:()=>o}),(w,_)=>(c(),B("div",{onKeydown:He(re($,["prevent"]),["enter"])},[b(w.$slots,"title",{},()=>[h(st,null,{desc:u(()=>[D("span",fn,[b(w.$slots,"subTitle",{},()=>[q(k(e.subTitle||t(v)("authentication.loginSubtitle")),1)])])]),default:u(()=>[b(w.$slots,"title",{},()=>[q(k(e.title||`${t(v)("authentication.welcomeBack")} ðŸ‘‹ðŸ»`),1)])]),_:3})]),h(t(r)),e.showRememberMe||e.showForgetPassword?(c(),B("div",pn,[D("div",mn,[e.showRememberMe?(c(),p(t(Ye),{key:0,modelValue:g.value,"onUpdate:modelValue":_[0]||(_[0]=x=>g.value=x),name:"rememberMe"},{default:u(()=>[q(k(t(v)("authentication.rememberMe")),1)]),_:1},8,["modelValue"])):A("",!0)]),e.showForgetPassword?(c(),B("span",{key:0,class:"vben-link text-sm font-normal",onClick:_[1]||(_[1]=x=>S(e.forgetPasswordPath))},k(t(v)("authentication.forgetPassword")),1)):A("",!0)])):A("",!0),h(t(X),{class:O([{"cursor-wait":e.loading},"w-full"]),loading:e.loading,"aria-label":"login",onClick:$},{default:u(()=>[q(k(e.submitButtonText||t(v)("common.login")),1)]),_:1},8,["class","loading"]),e.showCodeLogin||e.showQrcodeLogin?(c(),B("div",gn,[e.showCodeLogin?(c(),p(t(X),{key:0,class:"w-1/2",variant:"outline",onClick:_[2]||(_[2]=x=>S(e.codeLoginPath))},{default:u(()=>[q(k(t(v)("authentication.mobileLogin")),1)]),_:1})):A("",!0),e.showQrcodeLogin?(c(),p(t(X),{key:1,class:"ml-4 w-1/2",variant:"outline",onClick:_[3]||(_[3]=x=>S(e.qrCodeLoginPath))},{default:u(()=>[q(k(t(v)("authentication.qrcodeLogin")),1)]),_:1})):A("",!0)])):A("",!0),b(w.$slots,"third-party-login",{},()=>[e.showThirdPartyLogin?(c(),p(un,{key:0})):A("",!0)]),b(w.$slots,"to-register",{},()=>[e.showRegister?(c(),B("div",hn,[q(k(t(v)("authentication.accountTip"))+" ",1),D("span",{class:"vben-link text-sm font-normal",onClick:_[4]||(_[4]=x=>S(e.registerPath))},k(t(v)("authentication.createAccount")),1)])):A("",!0)])],40,dn))}}),An=y({name:"Login",__name:"login",setup(e){const n=Je(),a=[{label:"Super",value:"vben"},{label:"Admin",value:"admin"},{label:"User",value:"jack"}],s=R(()=>[{component:"VbenSelect",componentProps:{options:a,placeholder:v("authentication.selectAccount")},fieldName:"selectAccount",label:v("authentication.selectAccount"),rules:le().min(1,{message:v("authentication.selectAccount")}).optional().default("vben")},{component:"VbenInput",componentProps:{placeholder:v("authentication.usernameTip")},dependencies:{trigger(l,r){if(l.selectAccount){const o=a.find(i=>i.value===l.selectAccount);o&&r.setValues({password:"123456",username:o.value})}},triggerFields:["selectAccount"]},fieldName:"username",label:v("authentication.username"),rules:le().min(1,{message:v("authentication.usernameTip")})},{component:"VbenInputPassword",componentProps:{placeholder:v("authentication.password")},fieldName:"password",label:v("authentication.password"),rules:le().min(1,{message:v("authentication.passwordTip")})},{component:at(Gt),fieldName:"captcha",rules:ct().refine(l=>l,{message:v("authentication.verifyRequiredTip")})}]);return(l,r)=>(c(),p(t(vn),{"form-schema":s.value,loading:t(n).loginLoading,onSubmit:t(n).authLogin},null,8,["form-schema","loading","onSubmit"]))}});export{An as _};
