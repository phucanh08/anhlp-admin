var y=(v,d,e)=>new Promise((l,u)=>{var p=t=>{try{r(e.next(t))}catch(n){u(n)}},m=t=>{try{r(e.throw(t))}catch(n){u(n)}},r=t=>t.done?l(t.value):Promise.resolve(t.value).then(p,m);r((e=e.apply(v,d)).next())});import{k as q}from"./useBaseQuery-2uhPjY7o.js";import{u as D}from"./useQuery-MkQhxMhz.js";import{B as h}from"./bootstrap-CmOIY23B.js";import{d as N,r as V,m as a,n as o,v as c,j as g,E as x,H as B,u as s,A as _,q as j,F as C,I as E}from"../jse/index-index-Dn7Pga_E.js";const F={class:"flex gap-4"},I={class:"p-4"},w={key:0},z={key:1},L={key:2},P=10,K=N({__name:"paginated-queries",setup(v){const d=f=>y(null,null,function*(){return(yield fetch(`https://dummyjson.com/products?limit=${P}&skip=${(f.value-1)*P}`)).json()}),e=V(1),{data:l,error:u,isError:p,isPending:m,isPlaceholderData:r}=D({placeholderData:q,queryFn:()=>d(e),queryKey:["products",e]}),t=()=>{e.value=Math.max(e.value-1,1)},n=()=>{r.value||(e.value=e.value+1)};return(f,i)=>(o(),a(C,null,[c("div",F,[g(s(h),{size:"small",onClick:t},{default:x(()=>[...i[0]||(i[0]=[B("上一页",-1)])]),_:1}),c("p",null,"当前页: "+_(e.value),1),g(s(h),{size:"small",onClick:n},{default:x(()=>[...i[1]||(i[1]=[B("下一页",-1)])]),_:1})]),c("div",I,[s(m)?(o(),a("div",w,"加载中...")):s(p)?(o(),a("div",z,"出错了: "+_(s(u)),1)):s(l)?(o(),a("div",L,[c("ul",null,[(o(!0),a(C,null,E(s(l).products,k=>(o(),a("li",{key:k.id},_(k.title),1))),128))])])):j("",!0)])],64))}});export{K as _};
