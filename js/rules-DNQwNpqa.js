var d=(c,p,r)=>new Promise((m,o)=>{var e=l=>{try{a(r.next(l))}catch(u){o(u)}},f=l=>{try{a(r.throw(l))}catch(u){o(u)}},a=l=>l.done?m(l.value):Promise.resolve(l.value).then(e,f);a((r=r.apply(c,p)).next())});import{y as N,a7 as i,aL as h,A as x,B as b}from"./bootstrap-CmOIY23B.js";import{C as g}from"./index-18-lVBa-.js";import{_ as k}from"./page.vue_vue_type_script_setup_true_lang-B79NNVXE.js";import{d as C,D as v,n as q,E as n,j as s,u as t,H as P}from"../jse/index-index-Dn7Pga_E.js";import"./index-Cq5upoUv.js";import"./shallowequal-BOWVaEXw.js";import"./Trigger-B0Zd1YSB.js";import"./ResizeObserver.es-CDE7jhPe.js";import"./collapse-BuqCI_Sc.js";import"./Overflow-D-n6m9kG.js";import"./index-bMV-OEX7.js";import"./index-BuhGstFT.js";import"./colors-CDlQsefj.js";import"./collapseMotion-CW4DPm-L.js";import"./slide-DCDZKjHj.js";import"./useRefs-DsN55d7I.js";import"./hasIn-1TLaJpEW.js";import"./isMobile-8sZ0LT6r.js";import"./useMergedState-DAlpYor9.js";import"./isPlainObject-Cfyj4D1A.js";const L=C({__name:"rules",setup(c){const[p,r]=N({commonConfig:{componentProps:{class:"w-full"}},handleSubmit:m,layout:"horizontal",schema:[{component:"Input",componentProps:{placeholder:"请输入"},fieldName:"field1",label:"字段1",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入"},defaultValue:"默认值",fieldName:"field2",label:"默认值(必填)",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入"},fieldName:"field3",label:"默认值(非必填)",rules:i().default("默认值").optional()},{component:"Input",componentProps:{placeholder:"请输入"},fieldName:"field31",label:"自定义信息",rules:i().min(1,{message:"最少输入1个字符"})},{component:"Input",componentProps:{placeholder:"请输入"},fieldName:"field4",label:"邮箱",rules:i().email("请输入正确的邮箱")},{component:"InputNumber",componentProps:{placeholder:"请输入"},fieldName:"number",label:"数字",rules:"required"},{component:"Select",componentProps:{allowClear:!0,filterOption:!0,options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}],placeholder:"请选择",showSearch:!0},defaultValue:void 0,fieldName:"options",label:"下拉选",rules:"selectRequired"},{component:"RadioGroup",componentProps:{options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]},fieldName:"radioGroup",label:"单选组",rules:"selectRequired"},{component:"CheckboxGroup",componentProps:{name:"cname",options:[{label:"选项1",value:"1"},{label:"选项2",value:"2"}]},fieldName:"checkboxGroup",label:"多选组",rules:"selectRequired"},{component:"Checkbox",fieldName:"checkbox",label:"",renderComponentContent:()=>({default:()=>["我已阅读并同意"]}),rules:h().refine(o=>o,{message:"请勾选"})},{component:"DatePicker",defaultValue:void 0,fieldName:"datePicker",label:"日期选择框",rules:"selectRequired"},{component:"RangePicker",defaultValue:void 0,fieldName:"rangePicker",label:"区间选择框",rules:"selectRequired"},{component:"InputPassword",componentProps:{placeholder:"请输入"},fieldName:"password",label:"密码",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入"},fieldName:"input-blur",formFieldProps:{validateOnChange:!1,validateOnModelUpdate:!1},help:"blur时才会触发校验",label:"blur触发",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入"},fieldName:"input-async",label:"异步校验",rules:i().min(3,"用户名至少需要3个字符").refine(o=>d(null,null,function*(){return!(yield(a=>d(null,null,function*(){return yield new Promise(l=>setTimeout(l,1e3)),a==="existingUser"}))(o))}),{message:"用户名已存在"})}],wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"});function m(o){x.success({content:`form values: ${JSON.stringify(o)}`})}return(o,e)=>(q(),v(t(k),{description:"表单校验示例",title:"表单组件"},{default:n(()=>[s(t(g),{title:"基础组件校验示例"},{extra:n(()=>[s(t(b),{onClick:e[0]||(e[0]=()=>t(r).validate())},{default:n(()=>[...e[2]||(e[2]=[P("校验表单",-1)])]),_:1}),s(t(b),{class:"mx-2",onClick:e[1]||(e[1]=()=>t(r).resetValidate())},{default:n(()=>[...e[3]||(e[3]=[P(" 清空校验信息 ",-1)])]),_:1})]),default:n(()=>[s(t(p))]),_:1})]),_:1}))}});export{L as default};
