var m=(x,s,n)=>new Promise((l,f)=>{var v=r=>{try{d(n.next(r))}catch(c){f(c)}},b=r=>{try{d(n.throw(r))}catch(c){f(c)}},d=r=>r.done?l(r.value):Promise.resolve(r.value).then(v,b);d((n=n.apply(x,s)).next())});import{y,B as p}from"./bootstrap-CmOIY23B.js";import{C as V}from"./index-18-lVBa-.js";import{_ as w}from"./page.vue_vue_type_script_setup_true_lang-B79NNVXE.js";import{d as N,r as g,D as C,n as P,E as a,j as i,u as o,v as t,H as u}from"../jse/index-index-Dn7Pga_E.js";import S from"./index-DCVhQ827.js";import"./index-Cq5upoUv.js";import"./shallowequal-BOWVaEXw.js";import"./Trigger-B0Zd1YSB.js";import"./ResizeObserver.es-CDE7jhPe.js";import"./collapse-BuqCI_Sc.js";import"./Overflow-D-n6m9kG.js";import"./index-bMV-OEX7.js";import"./index-BuhGstFT.js";import"./colors-CDlQsefj.js";import"./collapseMotion-CW4DPm-L.js";import"./slide-DCDZKjHj.js";import"./useRefs-DsN55d7I.js";import"./hasIn-1TLaJpEW.js";import"./isMobile-8sZ0LT6r.js";import"./useMergedState-DAlpYor9.js";import"./isPlainObject-Cfyj4D1A.js";import"./FormItemContext-k0P1nm20.js";const k={class:"flex items-center gap-2"},q={class:"space-y-4"},I={class:"rounded border p-4"},A={class:"flex flex-wrap gap-2"},E={class:"rounded border p-4"},T={class:"flex flex-wrap gap-2"},le=N({name:"ScrollToErrorTest",__name:"scroll-to-error-test",setup(x){const s=g(!0),[n,l]=y({scrollToFirstError:s.value,schema:[{component:"Input",componentProps:{placeholder:"请输入用户名"},fieldName:"username",label:"用户名",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入邮箱"},fieldName:"email",label:"邮箱",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入手机号"},fieldName:"phone",label:"手机号",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入地址"},fieldName:"address",label:"地址",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入备注"},fieldName:"remark",label:"备注",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入公司名称"},fieldName:"company",label:"公司名称",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入职位"},fieldName:"position",label:"职位",rules:"required"},{component:"Select",componentProps:{options:[{label:"男",value:"male"},{label:"女",value:"female"}],placeholder:"请选择性别"},fieldName:"gender",label:"性别",rules:"selectRequired"}],showDefaultActions:!1});function f(){return m(this,null,function*(){yield l.validateAndSubmitForm()})}function v(){return m(this,null,function*(){yield l.validate()})}function b(){return m(this,null,function*(){yield l.validateField("username")})}function d(){l.setState({scrollToFirstError:s.value})}function r(){return m(this,null,function*(){yield l.resetForm(),yield l.setFieldValue("username","测试用户"),yield l.setFieldValue("email","test@example.com")})}return(c,e)=>(P(),C(o(w),{description:"测试表单验证失败时自动滚动到错误字段的功能",title:"滚动到错误字段测试"},{default:a(()=>[i(o(V),{title:"功能测试"},{extra:a(()=>[t("div",k,[i(o(S),{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=F=>s.value=F),onChange:d},null,8,["modelValue"]),e[2]||(e[2]=t("span",null,"启用滚动到错误字段",-1))])]),default:a(()=>[t("div",q,[e[12]||(e[12]=t("div",{class:"rounded bg-blue-50 p-4"},[t("h3",{class:"mb-2 font-medium"},"测试说明："),t("ul",{class:"list-inside list-disc space-y-1 text-sm"},[t("li",null,"所有验证方法在验证失败时都会自动滚动到第一个错误字段"),t("li",null,"可以通过右上角的开关控制是否启用自动滚动功能")])],-1)),t("div",I,[e[6]||(e[6]=t("h4",{class:"mb-3 font-medium"},"验证方法测试：",-1)),t("div",A,[i(o(p),{type:"primary",onClick:f},{default:a(()=>[...e[3]||(e[3]=[u(" 测试 validateAndSubmitForm() ",-1)])]),_:1}),i(o(p),{onClick:v},{default:a(()=>[...e[4]||(e[4]=[u(" 测试 validate() ",-1)])]),_:1}),i(o(p),{onClick:b},{default:a(()=>[...e[5]||(e[5]=[u(" 测试 validateField() ",-1)])]),_:1})]),e[7]||(e[7]=t("div",{class:"mt-2 text-xs text-gray-500"},[t("p",null,"• validateAndSubmitForm(): 验证表单并提交"),t("p",null,"• validate(): 手动验证整个表单"),t("p",null,"• validateField(): 验证单个字段（这里测试用户名字段）")],-1))]),t("div",E,[e[10]||(e[10]=t("h4",{class:"mb-3 font-medium"},"数据填充测试：",-1)),t("div",T,[i(o(p),{onClick:r},{default:a(()=>[...e[8]||(e[8]=[u(" 填充部分数据 ",-1)])]),_:1}),i(o(p),{onClick:e[1]||(e[1]=()=>o(l).resetForm())},{default:a(()=>[...e[9]||(e[9]=[u(" 清空表单 ",-1)])]),_:1})]),e[11]||(e[11]=t("div",{class:"mt-2 text-xs text-gray-500"},[t("p",null,"• 填充部分数据后验证，会滚动到第一个错误字段")],-1))]),i(o(n))])]),_:1})]),_:1}))}});export{le as default};
