var rt=Object.defineProperty,it=Object.defineProperties;var ut=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var ke=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var fe=(s,t,o)=>t in s?rt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o,y=(s,t)=>{for(var o in t||(t={}))ke.call(t,o)&&fe(s,o,t[o]);if(ue)for(var o of ue(t))xe.call(t,o)&&fe(s,o,t[o]);return s},V=(s,t)=>it(s,ut(t));var G=(s,t)=>{var o={};for(var a in s)ke.call(s,a)&&t.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&ue)for(var a of ue(s))t.indexOf(a)<0&&xe.call(s,a)&&(o[a]=s[a]);return o};var Z=(s,t,o)=>fe(s,typeof t!="symbol"?t+"":t,o);var Q=(s,t,o)=>new Promise((a,n)=>{var i=u=>{try{p(o.next(u))}catch(l){n(l)}},c=u=>{try{p(o.throw(u))}catch(l){n(l)}},p=u=>u.done?a(u.value):Promise.resolve(u.value).then(i,c);p((o=o.apply(s,t)).next())});import{b9 as dt,bR as ct,bp as Y,bq as ve,bS as Me,bT as Ae,bU as pt,bV as ft,bW as mt,bw as ye,bX as vt,bY as yt,aV as de,by as qe,bz as gt,a7 as ht,bA as Se,bD as bt,bb as Ct,bZ as _t,b_ as Dt,b$ as Ot,c0 as Bt,bF as wt,bJ as kt,aY as $e}from"./bootstrap-CQbOoz5A.js";import{a1 as C,L as O,W as xt,al as b,a9 as e,ai as g,aj as v,ak as h,ag as M,aa as Re,p as K,av as Mt,aw as At,N as Le,ap as ge,E as F,ao as $t,an as w,am as Et,aR as N,aS as E,P as ze,a6 as Tt,a8 as Pt,bq as me,ae as It,U as Ft,bG as qt,az as St,ax as ee,ay as te,ar as Ee,V as he,a2 as Ve,bi as Rt,i as Lt,f as Te}from"../jse/index-index-dOqq_LZr.js";import{_ as zt,S as Vt,c as Nt}from"./use-vben-form-DEIMVwum.js";const[X,Kt]=dt("DialogRoot");var Yt=C({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(s,{emit:t}){const o=s,n=ct(o,"open",t,{defaultValue:o.defaultOpen,passive:o.open===void 0}),i=O(),c=O(),{modal:p}=xt(o);return Kt({open:n,modal:p,openModal:()=>{n.value=!0},onOpenChange:u=>{n.value=u},onOpenToggle:()=>{n.value=!n.value},contentId:"",titleId:"",descriptionId:"",triggerElement:i,contentElement:c}),(u,l)=>b(u.$slots,"default",{open:e(n),close:()=>n.value=!1})}}),Xt=Yt,Ht=C({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(s){const t=s;Y();const o=X();return(a,n)=>(v(),g(e(ve),M(t,{type:a.as==="button"?"button":void 0,onClick:n[0]||(n[0]=i=>e(o).onOpenChange(!1))}),{default:h(()=>[b(a.$slots,"default")]),_:3},16,["type"]))}}),Ut=Ht,jt=C({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:t}){const o=s,a=t,n=X(),{forwardRef:i,currentElement:c}=Y();return n.titleId||(n.titleId=Me(void 0,"reka-dialog-title")),n.descriptionId||(n.descriptionId=Me(void 0,"reka-dialog-description")),Re(()=>{n.contentElement=c,Ae()!==document.body&&(n.triggerElement.value=Ae())}),(p,u)=>(v(),g(e(mt),{"as-child":"",loop:"",trapped:o.trapFocus,onMountAutoFocus:u[5]||(u[5]=l=>a("openAutoFocus",l)),onUnmountAutoFocus:u[6]||(u[6]=l=>a("closeAutoFocus",l))},{default:h(()=>[K(e(pt),M({id:e(n).contentId,ref:e(i),as:p.as,"as-child":p.asChild,"disable-outside-pointer-events":p.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(n).descriptionId,"aria-labelledby":e(n).titleId,"data-state":e(ft)(e(n).open.value)},p.$attrs,{onDismiss:u[0]||(u[0]=l=>e(n).onOpenChange(!1)),onEscapeKeyDown:u[1]||(u[1]=l=>a("escapeKeyDown",l)),onFocusOutside:u[2]||(u[2]=l=>a("focusOutside",l)),onInteractOutside:u[3]||(u[3]=l=>a("interactOutside",l)),onPointerDownOutside:u[4]||(u[4]=l=>a("pointerDownOutside",l))}),{default:h(()=>[b(p.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Ne=jt,Wt=C({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:t}){const o=s,a=t,n=X(),i=ye(a),{forwardRef:c,currentElement:p}=Y();return vt(p),(u,l)=>(v(),g(Ne,M(y(y({},o),e(i)),{ref:e(c),"trap-focus":e(n).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:l[0]||(l[0]=f=>{var r;f.defaultPrevented||(f.preventDefault(),(r=e(n).triggerElement.value)==null||r.focus())}),onPointerDownOutside:l[1]||(l[1]=f=>{const r=f.detail.originalEvent,m=r.button===0&&r.ctrlKey===!0;(r.button===2||m)&&f.preventDefault()}),onFocusOutside:l[2]||(l[2]=f=>{f.preventDefault()})}),{default:h(()=>[b(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),Jt=Wt,Gt=C({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:t}){const o=s,n=ye(t);Y();const i=X(),c=O(!1),p=O(!1);return(u,l)=>(v(),g(Ne,M(y(y({},o),e(n)),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:l[0]||(l[0]=f=>{var r;f.defaultPrevented||(c.value||(r=e(i).triggerElement.value)==null||r.focus(),f.preventDefault()),c.value=!1,p.value=!1}),onInteractOutside:l[1]||(l[1]=f=>{var _;f.defaultPrevented||(c.value=!0,f.detail.originalEvent.type==="pointerdown"&&(p.value=!0));const r=f.target;((_=e(i).triggerElement.value)==null?void 0:_.contains(r))&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&p.value&&f.preventDefault()})}),{default:h(()=>[b(u.$slots,"default")]),_:3},16))}}),Zt=Gt,Qt=C({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(s,{emit:t}){const o=s,a=t,n=X(),i=ye(a),{forwardRef:c}=Y();return(p,u)=>(v(),g(e(yt),{present:p.forceMount||e(n).open.value},{default:h(()=>[e(n).modal.value?(v(),g(Jt,M({key:0,ref:e(c)},y(y(y({},o),e(i)),p.$attrs)),{default:h(()=>[b(p.$slots,"default")]),_:3},16)):(v(),g(Zt,M({key:1,ref:e(c)},y(y(y({},o),e(i)),p.$attrs)),{default:h(()=>[b(p.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),eo=Qt,to=C({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(s){const t=s;Y();const o=X();return(a,n)=>(v(),g(e(ve),M(t,{id:e(o).descriptionId}),{default:h(()=>[b(a.$slots,"default")]),_:3},16,["id"]))}}),oo=to,so=C({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(s){const t=s,o=X();return Y(),(a,n)=>(v(),g(e(ve),M(t,{id:e(o).titleId}),{default:h(()=>[b(a.$slots,"default")]),_:3},16,["id"]))}}),ao=so;const Bo=de("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const no=de("expand",[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]]);const lo=de("shrink",[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]]);const ro=de("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),io=C({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(s,{emit:t}){const n=qe(s,t);return(i,c)=>(v(),g(e(Xt),Mt(At(e(n))),{default:h(()=>[b(i.$slots,"default")]),_:3},16))}}),uo=["data-dismissable-modal"],co=C({__name:"DialogOverlay",setup(s){gt();const t=Le("DISMISSABLE_MODAL_ID");return(o,a)=>(v(),ge("div",{"data-dismissable-modal":e(t),class:"z-popup inset-0 bg-overlay"},null,8,uo))}}),po=C({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},animationType:{default:"slide"},appendTo:{default:"body"},class:{},closeClass:{},closeDisabled:{type:Boolean,default:!1},modal:{type:Boolean},open:{type:Boolean},overlayBlur:{},showClose:{type:Boolean,default:!0},zIndex:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","close","closed","opened"],setup(s,{expose:t,emit:o}){const a=s,n=o,i=F(()=>{const T=a,{class:r,modal:m,open:_,showClose:B,animationType:k}=T;return G(T,["class","modal","open","showClose","animationType"])});function c(){return a.appendTo==="body"||a.appendTo===document.body||!a.appendTo}const p=F(()=>c()?"fixed":"absolute"),u=qe(i,n),l=O(null);function f(r){var m;r.target===((m=l.value)==null?void 0:m.$el)&&(a.open?n("opened"):n("closed"))}return t({getContentRef:()=>l.value}),(r,m)=>(v(),g($t,{defer:"",to:s.appendTo},[K(ht,{name:"fade"},{default:h(()=>[s.open&&s.modal?(v(),g(co,{key:0,style:Et(V(y({},s.zIndex?{zIndex:s.zIndex}:{}),{position:p.value,backdropFilter:s.overlayBlur&&s.overlayBlur>0?`blur(${s.overlayBlur}px)`:"none"})),onClick:m[0]||(m[0]=()=>n("close"))},null,8,["style"])):w("",!0)]),_:1}),K(e(eo),M({ref_key:"contentRef",ref:l,style:V(y({},s.zIndex?{zIndex:s.zIndex}:{}),{position:p.value}),onAnimationend:f},e(u),{class:e(E)("z-popup w-full bg-background p-6 shadow-lg outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-xl",{"data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-top-[48%]":s.animationType==="slide"},a.class)}),{default:h(()=>[b(r.$slots,"default"),s.showClose?(v(),g(e(Ut),{key:0,disabled:s.closeDisabled,class:N(e(E)("flex-center absolute right-3 top-3 h-6 w-6 rounded-full px-1 text-lg text-foreground/80 opacity-70 transition-opacity hover:bg-accent hover:text-accent-foreground hover:opacity-100 focus:outline-none disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",a.closeClass)),onClick:m[1]||(m[1]=()=>n("close"))},{default:h(()=>[K(e(ro),{class:"h-4 w-4"})]),_:1},8,["disabled","class"])):w("",!0)]),_:3},16,["style","class"])],8,["to"]))}}),Pe=C({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(s){const t=s,o=F(()=>{const c=t,{class:n}=c;return G(c,["class"])}),a=Se(o);return(n,i)=>(v(),g(e(oo),M(e(a),{class:e(E)("text-sm text-muted-foreground",t.class)}),{default:h(()=>[b(n.$slots,"default")]),_:3},16,["class"]))}}),fo=C({__name:"DialogFooter",props:{class:{}},setup(s){const t=s;return(o,a)=>(v(),ge("div",{class:N(e(E)("flex flex-row flex-col-reverse justify-end gap-x-2",t.class))},[b(o.$slots,"default")],2))}}),mo=C({__name:"DialogHeader",props:{class:{}},setup(s){const t=s;return(o,a)=>(v(),ge("div",{class:N(e(E)("flex flex-col gap-y-1.5 text-center sm:text-left",t.class))},[b(o.$slots,"default")],2))}}),Ie=C({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(s){const t=s,o=F(()=>{const c=t,{class:n}=c;return G(c,["class"])}),a=Se(o);return(n,i)=>(v(),g(e(ao),M(e(a),{class:e(E)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:h(()=>[b(n.$slots,"default")]),_:3},16,["class"]))}});function vo(s,t,o,a,n){const i=ze({offsetX:0,offsetY:0}),c=O(!1),p=r=>{const m=r.clientX,_=r.clientY;if(!s.value)return;const B=s.value.getBoundingClientRect(),{offsetX:k,offsetY:A}=i,T=B.left,L=B.top,oe=B.width,se=B.height;let q=null;if(a!=null&&a.value){const $=document.querySelector(a.value);$&&(q=$.getBoundingClientRect())}let H,U,S,j;if(q)S=q.left-T+k,H=q.right-T-oe+k,j=q.top-L+A,U=q.bottom-L-se+A;else{const $=document.documentElement,x=$.clientWidth,P=$.clientHeight;S=-T+k,j=-L+A,H=x-T-oe+k,U=P-L-se+A}const ae=$=>{let x=k+$.clientX-m,P=A+$.clientY-_;if(x=Math.min(Math.max(x,S),H),P=Math.min(Math.max(P,j),U),i.offsetX=x,i.offsetY=P,s.value){const le=n==null?void 0:n.value;s.value.style.transform=le?`translate(${x}px, calc(-50% + ${P}px))`:`translate(${x}px, ${P}px)`,c.value=!0}},ne=()=>{c.value=!1,document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",ne)};document.addEventListener("mousemove",ae),document.addEventListener("mouseup",ne)},u=()=>{const r=me(t);r&&s.value&&r.addEventListener("mousedown",p)},l=()=>{const r=me(t);r&&s.value&&r.removeEventListener("mousedown",p)},f=()=>{i.offsetX=0,i.offsetY=0;const r=me(s);r&&(r.style.transform="")};return Re(()=>{Tt(()=>{o.value?u():l()})}),Pt(()=>{l()}),{dragging:c,resetPosition:f,transform:i}}const yo=C({__name:"modal",props:{modalApi:{default:void 0},animationType:{},appendToMain:{type:Boolean,default:!1},bordered:{type:Boolean},cancelText:{},centered:{type:Boolean},class:{},closable:{type:Boolean},closeOnClickModal:{type:Boolean},closeOnPressEscape:{type:Boolean},confirmDisabled:{type:Boolean},confirmLoading:{type:Boolean},confirmText:{},contentClass:{},description:{},destroyOnClose:{type:Boolean,default:!1},draggable:{type:Boolean},footer:{type:Boolean},footerClass:{},fullscreen:{type:Boolean},fullscreenButton:{type:Boolean},header:{type:Boolean},headerClass:{},loading:{type:Boolean},modal:{type:Boolean},openAutoFocus:{type:Boolean},overlayBlur:{},showCancelButton:{type:Boolean},showConfirmButton:{type:Boolean},submitting:{type:Boolean},title:{},titleTooltip:{},zIndex:{}},setup(s){var ie,we;const t=s,o=bt.getComponents(),a=O(),n=O(),i=O(),c=O(),p=O(),u=It();Ve("DISMISSABLE_MODAL_ID",u);const{$t:l}=Ct(),{isMobile:f}=_t(),r=(we=(ie=t.modalApi)==null?void 0:ie.useStore)==null?void 0:we.call(ie),{appendToMain:m,bordered:_,cancelText:B,centered:k,class:A,closable:T,closeOnClickModal:L,closeOnPressEscape:oe,confirmDisabled:se,confirmLoading:q,confirmText:H,contentClass:U,description:S,destroyOnClose:j,draggable:ae,footer:ne,footerClass:$,fullscreen:x,fullscreenButton:P,header:le,headerClass:Ke,loading:be,modal:Ye,openAutoFocus:Xe,overlayBlur:He,showCancelButton:Ue,showConfirmButton:je,submitting:I,title:re,titleTooltip:Ce,animationType:We,zIndex:Je}=Dt(t,r),W=F(()=>x.value||f.value),_e=F(()=>ae.value&&!W.value&&le.value),De=F(()=>k.value&&!W.value),Oe=F(()=>m.value?`#${Ot}>div:not(.absolute)>div`:void 0),{dragging:Ge,transform:Ze}=vo(i,c,_e,Oe,De),ce=O(!1),pe=O(!0);Ft(()=>{var d;return(d=r==null?void 0:r.value)==null?void 0:d.isOpen},d=>Q(null,null,function*(){if(d){if(pe.value=!1,ce.value||(ce.value=!0),yield he(),!a.value)return;const D=a.value.getContentRef();i.value=D.$el;const{offsetX:z,offsetY:R}=Ze;i.value.style.transform=De.value?`translate(${z}px, calc(-50% + ${R}px))`:`translate(${z}px, ${R}px)`}}),{immediate:!0}),qt(()=>{var d;m.value||(d=t.modalApi)==null||d.close()});function Qe(){var d;(d=t.modalApi)==null||d.setState(D=>V(y({},D),{fullscreen:!x.value}))}function et(d){(!L.value||I.value)&&(d.preventDefault(),d.stopPropagation())}function tt(d){(!oe.value||I.value)&&d.preventDefault()}function ot(d){Xe.value||d==null||d.preventDefault()}function st(d){const D=d.target,z=D==null?void 0:D.dataset.dismissableModal;(!L.value||z!==u||I.value)&&(d.preventDefault(),d.stopPropagation())}function Be(d){d.preventDefault(),d.stopPropagation()}const at=F(()=>!e(j)&&e(ce)),nt=()=>{requestAnimationFrame(()=>{var d;(d=t.modalApi)==null||d.onOpened()})};function lt(){var d;pe.value=!0,(d=t.modalApi)==null||d.onClosed()}return(d,D)=>{var z;return v(),g(e(io),{modal:!1,open:(z=e(r))==null?void 0:z.isOpen,"onUpdate:open":D[2]||(D[2]=()=>{var R;return e(I)||(R=s.modalApi)==null?void 0:R.close()})},{default:h(()=>{var R;return[K(e(po),{ref_key:"contentRef",ref:a,"append-to":Oe.value,class:N(e(E)("left-0 right-0 top-[10vh] mx-auto flex max-h-[80%] w-[520px] flex-col p-0",W.value?"sm:rounded-none":"sm:rounded-[var(--radius)]",e(A),{"border border-border":e(_),"shadow-3xl":!e(_),"left-0 top-0 size-full max-h-full !translate-x-0 !translate-y-0":W.value,"top-1/2":e(k)&&!W.value,"duration-300":!e(Ge),hidden:pe.value})),"force-mount":at.value,modal:e(Ye),open:(R=e(r))==null?void 0:R.isOpen,"show-close":e(T),"animation-type":e(We),"z-index":e(Je),"overlay-blur":e(He),"close-class":"top-3",onCloseAutoFocus:Be,onClosed:lt,"close-disabled":e(I),onEscapeKeyDown:tt,onFocusOutside:Be,onInteractOutside:et,onOpenAutoFocus:ot,onOpened:nt,onPointerDownOutside:st},{default:h(()=>[K(e(mo),{ref_key:"headerRef",ref:c,class:N(e(E)("px-5 py-4",{"border-b":e(_),hidden:!e(le),"cursor-move select-none":_e.value},e(Ke)))},{default:h(()=>[e(re)?(v(),g(e(Ie),{key:0,class:"text-left"},{default:h(()=>[b(d.$slots,"title",{},()=>[ee(te(e(re))+" ",1),e(Ce)?b(d.$slots,"titleTooltip",{key:0},()=>[K(e(zt),{"trigger-class":"pb-1"},{default:h(()=>[ee(te(e(Ce)),1)]),_:1})]):w("",!0)])]),_:3})):w("",!0),e(S)?(v(),g(e(Pe),{key:1},{default:h(()=>[b(d.$slots,"description",{},()=>[ee(te(e(S)),1)])]),_:3})):w("",!0),!e(re)||!e(S)?(v(),g(e(Bt),{key:2},{default:h(()=>[e(re)?w("",!0):(v(),g(e(Ie),{key:0})),e(S)?w("",!0):(v(),g(e(Pe),{key:1}))]),_:1})):w("",!0)]),_:3},8,["class"]),St("div",{ref_key:"wrapperRef",ref:n,class:N(e(E)("relative min-h-40 flex-1 overflow-y-auto p-3",e(U),{"pointer-events-none":e(be)||e(I)}))},[b(d.$slots,"default")],2),e(be)||e(I)?(v(),g(e(wt),{key:0,spinning:""})):w("",!0),e(P)?(v(),g(e(kt),{key:1,class:"flex-center absolute right-10 top-3 hidden size-6 rounded-full px-1 text-lg text-foreground/80 opacity-70 transition-opacity hover:bg-accent hover:text-accent-foreground hover:opacity-100 focus:outline-none disabled:pointer-events-none sm:block",onClick:Qe},{default:h(()=>[e(x)?(v(),g(e(lo),{key:0,class:"size-3.5"})):(v(),g(e(no),{key:1,class:"size-3.5"}))]),_:1})):w("",!0),e(ne)?(v(),g(e(fo),{key:2,ref_key:"footerRef",ref:p,class:N(e(E)("flex-row items-center justify-end p-2",{"border-t":e(_)},e($)))},{default:h(()=>[b(d.$slots,"prepend-footer"),b(d.$slots,"footer",{},()=>[e(Ue)?(v(),g(Ee(e(o).DefaultButton||e($e)),{key:0,variant:"ghost",disabled:e(I),onClick:D[0]||(D[0]=()=>{var J;return(J=s.modalApi)==null?void 0:J.onCancel()})},{default:h(()=>[b(d.$slots,"cancelText",{},()=>[ee(te(e(B)||e(l)("cancel")),1)])]),_:3},8,["disabled"])):w("",!0),b(d.$slots,"center-footer"),e(je)?(v(),g(Ee(e(o).PrimaryButton||e($e)),{key:1,disabled:e(se),loading:e(q)||e(I),onClick:D[1]||(D[1]=()=>{var J;return(J=s.modalApi)==null?void 0:J.onConfirm()})},{default:h(()=>[b(d.$slots,"confirmText",{},()=>[ee(te(e(H)||e(l)("confirm")),1)])]),_:3},8,["disabled","loading"])):w("",!0)]),b(d.$slots,"append-footer")]),_:3},8,["class"])):w("",!0)]),_:3},8,["append-to","class","force-mount","modal","open","show-close","animation-type","z-index","overlay-blur","close-disabled"])]}),_:3},8,["open"])}}});class go{constructor(t={}){Z(this,"sharedData",{payload:{}});Z(this,"store");Z(this,"api");Z(this,"state");const r=t,{connectedComponent:o,onBeforeClose:a,onCancel:n,onClosed:i,onConfirm:c,onOpenChange:p,onOpened:u}=r,l=G(r,["connectedComponent","onBeforeClose","onCancel","onClosed","onConfirm","onOpenChange","onOpened"]),f={bordered:!0,centered:!1,class:"",closeOnClickModal:!0,closeOnPressEscape:!0,confirmDisabled:!1,confirmLoading:!1,contentClass:"",destroyOnClose:!0,draggable:!1,footer:!0,footerClass:"",fullscreen:!1,fullscreenButton:!0,header:!0,headerClass:"",isOpen:!1,loading:!1,modal:!0,openAutoFocus:!1,showCancelButton:!0,showConfirmButton:!0,title:"",animationType:"slide"};this.store=new Vt(y(y({},f),l),{onUpdate:()=>{var _,B,k;const m=this.store.state;(m==null?void 0:m.isOpen)===((_=this.state)==null?void 0:_.isOpen)?this.state=m:(this.state=m,(k=(B=this.api).onOpenChange)==null||k.call(B,!!(m!=null&&m.isOpen)))}}),this.state=this.store.state,this.api={onBeforeClose:a,onCancel:n,onClosed:i,onConfirm:c,onOpenChange:p,onOpened:u},Rt(this)}close(){return Q(this,null,function*(){var o,a,n;((n=yield(a=(o=this.api).onBeforeClose)==null?void 0:a.call(o))!=null?n:!0)&&this.store.setState(i=>V(y({},i),{isOpen:!1}))})}getData(){var t,o;return(o=(t=this.sharedData)==null?void 0:t.payload)!=null?o:{}}lock(t=!0){return this.setState({submitting:t})}onCancel(){var t,o;this.api.onCancel?(o=(t=this.api).onCancel)==null||o.call(t):this.close()}onClosed(){var t,o;this.state.isOpen||(o=(t=this.api).onClosed)==null||o.call(t)}onConfirm(){var t,o;(o=(t=this.api).onConfirm)==null||o.call(t)}onOpened(){var t,o;this.state.isOpen&&((o=(t=this.api).onOpened)==null||o.call(t))}open(){this.store.setState(t=>V(y({},t),{isOpen:!0,submitting:!1}))}setData(t){return this.sharedData.payload=t,this}setState(t){return Lt(t)?this.store.setState(t):this.store.setState(o=>y(y({},o),t)),this}unlock(){return this.lock(!1)}}const Fe=Symbol("VBEN_MODAL_INJECT"),ho={};function wo(s={}){var u;const{connectedComponent:t}=s;if(t){const l=ze({}),f=O(!0);return[C((m,{attrs:_,slots:B})=>(Ve(Fe,{extendApi(A){Object.setPrototypeOf(l,A)},options:s,reCreateModal(){return Q(this,null,function*(){f.value=!1,yield he(),f.value=!0})}}),bo(l,y(y(y({},m),_),B)),()=>Te(f.value?t:"div",y(y({},m),_),B)),{name:"VbenParentModal",inheritAttrs:!1}),l]}const o=Le(Fe,{}),a=y(y(y({},ho),o.options),s);a.onOpenChange=l=>{var f,r,m;(f=s.onOpenChange)==null||f.call(s,l),(m=(r=o.options)==null?void 0:r.onOpenChange)==null||m.call(r,l)};const n=a.onClosed;a.onClosed=()=>{var l;n==null||n(),a.destroyOnClose&&((l=o.reCreateModal)==null||l.call(o))};const i=new go(a),c=i;c.useStore=l=>Nt(i.store,l);const p=C((l,{attrs:f,slots:r})=>()=>Te(yo,V(y(y({},l),f),{modalApi:c}),r),{name:"VbenModal",inheritAttrs:!1});return(u=o.extendApi)==null||u.call(o,c),[p,c]}function bo(s,t){return Q(this,null,function*(){var n;if(!t||Object.keys(t).length===0)return;yield he();const o=(n=s==null?void 0:s.store)==null?void 0:n.state;if(!o)return;const a=new Set(Object.keys(o));for(const i of Object.keys(t))a.has(i)&&!["class"].includes(i)&&console.warn(`[Vben Modal]: When 'connectedComponent' exists, do not set props or slots '${i}', which will increase complexity. If you need to modify the props of Modal, please use useVbenModal or api.`)})}export{Bo as C,Ut as D,ro as X,eo as a,oo as b,Xt as c,ao as d,wo as u};
