var BS=Object.defineProperty,VS=Object.defineProperties;var zS=Object.getOwnPropertyDescriptors;var Ih=Object.getOwnPropertySymbols;var qS=Object.prototype.hasOwnProperty,GS=Object.prototype.propertyIsEnumerable;var Bc=(e,t,o)=>t in e?BS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,cn=(e,t)=>{for(var o in t||(t={}))qS.call(t,o)&&Bc(e,o,t[o]);if(Ih)for(var o of Ih(t))GS.call(t,o)&&Bc(e,o,t[o]);return e},ya=(e,t)=>VS(e,zS(t));var wa=(e,t,o)=>Bc(e,typeof t!="symbol"?t+"":t,o);var Ul=(e,t,o)=>new Promise((r,s)=>{var i=f=>{try{b(o.next(f))}catch(E){s(E)}},d=f=>{try{b(o.throw(f))}catch(E){s(E)}},b=f=>f.done?r(f.value):Promise.resolve(f.value).then(i,d);b((o=o.apply(e,t)).next())});import{g as sy,m as WS,bP as jS,_ as Kn,r as US,F as cy,b as uy,aM as dy,u as fy,a as py,d as ai,bR as gy,O as hy,n as Fh,bt as ea,cU as YS,cA as KS,e9 as XS,az as ZS,ea as Ah,B as Eg,eb as JS,bI as Ph,aN as QS,S as eR,bN as tR,co as oi,bO as my,ce as oR,ca as nR,$ as hr,ec as rR,cc as lR,ed as aR,bj as iR,aI as sR,cf as cR,y as uR,cl as dR,b3 as fR,a_ as pR}from"./bootstrap-CmOIY23B.js";import{d as Pa,r as xt,c as ae,j as Hn,F as gR,av as hR,a8 as Ag,a1 as u,b as un,i as Co,p as ir,q as $o,w as no,e as sr,C as pe,o as ns,h as mr,a0 as Sg,az as ca,ay as mR,aB as vR,au as Pg,bF as bR,bG as xR,bH as Ia,bI as CR,aC as yR,t as Ta,b6 as vy,l as wR,b7 as ER,bC as SR,m as Vc,n as Mi,ac as kh,E as Lr,I as Lh,z as Nr,v as Nh,H as $h,D as _h,A as zc,u as Dn,R as Yl,S as Kl,a2 as RR,x as Hh,y as qc,B as DR,G as OR,bw as TR,at as MR,as as IR}from"../jse/index-index-Dn7Pga_E.js";import FR from"./index-Dv_Q-tLx.js";import{T as AR}from"./index-DqCPM53I.js";import{g as PR,T as kR,a as by,b as xy}from"./index-BuhGstFT.js";import{P as LR}from"./colors-CDlQsefj.js";import{u as NR}from"./useMergedState-DAlpYor9.js";import $R from"./index-DCVhQ827.js";const _R=e=>{const{componentCls:t,popoverBg:o,popoverColor:r,width:s,fontWeightStrong:i,popoverPadding:d,boxShadowSecondary:b,colorTextHeading:f,borderRadiusLG:E,zIndexPopup:m,marginXS:w,colorBgElevated:D}=e;return[{[t]:Kn(Kn({},US(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:m,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":D,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:o,backgroundClip:"padding-box",borderRadius:E,boxShadow:b,padding:d},[`${t}-title`]:{minWidth:s,marginBottom:w,color:f,fontWeight:i},[`${t}-inner-content`]:{color:r}})},PR(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${t}-pure`]:{position:"relative",maxWidth:"none",[`${t}-content`]:{display:"inline-block"}}}]},HR=e=>{const{componentCls:t}=e;return{[t]:LR.map(o=>{const r=e[`${o}-6`];return{[`&${t}-${o}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}},BR=e=>{const{componentCls:t,lineWidth:o,lineType:r,colorSplit:s,paddingSM:i,controlHeight:d,fontSize:b,lineHeight:f,padding:E}=e,m=d-Math.round(b*f),w=m/2,D=m/2-o,C=E;return{[t]:{[`${t}-inner`]:{padding:0},[`${t}-title`]:{margin:0,padding:`${w}px ${C}px ${D}px`,borderBottom:`${o}px ${r} ${s}`},[`${t}-inner-content`]:{padding:`${i}px ${C}px`}}}},VR=sy("Popover",e=>{const{colorBgElevated:t,colorText:o,wireframe:r}=e,s=WS(e,{popoverBg:t,popoverColor:o,popoverPadding:12});return[_R(s),HR(s),r&&BR(s),jS(s,"zoom-big")]},e=>{let{zIndexPopupBase:t}=e;return{zIndexPopup:t+30,width:177}}),zR=()=>Kn(Kn({},xy()),{content:ea(),title:ea()}),qR=Pa({compatConfig:{MODE:3},name:"APopover",inheritAttrs:!1,props:uy(zR(),Kn(Kn({},by()),{trigger:"hover",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1})),setup(e,t){let{expose:o,slots:r,attrs:s}=t;const i=xt();dy(e.visible===void 0),o({getPopupDomNode:()=>{var D,C;return(C=(D=i.value)===null||D===void 0?void 0:D.getPopupDomNode)===null||C===void 0?void 0:C.call(D)}});const{prefixCls:d,configProvider:b}=fy("popover",e),[f,E]=VR(d),m=ae(()=>b.getPrefixCls()),w=()=>{var D,C;const{title:M=Fh((D=r.title)===null||D===void 0?void 0:D.call(r)),content:v=Fh((C=r.content)===null||C===void 0?void 0:C.call(r))}=e,p=!!(Array.isArray(M)?M.length:M),T=!!(Array.isArray(v)?v.length:M);return!p&&!T?null:Hn(gR,null,[p&&Hn("div",{class:`${d.value}-title`},[M]),Hn("div",{class:`${d.value}-inner-content`},[v])])};return()=>{const D=py(e.overlayClassName,E.value);return f(Hn(kR,ai(ai(ai({},hy(e,["title","content"])),s),{},{prefixCls:d.value,ref:i,overlayClassName:D,transitionName:gy(m.value,"zoom-big",e.transitionName),"data-popover-inject":!0}),{title:w,default:r.default}))}}}),GR=cy(qR),WR=e=>{const{componentCls:t,iconCls:o,zIndexPopup:r,colorText:s,colorWarning:i,marginXS:d,fontSize:b,fontWeightStrong:f,lineHeight:E}=e;return{[t]:{zIndex:r,[`${t}-inner-content`]:{color:s},[`${t}-message`]:{position:"relative",marginBottom:d,color:s,fontSize:b,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${o}`]:{color:i,fontSize:b,flex:"none",lineHeight:1,paddingTop:(Math.round(b*E)-b)/2},"&-title":{flex:"auto",marginInlineStart:d},"&-title-only":{fontWeight:f}},[`${t}-description`]:{position:"relative",marginInlineStart:b+d,marginBottom:d,color:s,fontSize:b},[`${t}-buttons`]:{textAlign:"end",button:{marginInlineStart:d}}}}},jR=sy("Popconfirm",e=>WR(e),e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}});var UR=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(o[r[s]]=e[r[s]]);return o};const YR=()=>Kn(Kn({},xy()),{prefixCls:String,content:ea(),title:ea(),description:ea(),okType:QS("primary"),disabled:{type:Boolean,default:!1},okText:ea(),cancelText:ea(),icon:ea(),okButtonProps:Ph(),cancelButtonProps:Ph(),showCancel:{type:Boolean,default:!0},onConfirm:Function,onCancel:Function}),KR=Pa({compatConfig:{MODE:3},name:"APopconfirm",inheritAttrs:!1,props:uy(YR(),Kn(Kn({},by()),{trigger:"click",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0,okType:"primary",disabled:!1})),slots:Object,setup(e,t){let{slots:o,emit:r,expose:s,attrs:i}=t;const d=xt();dy(e.visible===void 0),s({getPopupDomNode:()=>{var B,I;return(I=(B=d.value)===null||B===void 0?void 0:B.getPopupDomNode)===null||I===void 0?void 0:I.call(B)}});const[b,f]=NR(!1,{value:hR(e,"open")}),E=(B,I)=>{e.open===void 0&&f(B),r("update:open",B),r("openChange",B,I)},m=B=>{E(!1,B)},w=B=>{var I;return(I=e.onConfirm)===null||I===void 0?void 0:I.call(e,B)},D=B=>{var I;E(!1,B),(I=e.onCancel)===null||I===void 0||I.call(e,B)},C=B=>{B.keyCode===eR.ESC&&b&&E(!1,B)},M=B=>{const{disabled:I}=e;I||E(B)},{prefixCls:v,getPrefixCls:p}=fy("popconfirm",e),T=ae(()=>p()),N=ae(()=>p("btn")),[k]=jR(v),[j]=YS("Popconfirm",KS.Popconfirm),J=()=>{var B,I,F,V,W;const{okButtonProps:ie,cancelButtonProps:U,title:_=(B=o.title)===null||B===void 0?void 0:B.call(o),description:z=(I=o.description)===null||I===void 0?void 0:I.call(o),cancelText:se=(F=o.cancel)===null||F===void 0?void 0:F.call(o),okText:ye=(V=o.okText)===null||V===void 0?void 0:V.call(o),okType:Y,icon:X=((W=o.icon)===null||W===void 0?void 0:W.call(o))||Hn(ZS,null,null),showCancel:Re=!0}=e,{cancelButton:ue,okButton:Q}=o,be=Kn({onClick:D,size:"small"},U),Ie=Kn(Kn(Kn({onClick:w},Ah(Y)),{size:"small"}),ie);return Hn("div",{class:`${v.value}-inner-content`},[Hn("div",{class:`${v.value}-message`},[X&&Hn("span",{class:`${v.value}-message-icon`},[X]),Hn("div",{class:[`${v.value}-message-title`,{[`${v.value}-message-title-only`]:!!z}]},[_])]),z&&Hn("div",{class:`${v.value}-description`},[z]),Hn("div",{class:`${v.value}-buttons`},[Re?ue?ue(be):Hn(Eg,be,{default:()=>[se||j.value.cancelText]}):null,Q?Q(Ie):Hn(JS,{buttonProps:Kn(Kn({size:"small"},Ah(Y)),ie),actionFn:w,close:m,prefixCls:N.value,quitOnNullishReturnValue:!0,emitEvent:!0},{default:()=>[ye||j.value.okText]})])])};return()=>{var B;const{placement:I,overlayClassName:F,trigger:V="click"}=e,W=UR(e,["placement","overlayClassName","trigger"]),ie=hy(W,["title","content","cancelText","okText","onUpdate:open","onConfirm","onCancel","prefixCls"]),U=py(v.value,F);return k(Hn(GR,ai(ai(ai({},ie),i),{},{trigger:V,placement:I,onOpenChange:M,open:b.value,overlayClassName:U,transitionName:gy(T.value,"zoom-big",e.transitionName),ref:d,"data-popover-inject":!0}),{default:()=>[XS(((B=o.default)===null||B===void 0?void 0:B.call(o))||[],{onKeydown:_=>{C(_)}},!1)],content:J}))}}}),XR=cy(KR),ZR="4.2.14",ka={coreVersion:ZR,uiVersion:"",tableVersion:"",designVersion:"",ganttVersion:""};var Gc,Bh;function bl(){if(Bh)return Gc;Bh=1;var e={keyId:1,cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1};return Gc=e,Gc}var Wc,Vh;function cr(){if(Vh)return Wc;Vh=1;function e(t,o,r){if(t)if(t.forEach)t.forEach(o,r);else for(var s=0,i=t.length;s<i;s++)o.call(r,t[s],s,t)}return Wc=e,Wc}var jc,zh;function Cy(){if(zh)return jc;zh=1;var e=Object.prototype.toString;return jc=e,jc}var Uc,qh;function rs(){if(qh)return Uc;qh=1;var e=Cy();function t(o){return function(r){return"[object "+o+"]"===e.call(r)}}return Uc=t,Uc}var Yc,Gh;function dn(){if(Gh)return Yc;Gh=1;var e=rs(),t=Array.isArray||e("Array");return Yc=t,Yc}var Kc,Wh;function Zr(){if(Wh)return Kc;Wh=1;function e(t,o){return t&&t.hasOwnProperty?t.hasOwnProperty(o):!1}return Kc=e,Kc}var Xc,jh;function ls(){if(jh)return Xc;jh=1;var e=Zr();function t(o,r,s){if(o)for(var i in o)e(o,i)&&r.call(s,o[i],i,o)}return Xc=t,Xc}var Zc,Uh;function Bn(){if(Uh)return Zc;Uh=1;var e=dn(),t=cr(),o=ls();function r(s,i,d){return s&&(e(s)?t:o)(s,i,d)}return Zc=r,Zc}var Jc,Yh;function mi(){if(Yh)return Jc;Yh=1;function e(t){return function(o){return typeof o===t}}return Jc=e,Jc}var Qc,Kh;function vr(){if(Kh)return Qc;Kh=1;var e=mi(),t=e("function");return Qc=t,Qc}var eu,Xh;function kg(){if(Xh)return eu;Xh=1;var e=Bn();function t(o,r){var s=Object[o];return function(i){var d=[];if(i){if(s)return s(i);e(i,r>1?function(b){d.push([""+b,i[b]])}:function(){d.push(arguments[r])})}return d}}return eu=t,eu}var tu,Zh;function kl(){if(Zh)return tu;Zh=1;var e=kg(),t=e("keys",1);return tu=t,tu}var ou,Jh;function Lg(){if(Jh)return ou;Jh=1;var e=Cy(),t=ls(),o=cr();function r(b,f){var E=b.__proto__.constructor;return f?new E(f):new E}function s(b,f){return f?i(b,f):b}function i(b,f){if(b)switch(e.call(b)){case"[object Object]":{var E=Object.create(Object.getPrototypeOf(b));return t(b,function(C,M){E[M]=s(C,f)}),E}case"[object Date]":case"[object RegExp]":return r(b,b.valueOf());case"[object Array]":case"[object Arguments]":{var m=[];return o(b,function(C){m.push(s(C,f))}),m}case"[object Set]":{var w=r(b);return w.forEach(function(C){w.add(s(C,f))}),w}case"[object Map]":{var D=r(b);return D.forEach(function(C,M){D.set(M,s(C,f))}),D}}return b}function d(b,f){return b&&i(b,f)}return ou=d,ou}var nu,Qh;function Ir(){if(Qh)return nu;Qh=1;var e=cr(),t=kl(),o=dn(),r=Lg(),s=Object.assign;function i(b,f,E){for(var m=f.length,w,D=1;D<m;D++)w=f[D],e(t(f[D]),E?function(C){b[C]=r(w[C],E)}:function(C){b[C]=w[C]});return b}var d=function(b){if(b){var f=arguments;if(b===!0){if(f.length>1)return b=o(b[1])?[]:{},i(b,f,!0)}else return s?s.apply(Object,f):i(b,f)}return b};return nu=d,nu}var ru,em;function JR(){if(em)return ru;em=1;var e=bl(),t=cr(),o=Bn(),r=vr(),s=Ir(),i=function(){};function d(){t(arguments,function(m){o(m,function(w,D){i[D]=r(w)?function(){var C=w.apply(i.$context,arguments);return i.$context=null,C}:w})})}function b(m){return s(e,m)}function f(){return e}var E="3.7.9";return i.VERSION=E,i.version=E,i.mixin=d,i.setup=b,i.setConfig=b,i.getConfig=f,ru=i,ru}var lu,tm;function Ng(){if(tm)return lu;tm=1;function e(t,o,r){for(var s=t.length-1;s>=0;s--)o.call(r,t[s],s,t)}return lu=e,lu}var au,om;function yy(){if(om)return au;om=1;var e=Ng(),t=kl();function o(r,s,i){e(t(r),function(d){s.call(i,r[d],d,r)})}return au=o,au}var iu,nm;function Ll(){if(nm)return iu;nm=1;function e(t){return t===null}return iu=e,iu}var su,rm;function vi(){if(rm)return su;rm=1;var e=Ll();function t(o,r){return function(s){return e(s)?r:s[o]}}return su=t,su}var cu,lm;function QR(){if(lm)return cu;lm=1;var e=Bn(),t=vr(),o=vi();function r(s,i,d){var b={};if(s)if(i)t(i)||(i=o(i)),e(s,function(f,E){b[E]=i.call(d,f,E,s)});else return s;return b}return cu=r,cu}var uu,am;function bi(){if(am)return uu;am=1;function e(t){return t?t.constructor===Object:!1}return uu=e,uu}var du,im;function wy(){if(im)return du;im=1;function e(t){return t!=="__proto__"&&t!=="constructor"}return du=e,du}var fu,sm;function eD(){if(sm)return fu;sm=1;var e=dn(),t=bi(),o=vr(),r=Bn(),s=wy();function i(b,f){return t(b)&&t(f)||e(b)&&e(f)?(r(f,function(E,m){s(m)&&(b[m]=o(f)?E:i(b[m],E))}),b):f}var d=function(b){b||(b={});for(var f=arguments,E=f.length,m,w=1;w<E;w++)m=f[w],m&&i(b,m);return b};return fu=d,fu}var pu,cm;function La(){if(cm)return pu;cm=1;var e=Bn();function t(o,r,s){var i=[];if(o&&arguments.length>1){if(o.map)return o.map(r,s);e(o,function(){i.push(r.apply(s,arguments))})}return i}return pu=t,pu}var gu,um;function ac(){if(um)return gu;um=1;var e=Zr(),t=dn();function o(r,s,i,d,b){return function(f,E,m){if(f&&E){if(r&&f[r])return f[r](E,m);if(s&&t(f)){for(var w=0,D=f.length;w<D;w++)if(!!E.call(m,f[w],w,f)===d)return[!0,!1,w,f[w]][i]}else for(var C in f)if(e(f,C)&&!!E.call(m,f[C],C,f)===d)return[!0,!1,C,f[C]][i]}return b}}return gu=o,gu}var hu,dm;function Ey(){if(dm)return hu;dm=1;var e=ac(),t=e("some",1,0,!0,!1);return hu=t,hu}var mu,fm;function Sy(){if(fm)return mu;fm=1;var e=ac(),t=e("every",1,1,!1,!0);return mu=t,mu}var vu,pm;function xi(){if(pm)return vu;pm=1;var e=Zr();function t(o,r){if(o){if(o.includes)return o.includes(r);for(var s in o)if(e(o,s)&&r===o[s])return!0}return!1}return vu=t,vu}var bu,gm;function Ry(){if(gm)return bu;gm=1;var e=dn(),t=xi();function o(r,s){var i,d=0;if(e(r)&&e(s)){for(i=s.length;d<i;d++)if(!t(r,s[d]))return!1;return!0}return t(r,s)}return bu=o,bu}var xu,hm;function Dy(){if(hm)return xu;hm=1;var e=Bn(),t=xi(),o=vr(),r=vi();function s(i,d,b){var f=[];if(d){o(d)||(d=r(d));var E,m={};e(i,function(w,D){E=d.call(b,w,D,i),m[E]||(m[E]=1,f.push(w))})}else e(i,function(w){t(f,w)||f.push(w)});return f}return xu=s,xu}var Cu,mm;function $g(){if(mm)return Cu;mm=1;var e=La();function t(o){return e(o,function(r){return r})}return Cu=t,Cu}var yu,vm;function tD(){if(vm)return yu;vm=1;var e=Dy(),t=$g();function o(){for(var r=arguments,s=[],i=0,d=r.length;i<d;i++)s=s.concat(t(r[i]));return e(s)}return yu=o,yu}var wu,bm;function Jr(){if(bm)return wu;bm=1;var e="undefined";return wu=e,wu}var Eu,xm;function xl(){if(xm)return Eu;xm=1;var e=Jr(),t=mi(),o=t(e);return Eu=o,Eu}var Su,Cm;function Nl(){if(Cm)return Su;Cm=1;var e=Ll(),t=xl();function o(r){return e(r)||t(r)}return Su=o,Su}var Ru,ym;function Oy(){if(ym)return Ru;ym=1;var e=/(.+)?\[(\d+)\]$/;return Ru=e,Ru}var Du,wm;function _g(){if(wm)return Du;wm=1;function e(t){return t?t.splice&&t.join?t:(""+t).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}return Du=e,Du}var Ou,Em;function as(){if(Em)return Ou;Em=1;var e=Oy(),t=_g(),o=Zr(),r=xl(),s=Nl();function i(f,E,m){if(s(f))return m;var w=b(f,E);return r(w)?m:w}function d(f,E){var m=E?E.match(e):"";return m?m[1]?f[m[1]]?f[m[1]][m[2]]:void 0:f[m[2]]:f[E]}function b(f,E){if(f){var m,w,D,C=0;if(f[E]||o(f,E))return f[E];if(w=t(E),D=w.length,D){for(m=f;C<D;C++)if(m=d(m,w[C]),s(m))return C===D-1?m:void 0}return m}}return Ou=i,Ou}var Tu,Sm;function Hg(){if(Sm)return Tu;Sm=1;var e=cr(),t=$g(),o=La(),r=dn(),s=vr(),i=bi(),d=xl(),b=Ll(),f=Nl(),E=as(),m=vi(),w="asc",D="desc";function C(T,N){return d(T)?1:b(T)?d(N)?-1:1:T&&T.localeCompare?T.localeCompare(N):T>N?1:-1}function M(T,N,k){return function(j,J){var B=j[T],I=J[T];return B===I?k?k(j,J):0:N.order===D?C(I,B):C(B,I)}}function v(T,N,k,j){var J=[];return k=r(k)?k:[k],e(k,function(B,I){if(B){var F=B,V;r(B)?(F=B[0],V=B[1]):i(B)&&(F=B.field,V=B.order),J.push({field:F,order:V||w}),e(N,s(F)?function(W,ie){W[I]=F.call(j,W.data,ie,T)}:function(W){W[I]=F?E(W.data,F):W.data})}}),J}function p(T,N,k){if(T){if(f(N))return t(T).sort(C);for(var j,J=o(T,function(F){return{data:F}}),B=v(T,J,N,k),I=B.length-1;I>=0;)j=M(I,B[I],j),I--;return j&&(J=J.sort(j)),o(J,m("data"))}return[]}return Tu=p,Tu}var Mu,Rm;function oD(){if(Rm)return Mu;Rm=1;var e=Hg(),t=e;return Mu=t,Mu}var Iu,Dm;function Ty(){if(Dm)return Iu;Dm=1;function e(t,o){return t>=o?t:(t=t>>0)+Math.round(Math.random()*((o||9)-t))}return Iu=e,Iu}var Fu,Om;function Ci(){if(Om)return Fu;Om=1;var e=kg(),t=e("values",0);return Fu=t,Fu}var Au,Tm;function My(){if(Tm)return Au;Tm=1;var e=Ty(),t=Ci();function o(r){for(var s,i=[],d=t(r),b=d.length-1;b>=0;b--)s=b>0?e(0,b):0,i.push(d[s]),d.splice(s,1);return i}return Au=o,Au}var Pu,Mm;function nD(){if(Mm)return Pu;Mm=1;var e=My();function t(o,r){var s=e(o);return arguments.length<=1?s[0]:(r<s.length&&(s.length=r||0),s)}return Pu=t,Pu}var ku,Im;function Iy(){if(Im)return ku;Im=1;function e(t){return function(o){if(o){var r=t(o&&o.replace?o.replace(/,/g,""):o);if(!isNaN(r))return r}return 0}}return ku=e,ku}var Lu,Fm;function Na(){if(Fm)return Lu;Fm=1;var e=Iy(),t=e(parseFloat);return Lu=t,Lu}var Nu,Am;function $a(){if(Am)return Nu;Am=1;var e=Na();function t(o,r,s){var i=[],d=arguments.length;if(o){if(r=d>=2?e(r):0,s=d>=3?e(s):o.length,o.slice)return o.slice(r,s);for(;r<s;r++)i.push(o[r])}return i}return Nu=t,Nu}var $u,Pm;function rD(){if(Pm)return $u;Pm=1;var e=Bn();function t(o,r,s){var i=[];if(o&&r){if(o.filter)return o.filter(r,s);e(o,function(d,b){r.call(s,d,b,o)&&i.push(d)})}return i}return $u=t,$u}var _u,km;function lD(){if(km)return _u;km=1;var e=ac(),t=e("",0,2,!0);return _u=t,_u}var Hu,Lm;function aD(){if(Lm)return Hu;Lm=1;var e=ac(),t=e("find",1,3,!0);return Hu=t,Hu}var Bu,Nm;function iD(){if(Nm)return Bu;Nm=1;var e=dn(),t=Ci();function o(r,s,i){if(r){e(r)||(r=t(r));for(var d=r.length-1;d>=0;d--)if(s.call(i,r[d],d,r))return r[d]}}return Bu=o,Bu}var Vu,$m;function sD(){if($m)return Vu;$m=1;var e=kl();function t(o,r,s){if(o){var i,d,b=0,f=null,E=s,m=arguments.length>2,w=e(o);if(o.length&&o.reduce)return d=function(){return r.apply(f,arguments)},m?o.reduce(d,E):o.reduce(d);for(m&&(b=1,E=o[w[0]]),i=w.length;b<i;b++)E=r.call(f,E,o[w[b]],b,o);return E}}return Vu=t,Vu}var zu,_m;function cD(){if(_m)return zu;_m=1;var e=dn();function t(o,r,s,i){if(e(o)&&o.copyWithin)return o.copyWithin(r,s,i);var d,b,f=r>>0,E=s>>0,m=o.length,w=arguments.length>3?i>>0:m;if(f<m&&(f=f>=0?f:m+f,f>=0&&(E=E>=0?E:m+E,w=w>=0?w:m+w,E<w)))for(d=0,b=o.slice(E,w);f<m&&!(b.length<=d);f++)o[f]=b[d++];return o}return zu=t,zu}var qu,Hm;function uD(){if(Hm)return qu;Hm=1;var e=dn();function t(o,r){var s,i=[],d=r>>0||1;if(e(o))if(d>=0&&o.length>d)for(s=0;s<o.length;)i.push(o.slice(s,s+d)),s+=d;else i=o.length?[o]:o;return i}return qu=t,qu}var Gu,Bm;function Fy(){if(Bm)return Gu;Bm=1;var e=La(),t=vi();function o(r,s){return e(r,t(s))}return Gu=o,Gu}var Wu,Vm;function Ay(){if(Vm)return Wu;Vm=1;var e=vr(),t=Nl(),o=as(),r=cr();function s(i){return function(d,b){if(d&&d.length){var f,E;return r(d,function(m,w){b&&(m=e(b)?b(m,w,d):o(m,b)),!t(m)&&(t(f)||i(f,m))&&(E=w,f=m)}),d[E]}return f}}return Wu=s,Wu}var ju,zm;function Py(){if(zm)return ju;zm=1;var e=Ay(),t=e(function(o,r){return o<r});return ju=t,ju}var Uu,qm;function ky(){if(qm)return Uu;qm=1;var e=Fy(),t=Py();function o(r){var s,i,d,b=[];if(r&&r.length)for(s=0,i=t(r,function(f){return f?f.length:0}),d=i?i.length:0;s<d;s++)b.push(e(r,s));return b}return Uu=o,Uu}var Yu,Gm;function dD(){if(Gm)return Yu;Gm=1;var e=ky();function t(){return e(arguments)}return Yu=t,Yu}var Ku,Wm;function fD(){if(Wm)return Ku;Wm=1;var e=Ci(),t=Bn();function o(r,s){var i={};return s=s||[],t(e(r),function(d,b){i[d]=s[b]}),i}return Ku=o,Ku}var Xu,jm;function pD(){if(jm)return Xu;jm=1;var e=dn(),t=cr();function o(s,i){var d=[];return t(s,function(b){d=d.concat(e(b)?i?o(b,i):b:[b])}),d}function r(s,i){return e(s)?o(s,i):[]}return Xu=r,Xu}var Zu,Um;function gD(){if(Um)return Zu;Um=1;var e=La(),t=dn();function o(s,i){for(var d=0,b=i.length;s&&d<b;)s=s[i[d++]];return b&&s?s:0}function r(s,i){for(var d,b=arguments,f=[],E=[],m=2,w=b.length;m<w;m++)f.push(b[m]);if(t(i)){for(w=i.length-1,m=0;m<w;m++)E.push(i[m]);i=i[w]}return e(s,function(D){if(E.length&&(D=o(D,E)),d=D[i]||i,d&&d.apply)return d.apply(D,f)})}return Zu=r,Zu}var Ju,Ym;function hD(){if(Ym)return Ju;Ym=1;function e(t,o){return(console[t]||console.log)(o)}return Ju=e,Ju}var Qu,Km;function Ly(){if(Km)return Qu;Km=1;function e(t,o){try{delete t[o]}catch(r){t[o]=void 0}}return Qu=e,Qu}var ed,Xm;function Ny(){if(Xm)return ed;Xm=1;var e=dn(),t=Ng(),o=yy();function r(s,i,d){return s&&(e(s)?t:o)(s,i,d)}return ed=r,ed}var td,Zm;function ic(){if(Zm)return td;Zm=1;var e=mi(),t=e("object");return td=t,td}var od,Jm;function $y(){if(Jm)return od;Jm=1;var e=Ly(),t=bi(),o=ic(),r=dn(),s=Ll(),i=Ir(),d=ls();function b(f,E,m){if(f){var w,D=arguments.length>1&&(s(E)||!o(E)),C=D?m:E;if(t(f))d(f,D?function(M,v){f[v]=E}:function(M,v){e(f,v)}),C&&i(f,C);else if(r(f)){if(D)for(w=f.length;w>0;)w--,f[w]=E;else f.length=0;C&&f.push.apply(f,C)}}return f}return od=b,od}var nd,Qm;function _y(){if(Qm)return nd;Qm=1;var e=Ly(),t=vr(),o=dn(),r=Bn(),s=cr(),i=Ny(),d=$y(),b=Nl();function f(m){return function(w,D){return D===m}}function E(m,w,D){if(m){if(!b(w)){var C=[],M=[];return t(w)||(w=f(w)),r(m,function(v,p,T){w.call(D,v,p,T)&&C.push(p)}),o(m)?i(C,function(v,p){M.push(m[v]),m.splice(v,1)}):(M={},s(C,function(v){M[v]=m[v],e(m,v)})),M}return d(m)}return m}return nd=E,nd}var rd,ev;function mD(){if(ev)return rd;ev=1;var e=bl(),t=hD(),o=Hg(),r=Lg(),s=Nl(),i=Bn(),d=_y(),b=Ir();function f(m,w){i(m,function(D){D[w]&&!D[w].length&&d(D,w)})}function E(m,w){var D=b({},e.treeOptions,w),C=D.strict,M=D.key,v=D.parentKey,p=D.children,T=D.mapChildren,N=D.sortKey,k=D.reverse,j=D.data,J=[],B={},I={},F,V,W;return N&&(m=o(r(m),N),k&&(m=m.reverse())),i(m,function(ie){F=ie[M],I[F]&&t("warn","Duplicate primary key="+F),I[F]=!0}),i(m,function(ie){F=ie[M],j?(V={},V[j]=ie):V=ie,W=ie[v],B[F]=B[F]||[],V[M]=F,V[v]=W,F===W&&(W=null,t("warn","Error infinite Loop. key="+F+" parentKey="+F)),B[W]=B[W]||[],B[W].push(V),V[p]=B[F],T&&(V[T]=B[F]),(!C||C&&s(W))&&(I[W]||J.push(V))}),C&&f(m,p),J}return rd=E,rd}var ld,tv;function vD(){if(tv)return ld;tv=1;var e=bl(),t=cr(),o=Ir();function r(i,d,b,f){var E=f.key,m=f.parentKey,w=f.children,D=f.data,C=f.updated,M=f.clear;return t(b,function(v){var p=v[w];D&&(v=v[D]),C!==!1&&(v[m]=d?d[E]:null),i.push(v),p&&p.length&&r(i,v,p,f),M&&delete v[w]}),i}function s(i,d){return r([],null,i,o({},e.treeOptions,d))}return ld=s,ld}var ad,ov;function sc(){if(ov)return ad;ov=1;function e(t){return function(o,r,s,i){var d=s||{},b=d.children||"children";return t(null,o,r,i,[],[],b,d)}}return ad=e,ad}var id,nv;function bD(){if(nv)return id;nv=1;var e=sc();function t(r,s,i,d,b,f,E,m){if(s){var w,D,C,M,v,p;for(D=0,C=s.length;D<C;D++){if(w=s[D],M=b.concat([""+D]),v=f.concat([w]),i.call(d,w,D,s,M,r,v))return{index:D,item:w,path:M,items:s,parent:r,nodes:v};if(E&&w&&(p=t(w,w[E],i,d,M.concat([E]),v,E),p))return p}}}var o=e(t);return id=o,id}var sd,rv;function Hy(){if(rv)return sd;rv=1;var e=sc(),t=Bn();function o(s,i,d,b,f,E,m,w){var D,C;t(i,function(M,v){D=f.concat([""+v]),C=E.concat([M]),d.call(b,M,v,i,D,s,C),M&&m&&(D.push(m),o(M,M[m],d,b,D,C,m))})}var r=e(o);return sd=r,sd}var cd,lv;function xD(){if(lv)return cd;lv=1;var e=sc(),t=La();function o(s,i,d,b,f,E,m,w){var D,C,M,v=w.mapChildren||m;return t(i,function(p,T){return D=f.concat([""+T]),C=E.concat([p]),M=d.call(b,p,T,i,D,s,C),M&&p&&m&&p[m]&&(M[v]=o(p,p[m],d,b,D,C,m,w)),M})}var r=e(o);return cd=r,cd}var ud,av;function CD(){if(av)return ud;av=1;var e=Hy();function t(o,r,s,i){var d=[];return o&&r&&e(o,function(b,f,E,m,w,D){r.call(i,b,f,E,m,w,D)&&d.push(b)},s),d}return ud=t,ud}var dd,iv;function yD(){if(iv)return dd;iv=1;var e=sc(),t=cr(),o=Ir();function r(i,d,b,f,E,m,w,D,C){var M,v,p,T,N,k=[],j=C.original,J=C.data,B=C.mapChildren||D,I=C.isEvery;return t(b,function(F,V){M=m.concat([""+V]),v=w.concat([F]),T=i&&!I||f.call(E,F,V,b,M,d,v),N=D&&F[D],T||N?(j?p=F:(p=o({},F),J&&(p[J]=F)),p[B]=r(T,F,F[D],f,E,M,v,D,C),(T||p[B].length)&&k.push(p)):T&&k.push(p)}),k}var s=e(function(i,d,b,f,E,m,w,D){return r(0,i,d,b,f,E,m,w,D)});return dd=s,dd}var fd,sv;function By(){if(sv)return fd;sv=1;function e(t,o){if(t.indexOf)return t.indexOf(o);for(var r=0,s=t.length;r<s;r++)if(o===t[r])return r}return fd=e,fd}var pd,cv;function Vy(){if(cv)return pd;cv=1;function e(t,o){if(t.lastIndexOf)return t.lastIndexOf(o);for(var r=t.length-1;r>=0;r--)if(o===t[r])return r;return-1}return pd=e,pd}var gd,uv;function Cl(){if(uv)return gd;uv=1;var e=mi(),t=e("number");return gd=t,gd}var hd,dv;function wD(){if(dv)return hd;dv=1;var e=Cl();function t(o){return e(o)&&isNaN(o)}return hd=t,hd}var md,fv;function $l(){if(fv)return md;fv=1;var e=mi(),t=e("string");return md=t,md}var vd,pv;function ua(){if(pv)return vd;pv=1;var e=rs(),t=e("Date");return vd=t,vd}var bd,gv;function is(){if(gv)return bd;gv=1;var e=parseInt;return bd=e,bd}var xd,hv;function ED(){if(hv)return xd;hv=1;function e(t){return Date.UTC(t.y,t.M||0,t.d||1,t.H||0,t.m||0,t.s||0,t.S||0)}return xd=e,xd}var Cd,mv;function Hr(){if(mv)return Cd;mv=1;function e(t){return t.getTime()}return Cd=e,Cd}var yd,vv;function br(){if(vv)return yd;vv=1;var e=is(),t=ED(),o=Hr(),r=$l(),s=ua();function i(z){return"(\\d{"+z+"})"}function d(z){return z<10?z*100:z<100?z*10:z}function b(z){return isNaN(z)?z:e(z)}for(var f=i(2),E=i("1,2"),m=i("1,7"),w=i("3,4"),D=".{1}",C=D+E,M="(([zZ])|([-+]\\d{2}:?\\d{2}))",v=[w,C,C,C,C,C,D+m,M],p=[],T=v.length-1;T>=0;T--){for(var N="",k=0;k<T+1;k++)N+=v[k];p.push(new RegExp("^"+N+"$"))}function j(z){for(var se,ye={},Y=0,X=p.length;Y<X;Y++)if(se=z.match(p[Y]),se){ye.y=se[1],ye.M=se[2],ye.d=se[3],ye.H=se[4],ye.m=se[5],ye.s=se[6],ye.S=se[7],ye.Z=se[8];break}return ye}for(var J=[["yyyy",w],["yy",f],["MM",f],["M",E],["dd",f],["d",E],["HH",f],["H",E],["mm",f],["m",E],["ss",f],["s",E],["SSS",i(3)],["S",m],["Z",M]],B={},I=["\\[([^\\]]+)\\]"],k=0;k<J.length;k++){var F=J[k];B[F[0]]=F[1]+"?",I.push(F[0])}var V=new RegExp(I.join("|"),"g"),W={};function ie(z,se){var ye=W[se];if(!ye){var Y=[],X=se.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(V,function(De,Me){var Se=De.charAt(0);return Se==="["?Me:(Y.push(Se),B[De])});ye=W[se]={_i:Y,_r:new RegExp(X)}}var Re={},ue=z.match(ye._r);if(ue){for(var Q=ye._i,be=1,Ie=ue.length;be<Ie;be++)Re[Q[be-1]]=ue[be];return Re}return Re}function U(z){if(/^[zZ]/.test(z.Z))return new Date(t(z));var se=z.Z.match(/([-+])(\d{2}):?(\d{2})/);return se?new Date(t(z)-(se[1]==="-"?-1:1)*e(se[2])*36e5+e(se[3])*6e4):new Date("")}function _(z,se){if(z){var ye=s(z);if(ye||!se&&/^[0-9]{11,15}$/.test(z))return new Date(ye?o(z):e(z));if(r(z)){var Y=se?ie(z,se):j(z);if(Y.y)return Y.M&&(Y.M=b(Y.M)-1),Y.S&&(Y.S=d(b(Y.S.substring(0,3)))),Y.Z?U(Y):new Date(Y.y,Y.M||0,Y.d||1,Y.H||0,Y.m||0,Y.s||0,Y.S||0)}}return new Date("")}return yd=_,yd}var wd,bv;function cc(){if(bv)return wd;bv=1;function e(){return new Date}return wd=e,wd}var Ed,xv;function zy(){if(xv)return Ed;xv=1;var e=ua(),t=br(),o=cc();function r(s){var i,d=s?t(s):o();return e(d)?(i=d.getFullYear(),i%4===0&&(i%100!==0||i%400===0)):!1}return Ed=r,Ed}var Sd,Cv;function SD(){if(Cv)return Sd;Cv=1;var e=dn(),t=Zr();function o(r,s,i){if(r){if(e(r))for(var d=0,b=r.length;d<b&&s.call(i,r[d],d,r)!==!1;d++);else for(var f in r)if(t(r,f)&&s.call(i,r[f],f,r)===!1)break}}return Sd=o,Sd}var Rd,yv;function RD(){if(yv)return Rd;yv=1;var e=dn(),t=Zr();function o(r,s,i){if(r){var d,b;if(e(r))for(d=r.length-1;d>=0&&s.call(i,r[d],d,r)!==!1;d--);else for(b=t(r),d=b.length-1;d>=0&&s.call(i,r[b[d]],b[d],r)!==!1;d--);}}return Rd=o,Rd}var Dd,wv;function qy(){if(wv)return Dd;wv=1;var e=dn(),t=$l(),o=Zr();function r(s,i){return function(d,b){if(d){if(d[s])return d[s](b);if(t(d)||e(d))return i(d,b);for(var f in d)if(o(d,f)&&b===d[f])return f}return-1}}return Dd=r,Dd}var Od,Ev;function DD(){if(Ev)return Od;Ev=1;var e=qy(),t=By(),o=e("indexOf",t);return Od=o,Od}var Td,Sv;function Gy(){if(Sv)return Td;Sv=1;var e=qy(),t=Vy(),o=e("lastIndexOf",t);return Td=o,Td}var Md,Rv;function Wy(){if(Rv)return Md;Rv=1;var e=dn(),t=$l(),o=Bn();function r(s){var i=0;return t(s)||e(s)?s.length:(o(s,function(){i++}),i)}return Md=r,Md}var Id,Dv;function OD(){if(Dv)return Id;Dv=1;var e=Cl();function t(o){return e(o)&&isFinite(o)}return Id=t,Id}var Fd,Ov;function jy(){if(Ov)return Fd;Ov=1;var e=dn(),t=Ll(),o=function(r){return!t(r)&&!isNaN(r)&&!e(r)&&r%1===0};return Fd=o,Fd}var Ad,Tv;function TD(){if(Tv)return Ad;Tv=1;var e=dn(),t=jy(),o=Ll();function r(s){return!o(s)&&!isNaN(s)&&!e(s)&&!t(s)}return Ad=r,Ad}var Pd,Mv;function Uy(){if(Mv)return Pd;Mv=1;var e=mi(),t=e("boolean");return Pd=t,Pd}var kd,Iv;function Bg(){if(Iv)return kd;Iv=1;var e=rs(),t=e("RegExp");return kd=t,kd}var Ld,Fv;function Yy(){if(Fv)return Ld;Fv=1;var e=rs(),t=e("Error");return Ld=t,Ld}var Nd,Av;function MD(){if(Av)return Nd;Av=1;function e(t){return t?t.constructor===TypeError:!1}return Nd=e,Nd}var $d,Pv;function Ky(){if(Pv)return $d;Pv=1;function e(t){for(var o in t)return!1;return!0}return $d=e,$d}var _d,kv;function Xy(){if(kv)return _d;kv=1;var e=Jr(),t=typeof Symbol!==e;function o(r){return t&&Symbol.isSymbol?Symbol.isSymbol(r):typeof r=="symbol"}return _d=o,_d}var Hd,Lv;function ID(){if(Lv)return Hd;Lv=1;var e=rs(),t=e("Arguments");return Hd=t,Hd}var Bd,Nv;function FD(){if(Nv)return Bd;Nv=1;var e=$l(),t=Cl();function o(r){return!!(r&&e(r.nodeName)&&t(r.nodeType))}return Bd=o,Bd}var Vd,$v;function Vg(){if($v)return Vd;$v=1;var e=Jr(),t=typeof document===e?0:document;return Vd=t,Vd}var zd,_v;function AD(){if(_v)return zd;_v=1;var e=Vg();function t(o){return!!(o&&e&&o.nodeType===9)}return zd=t,zd}var qd,Hv;function Zy(){if(Hv)return qd;Hv=1;var e=Jr(),t=typeof window===e?0:window;return qd=t,qd}var Gd,Bv;function PD(){if(Bv)return Gd;Bv=1;var e=Zy();function t(o){return!!(e&&(o&&o===o.window))}return Gd=t,Gd}var Wd,Vv;function kD(){if(Vv)return Wd;Vv=1;var e=Jr(),t=typeof FormData!==e;function o(r){return t&&r instanceof FormData}return Wd=o,Wd}var jd,zv;function LD(){if(zv)return jd;zv=1;var e=Jr(),t=typeof Map!==e;function o(r){return t&&r instanceof Map}return jd=o,jd}var Ud,qv;function ND(){if(qv)return Ud;qv=1;var e=Jr(),t=typeof WeakMap!==e;function o(r){return t&&r instanceof WeakMap}return Ud=o,Ud}var Yd,Gv;function $D(){if(Gv)return Yd;Gv=1;var e=Jr(),t=typeof Set!==e;function o(r){return t&&r instanceof Set}return Yd=o,Yd}var Kd,Wv;function _D(){if(Wv)return Kd;Wv=1;var e=Jr(),t=typeof WeakSet!==e;function o(r){return t&&r instanceof WeakSet}return Kd=o,Kd}var Xd,jv;function Jy(){if(jv)return Xd;jv=1;var e=vr(),t=$l(),o=dn(),r=Zr();function s(i){return function(d,b,f){if(d&&e(b)){if(o(d)||t(d))return i(d,b,f);for(var E in d)if(r(d,E)&&b.call(f,d[E],E,d))return E}return-1}}return Xd=s,Xd}var Zd,Uv;function zg(){if(Uv)return Zd;Uv=1;var e=Jy(),t=e(function(o,r,s){for(var i=0,d=o.length;i<d;i++)if(r.call(s,o[i],i,o))return i;return-1});return Zd=t,Zd}var Jd,Yv;function Qy(){if(Yv)return Jd;Yv=1;var e=Cl(),t=dn(),o=$l(),r=Bg(),s=ua(),i=Uy(),d=xl(),b=kl(),f=Sy();function E(m,w,D,C,M,v,p){if(m===w)return!0;if(m&&w&&!e(m)&&!e(w)&&!o(m)&&!o(w)){if(r(m))return D(""+m,""+w,M,v,p);if(s(m)||i(m))return D(+m,+w,M,v,p);var T,N,k,j=t(m),J=t(w);if(j||J?j&&J:m.constructor===w.constructor)return N=b(m),k=b(w),C&&(T=C(m,w,M)),N.length===k.length?d(T)?f(N,function(B,I){return B===k[I]&&E(m[B],w[k[I]],D,C,j||J?I:B,m,w)}):!!T:!1}return D(m,w,M,v,p)}return Jd=E,Jd}var Qd,Kv;function ew(){if(Kv)return Qd;Kv=1;function e(t,o){return t===o}return Qd=e,Qd}var ef,Xv;function tw(){if(Xv)return ef;Xv=1;var e=Qy(),t=ew();function o(r,s){return e(r,s,t)}return ef=o,ef}var tf,Zv;function HD(){if(Zv)return tf;Zv=1;var e=kl(),t=zg(),o=tw(),r=Ey(),s=Ry();function i(d,b){var f=e(d),E=e(b);if(E.length){if(s(f,E))return r(E,function(m){return t(f,function(w){return w===m&&o(d[w],b[m])})>-1})}else return!0;return o(d,b)}return tf=i,tf}var of,Jv;function BD(){if(Jv)return of;Jv=1;var e=Qy(),t=ew(),o=vr(),r=xl();function s(i,d,b){return o(b)?e(i,d,function(f,E,m,w,D){var C=b(f,E,m,w,D);return r(C)?t(f,E):!!C},b):e(i,d,t)}return of=s,of}var nf,Qv;function VD(){if(Qv)return nf;Qv=1;var e=Xy(),t=ua(),o=dn(),r=Bg(),s=Yy(),i=Ll();function d(b){return i(b)?"null":e(b)?"symbol":t(b)?"date":o(b)?"array":r(b)?"regexp":s(b)?"error":typeof b}return nf=d,nf}var rf,eb;function zD(){if(eb)return rf;eb=1;var e=bl(),t=Nl();function o(r){return""+(t(r)?"":r)+e.keyId++}return rf=o,rf}var lf,tb;function qD(){if(tb)return lf;tb=1;var e=Jy(),t=e(function(o,r,s){for(var i=o.length-1;i>=0;i--)if(r.call(s,o[i],i,o))return i;return-1});return lf=t,lf}var af,ob;function GD(){if(ob)return af;ob=1;var e=bi(),t=$l();function o(r){if(e(r))return r;if(t(r))try{return JSON.parse(r)}catch(s){}return{}}return af=o,af}var sf,nb;function WD(){if(nb)return sf;nb=1;var e=Nl();function t(o){return e(o)?"":JSON.stringify(o)}return sf=t,sf}var cf,rb;function jD(){if(rb)return cf;rb=1;var e=kg(),t=e("entries",2);return cf=t,cf}var uf,lb;function ow(){if(lb)return uf;lb=1;var e=vr(),t=dn(),o=Bn(),r=zg();function s(i,d){return function(b,f){var E,m,w={},D=[],C=this,M=arguments,v=M.length;if(!e(f)){for(m=1;m<v;m++)E=M[m],D.push.apply(D,t(E)?E:[E]);f=0}return o(b,function(p,T){((f?f.call(C,p,T,b):r(D,function(N){return N===T})>-1)?i:d)&&(w[T]=p)}),w}}return uf=s,uf}var df,ab;function UD(){if(ab)return df;ab=1;var e=ow(),t=e(1,0);return df=t,df}var ff,ib;function YD(){if(ib)return ff;ib=1;var e=ow(),t=e(0,1);return ff=t,ff}var pf,sb;function KD(){if(sb)return pf;sb=1;var e=Ci();function t(o){return e(o)[0]}return pf=t,pf}var gf,cb;function XD(){if(cb)return gf;cb=1;var e=Ci();function t(o){var r=e(o);return r[r.length-1]}return gf=t,gf}var hf,ub;function ZD(){if(ub)return hf;ub=1;var e=Oy(),t=_g(),o=Zr();function r(s,i){if(s){if(o(s,i))return!0;var d,b,f,E,m,w,D=t(i),C=0,M=D.length;for(m=s;C<M&&(w=!1,d=D[C],E=d?d.match(e):"",E?(b=E[1],f=E[2],b?m[b]&&o(m[b],f)&&(w=!0,m=m[b][f]):o(m,f)&&(w=!0,m=m[f])):o(m,d)&&(w=!0,m=m[d]),w);C++)if(C===M-1)return!0}return!1}return hf=r,hf}var mf,db;function JD(){if(db)return mf;db=1;var e=is(),t=_g(),o=wy(),r=Zr(),s=/(.+)?\[(\d+)\]$/;function i(f,E,m,w,D){if(f[E])m&&(f[E]=D);else{var C,M,v=E?E.match(s):null;if(m)M=D;else{var p=w?w.match(s):null;p&&!p[1]?M=new Array(e(p[2])+1):M={}}return v?v[1]?(C=e(v[2]),f[v[1]]?m?f[v[1]][C]=M:f[v[1]][C]?M=f[v[1]][C]:f[v[1]][C]=M:(f[v[1]]=new Array(C+1),f[v[1]][C]=M)):f[v[2]]=M:f[E]=M,M}return f[E]}function d(f,E,m){if(f&&o(E)){if((f[E]||r(f,E))&&!b(E))f[E]=m;else for(var w=f,D=t(E),C=D.length,M=0;M<C;M++)if(!b(D[M])){var v=M===C-1;w=i(w,D[M],v,v?null:D[M+1],m)}}return f}function b(f){return f==="__proto__"||f==="constructor"||f==="prototype"}return mf=d,mf}var vf,fb;function nw(){if(fb)return vf;fb=1;var e=Ky(),t=ic(),o=vr(),r=vi(),s=Bn();function i(b){return function(){return e(b)}}function d(b,f,E){var m,w={};return b&&(f&&t(f)?f=i(f):o(f)||(f=r(f)),s(b,function(D,C){m=f?f.call(E,D,C,b):D,w[m]?w[m].push(D):w[m]=[D]})),w}return vf=d,vf}var bf,pb;function QD(){if(pb)return bf;pb=1;var e=nw(),t=ls();function o(r,s,i){var d=e(r,s,i||this);return t(d,function(b,f){d[f]=b.length}),d}return bf=o,bf}var xf,gb;function rw(){if(gb)return xf;gb=1;function e(t,o,r){var s,i,d=[],b=arguments;if(b.length<2&&(o=b[0],t=0),s=t>>0,i=o>>0,s<o)for(r=r>>0||1;s<i;s+=r)d.push(s);return d}return xf=e,xf}var Cf,hb;function eO(){if(hb)return Cf;hb=1;var e=kl(),t=$a(),o=xi(),r=cr(),s=Ir();function i(d,b){if(d&&b){var f=s.apply(this,[{}].concat(t(arguments,1))),E=e(f);r(e(d),function(m){o(E,m)&&(d[m]=f[m])})}return d}return Cf=i,Cf}var yf,mb;function tO(){if(mb)return yf;mb=1;var e=Ay(),t=e(function(o,r){return o>r});return yf=t,yf}var wf,vb;function uc(){if(vb)return wf;vb=1;function e(t){return(t.split(".")[1]||"").length}return wf=e,wf}var Ef,bb;function ss(){if(bb)return Ef;bb=1;var e=is();function t(o,r){if(o.repeat)return o.repeat(r);var s=isNaN(r)?[]:new Array(e(r));return s.join(o)+(s.length>0?o:"")}return Ef=t,Ef}var Sf,xb;function lw(){if(xb)return Sf;xb=1;function e(t,o){return t.substring(0,o)+"."+t.substring(o,t.length)}return Sf=e,Sf}var Rf,Cb;function da(){if(Cb)return Rf;Cb=1;var e=ss(),t=lw();function o(r){var s=""+r,i=s.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(i){var d=r<0,b=d?"-":"",f=i[3]||"",E=i[5]||"",m=i[6]||"",w=i[7],D=i[8],C=D-m.length,M=D-f.length,v=D-E.length;return w==="+"?f?b+f+e("0",D):C>0?b+E+m+e("0",C):b+E+t(m,D):f?M>0?b+"0."+e("0",Math.abs(M))+f:b+t(f,M):v>0?b+"0."+e("0",Math.abs(v))+E+m:b+t(E,v)+m}return s}return Rf=o,Rf}var Df,yb;function aw(){if(yb)return Df;yb=1;var e=uc(),t=da();function o(r,s){var i=t(r),d=t(s);return parseInt(i.replace(".",""))*parseInt(d.replace(".",""))/Math.pow(10,e(i)+e(d))}return Df=o,Df}var Of,wb;function qg(){if(wb)return Of;wb=1;var e=aw(),t=Na(),o=da();function r(s){return function(i,d){var b=t(i),f=b;if(b){d=d>>0;var E=o(b),m=E.split("."),w=m[0],D=m[1]||"",C=D.substring(0,d+1),M=w+(C?"."+C:"");if(d>=D.length)return t(M);if(M=b,d>0){var v=Math.pow(10,d);f=Math[s](e(M,v))/v}else f=Math[s](M)}return f}}return Of=r,Of}var Tf,Eb;function Gg(){if(Eb)return Tf;Eb=1;var e=qg(),t=e("round");return Tf=t,Tf}var Mf,Sb;function iw(){if(Sb)return Mf;Sb=1;var e=qg(),t=e("ceil");return Mf=t,Mf}var If,Rb;function sw(){if(Rb)return If;Rb=1;var e=qg(),t=e("floor");return If=t,If}var Ff,Db;function xr(){if(Db)return Ff;Db=1;var e=Nl(),t=Cl(),o=da();function r(s){return t(s)?o(s):""+(e(s)?"":s)}return Ff=r,Ff}var Af,Ob;function Wg(){if(Ob)return Af;Ob=1;var e=Gg(),t=xr(),o=ss(),r=lw();function s(i,d){d=d>>0;var b=t(e(i,d)),f=b.split("."),E=f[0],m=f[1]||"",w=d-m.length;return d?w>0?E+"."+m+o("0",w):E+r(m,Math.abs(w)):E}return Af=s,Af}var Pf,Tb;function oO(){if(Tb)return Pf;Tb=1;var e=bl(),t=Gg(),o=iw(),r=sw(),s=Cl(),i=xr(),d=Wg(),b=da(),f=Ir();function E(m,w){var D=f({},e.commafyOptions,w),C=D.digits,M=s(m),v,p,T,N,k;return M?(v=(D.ceil?o:D.floor?r:t)(m,C),p=b(C?d(v,C):v).split("."),N=p[0],k=p[1],T=N&&v<0,T&&(N=N.substring(1,N.length))):(v=i(m).replace(/,/g,""),p=v?[v]:[],N=p[0]),p.length?(T?"-":"")+N.replace(new RegExp("(?=(?!(\\b))(.{"+(D.spaceNumber||3)+"})+$)","g"),D.separator||",")+(k?"."+k:""):v}return Pf=E,Pf}var kf,Mb;function nO(){if(Mb)return kf;Mb=1;var e=is(),t=Iy(),o=t(e);return kf=o,kf}var Lf,Ib;function jg(){if(Ib)return Lf;Ib=1;var e=aw(),t=Na();function o(r,s){var i=t(r),d=t(s);return e(i,d)}return Lf=o,Lf}var Nf,Fb;function cw(){if(Fb)return Nf;Fb=1;var e=uc(),t=da(),o=jg();function r(s,i){var d=t(s),b=t(i),f=Math.pow(10,Math.max(e(d),e(b)));return(o(s,f)+o(i,f))/f}return Nf=r,Nf}var $f,Ab;function rO(){if(Ab)return $f;Ab=1;var e=cw(),t=Na();function o(r,s){return e(t(r),t(s))}return $f=o,$f}var _f,Pb;function lO(){if(Pb)return _f;Pb=1;var e=uc(),t=da(),o=Na(),r=Wg();function s(i,d){var b=o(i),f=o(d),E=t(b),m=t(f),w=e(E),D=e(m),C=Math.pow(10,Math.max(w,D)),M=w>=D?w:D;return parseFloat(r((b*C-f*C)/C,M))}return _f=s,_f}var Hf,kb;function uw(){if(kb)return Hf;kb=1;var e=uc(),t=da(),o=jg();function r(s,i){var d=t(s),b=t(i),f=e(d),E=e(b),m=E-f,w=m<0,D=Math.pow(10,w?Math.abs(m):m);return o(d.replace(".","")/b.replace(".",""),w?1/D:D)}return Hf=r,Hf}var Bf,Lb;function aO(){if(Lb)return Bf;Lb=1;var e=uw(),t=Na();function o(r,s){return e(t(r),t(s))}return Bf=o,Bf}var Vf,Nb;function dw(){if(Nb)return Vf;Nb=1;var e=cw(),t=vr(),o=dn(),r=Bn(),s=as();function i(d,b,f){var E=0;return r(d&&d.length>2&&o(d)?d.sort():d,b?t(b)?function(){E=e(E,b.apply(f,arguments))}:function(m){E=e(E,s(m,b))}:function(m){E=e(E,m)}),E}return Vf=i,Vf}var zf,$b;function iO(){if($b)return zf;$b=1;var e=uw(),t=Wy(),o=dw();function r(s,i,d){return e(o(s,i,d),t(s))}return zf=r,zf}var qf,_b;function cs(){if(_b)return qf;_b=1;var e="first";return qf=e,qf}var Gf,Hb;function dc(){if(Hb)return Gf;Hb=1;var e="last";return Gf=e,Gf}var Wf,Bb;function us(){if(Bb)return Wf;Bb=1;function e(t){return t.getFullYear()}return Wf=e,Wf}var jf,Vb;function yi(){if(Vb)return jf;Vb=1;var e=864e5;return jf=e,jf}var Uf,zb;function fc(){if(zb)return Uf;zb=1;function e(t){return t.getMonth()}return Uf=e,Uf}var Yf,qb;function Br(){if(qb)return Yf;qb=1;var e=ua(),t=Hr();function o(r){return e(r)&&!isNaN(t(r))}return Yf=o,Yf}var Kf,Gb;function ds(){if(Gb)return Kf;Gb=1;var e=cs(),t=dc(),o=yi(),r=us(),s=Hr(),i=fc(),d=br(),b=Br(),f=Cl();function E(m,w,D){var C=w&&!isNaN(w)?w:0;if(m=d(m),b(m)){if(D===e)return new Date(r(m),i(m)+C,1);if(D===t)return new Date(s(E(m,C+1,e))-1);if(f(D)&&m.setDate(D),C){var M=m.getDate();if(m.setMonth(i(m)+C),M!==m.getDate())return m.setDate(1),new Date(s(m)-o)}}return m}return Kf=E,Kf}var Xf,Wb;function pc(){if(Wb)return Xf;Wb=1;var e=cs(),t=dc(),o=us(),r=ds(),s=br(),i=Br();function d(b,f,E){var m;if(b=s(b),i(b)&&(f&&(m=f&&!isNaN(f)?f:0,b.setFullYear(o(b)+m)),E||!isNaN(E))){if(E===e)return new Date(o(b),0,1);if(E===t)return b.setMonth(11),r(b,0,t);b.setMonth(E)}return b}return Xf=d,Xf}var Zf,jb;function sO(){if(jb)return Zf;jb=1;var e=ds(),t=br(),o=Br();function r(i){var d=i.getMonth();return d<3?1:d<6?2:d<9?3:4}function s(i,d,b){var f,E=d&&!isNaN(d)?d*3:0;return i=t(i),o(i)?(f=(r(i)-1)*3,i.setMonth(f),e(i,E,b)):i}return Zf=s,Zf}var Jf,Ub;function fw(){if(Ub)return Jf;Ub=1;var e=cs(),t=dc(),o=is(),r=us(),s=fc(),i=Hr(),d=br(),b=Br();function f(E,m,w){if(E=d(E),b(E)&&!isNaN(m)){if(E.setDate(E.getDate()+o(m)),w===e)return new Date(r(E),s(E),E.getDate());if(w===t)return new Date(i(f(E,1,e))-1)}return E}return Jf=f,Jf}var Qf,Yb;function pw(){if(Yb)return Qf;Yb=1;function e(t){return t.toUpperCase()}return Qf=e,Qf}var ep,Kb;function gw(){if(Kb)return ep;Kb=1;var e=yi(),t=e*7;return ep=t,ep}var tp,Xb;function hw(){if(Xb)return tp;Xb=1;var e=bl(),t=yi(),o=gw(),r=Hr(),s=br(),i=Br(),d=Cl();function b(f,E,m,w){if(f=s(f),i(f)){var D=d(m),C=d(w),M=r(f);if(D||C){var v=C?w:e.firstDayOfWeek,p=f.getDay(),T=D?m:p;if(p!==T){var N=0;v>p?N=-(7-v+p):v<p&&(N=v-p),T>v?M+=((T===0?7:T)-v+N)*t:T<v?M+=(7-v+T+N)*t:M+=N*t}}return E&&!isNaN(E)&&(M+=E*o),new Date(M)}return f}return tp=b,tp}var op,Zb;function mw(){if(Zb)return op;Zb=1;var e=bl(),t=yi(),o=gw(),r=Cl(),s=xi(),i=br(),d=Br(),b=hw(),f=rw(),E=La(),m=Hr(),w=E(f(0,7),function(M){return[(M+1)%7,(M+2)%7,(M+3)%7]});function D(M,v){var p=new Date(M).getDay();return s(w[v],p)}function C(M,v){return function(p,T){var N=r(T)?T:e.firstDayOfWeek,k=i(p);if(d(k)){var j=b(k,0,N,N),J=M(j),B=m(J),I=m(j),F=I+t*6,V=new Date(F),W=b(J,0,N,N),ie=m(W),U;if(I===ie)return 1;if(v(j,V)){for(U=m(M(V));U<F;U+=t)if(D(U,N))return 1}var _=ie+t*6,z=new Date(F),se=1;if(v(W,z)){for(se=0,U=B;U<_;U+=t)if(D(U,N)){se++;break}}return Math.floor((I-ie)/o)+se}return NaN}}return op=C,op}var np,Jb;function vw(){if(Jb)return np;Jb=1;var e=mw(),t=e(function(o){return new Date(o.getFullYear(),0,1)},function(o,r){return o.getFullYear()!==r.getFullYear()});return np=t,np}var rp,Qb;function cO(){if(Qb)return rp;Qb=1;var e=us(),t=fc();function o(r){return new Date(e(r),t(r),r.getDate())}return rp=o,rp}var lp,ex;function uO(){if(ex)return lp;ex=1;var e=Hr(),t=cO();function o(r){return e(t(r))}return lp=o,lp}var ap,tx;function bw(){if(tx)return ap;tx=1;var e=yi(),t=cs(),o=uO(),r=pc(),s=br(),i=Br();function d(b){return b=s(b),i(b)?Math.floor((o(b)-o(r(b,0,t)))/e)+1:NaN}return ap=d,ap}var ip,ox;function xw(){if(ox)return ip;ox=1;var e=xr(),t=xl(),o=ss();function r(s,i,d){var b=e(s);return i=i>>0,d=t(d)?" ":""+d,b.padStart?b.padStart(i,d):i>b.length?(i-=b.length,i>d.length&&(d+=o(d,i/d.length)),d.slice(0,i)+b):b}return ip=r,ip}var sp,nx;function Cw(){if(nx)return sp;nx=1;var e=bl(),t=pw(),o=us(),r=fc(),s=br(),i=vw(),d=bw(),b=Ir(),f=Br(),E=vr(),m=xw();function w(M,v,p,T){var N=v[p];return N?E(N)?N(T,p,M):N[T]:T}var D=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function C(M,v,p){if(M){if(M=s(M),f(M)){var T=v||e.parseDateFormat||e.formatString,N=M.getHours(),k=N<12?"am":"pm",j=b({},e.parseDateRules||e.formatStringMatchs,p?p.formats:null),J=function(Y,X){return(""+o(M)).substr(4-X)},B=function(Y,X){return m(r(M)+1,X,"0")},I=function(Y,X){return m(M.getDate(),X,"0")},F=function(Y,X){return m(N,X,"0")},V=function(Y,X){return m(N<=12?N:N-12,X,"0")},W=function(Y,X){return m(M.getMinutes(),X,"0")},ie=function(Y,X){return m(M.getSeconds(),X,"0")},U=function(Y,X){return m(M.getMilliseconds(),X,"0")},_=function(Y,X){var Re=M.getTimezoneOffset()/60*-1;return w(M,j,Y,(Re>=0?"+":"-")+m(Re,2,"0")+(X===1?":":"")+"00")},z=function(Y,X){return m(w(M,j,Y,i(M,(p?p.firstDay:null)||e.firstDayOfWeek)),X,"0")},se=function(Y,X){return m(w(M,j,Y,d(M)),X,"0")},ye={yyyy:J,yy:J,MM:B,M:B,dd:I,d:I,HH:F,H:F,hh:V,h:V,mm:W,m:W,ss:ie,s:ie,SSS:U,S:U,ZZ:_,Z:_,WW:z,W:z,DDD:se,D:se,a:function(Y){return w(M,j,Y,k)},A:function(Y){return w(M,j,Y,t(k))},e:function(Y){return w(M,j,Y,M.getDay())},E:function(Y){return w(M,j,Y,M.getDay())},q:function(Y){return w(M,j,Y,Math.floor((r(M)+3)/3))}};return T.replace(D,function(Y,X){return X||(ye[Y]?ye[Y](Y,Y.length):Y)})}return"Invalid Date"}return""}return sp=C,sp}var cp,rx;function yw(){if(rx)return cp;rx=1;var e=Hr(),t=cc(),o=Date.now||function(){return e(t())};return cp=o,cp}var up,lx;function dO(){if(lx)return up;lx=1;var e=Hr(),t=yw(),o=br(),r=ua(),s=function(i,d){if(i){var b=o(i,d);return r(b)?e(b):b}return t()};return up=s,up}var dp,ax;function fO(){if(ax)return dp;ax=1;var e=Cw();function t(o,r,s){return o&&r?(o=e(o,s),o!=="Invalid Date"&&o===e(r,s)):!1}return dp=t,dp}var fp,ix;function pO(){if(ix)return fp;ix=1;var e=mw(),t=e(function(o){return new Date(o.getFullYear(),o.getMonth(),1)},function(o,r){return o.getMonth()!==r.getMonth()});return fp=t,fp}var pp,sx;function gO(){if(sx)return pp;sx=1;var e=pc(),t=br(),o=Br(),r=zy();function s(i,d){return i=t(i),o(i)?r(e(i,d))?366:365:NaN}return pp=s,pp}var gp,cx;function hO(){if(cx)return gp;cx=1;var e=yi(),t=cs(),o=dc(),r=Hr(),s=ds(),i=br(),d=Br();function b(f,E){return f=i(f),d(f)?Math.floor((r(s(f,E,o))-r(s(f,E,t)))/e)+1:NaN}return gp=b,gp}var hp,ux;function mO(){if(ux)return hp;ux=1;var e=Hr(),t=cc(),o=br(),r=Br(),s=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];function i(d,b){var f,E,m,w,D,C,M={done:!1,status:!1,time:0};if(d=o(d),b=b?o(b):t(),r(d)&&r(b)&&(f=e(d),E=e(b),f<E))for(w=M.time=E-f,M.done=!0,M.status=!0,C=0,D=s.length;C<D;C++)m=s[C],w>=m[1]?C===D-1?M[m[0]]=w||0:(M[m[0]]=Math.floor(w/m[1]),w-=M[m[0]]*m[1]):M[m[0]]=0;return M}return hp=i,hp}var mp,dx;function vO(){if(dx)return mp;dx=1;var e=xr(),t=xl(),o=ss();function r(s,i,d){var b=e(s);return i=i>>0,d=t(d)?" ":""+d,b.padEnd?b.padEnd(i,d):i>b.length?(i-=b.length,i>d.length&&(d+=o(d,i/d.length)),b+d.slice(0,i)):b}return mp=r,mp}var vp,fx;function bO(){if(fx)return vp;fx=1;var e=xr(),t=ss();function o(r,s){return t(e(r),s)}return vp=o,vp}var bp,px;function ww(){if(px)return bp;px=1;var e=xr();function t(o){return o&&o.trimRight?o.trimRight():e(o).replace(/[\s\uFEFF\xA0]+$/g,"")}return bp=t,bp}var xp,gx;function Ew(){if(gx)return xp;gx=1;var e=xr();function t(o){return o&&o.trimLeft?o.trimLeft():e(o).replace(/^[\s\uFEFF\xA0]+/g,"")}return xp=t,xp}var Cp,hx;function Sw(){if(hx)return Cp;hx=1;var e=ww(),t=Ew();function o(r){return r&&r.trim?r.trim():e(t(r))}return Cp=o,Cp}var yp,mx;function Rw(){if(mx)return yp;mx=1;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return yp=e,yp}var wp,vx;function Dw(){if(vx)return wp;vx=1;var e=xr(),t=kl();function o(r){var s=new RegExp("(?:"+t(r).join("|")+")","g");return function(i){return e(i).replace(s,function(d){return r[d]})}}return wp=o,wp}var Ep,bx;function xO(){if(bx)return Ep;bx=1;var e=Rw(),t=Dw(),o=t(e);return Ep=o,Ep}var Sp,xx;function CO(){if(xx)return Sp;xx=1;var e=Rw(),t=Dw(),o=Bn(),r={};o(e,function(i,d){r[e[d]]=d});var s=t(r);return Sp=s,Sp}var Rp,Cx;function Ow(){if(Cx)return Rp;Cx=1;function e(t,o,r){return t.substring(o,r)}return Rp=e,Rp}var Dp,yx;function Tw(){if(yx)return Dp;yx=1;function e(t){return t.toLowerCase()}return Dp=e,Dp}var Op,wx;function yO(){if(wx)return Op;wx=1;var e=xr(),t=Ow(),o=pw(),r=Tw(),s={};function i(d){if(d=e(d),s[d])return s[d];var b=d.length,f=d.replace(/([-]+)/g,function(E,m,w){return w&&w+m.length<b?"-":""});return b=f.length,f=f.replace(/([A-Z]+)/g,function(E,m,w){var D=m.length;return m=r(m),w?D>2&&w+D<b?o(t(m,0,1))+t(m,1,D-1)+o(t(m,D-1,D)):o(t(m,0,1))+t(m,1,D):D>1&&w+D<b?t(m,0,D-1)+o(t(m,D-1,D)):m}).replace(/(-[a-zA-Z])/g,function(E,m){return o(t(m,1,m.length))}),s[d]=f,f}return Op=i,Op}var Tp,Ex;function wO(){if(Ex)return Tp;Ex=1;var e=xr(),t=Ow(),o=Tw(),r={};function s(i){if(i=e(i),r[i])return r[i];if(/^[A-Z]+$/.test(i))return o(i);var d=i.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(b,f,E,m){var w=E.length;return w>1?f+"-"+o(t(E,0,w-1))+"-"+o(t(E,w-1,w))+m:o(f+"-"+E+m)}).replace(/^([A-Z]+)([a-z]+)?$/,function(b,f,E){var m=f.length;return o(t(f,0,m-1)+"-"+t(f,m-1,m)+(E||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(b,f,E,m,w){var D=E.length;return D>1&&(f&&(f+="-"),m)?(f||"")+o(t(E,0,D-1))+"-"+o(t(E,D-1,D))+m:(f||"")+(w?"-":"")+o(E)+(m||"")});return d=d.replace(/([-]+)/g,function(b,f,E){return E&&E+f.length<d.length?"-":""}),r[i]=d,d}return Tp=s,Tp}var Mp,Sx;function EO(){if(Sx)return Mp;Sx=1;var e=xr();function t(o,r,s){var i=e(o);return(arguments.length===1?i:i.substring(s)).indexOf(r)===0}return Mp=t,Mp}var Ip,Rx;function SO(){if(Rx)return Ip;Rx=1;var e=xr();function t(o,r,s){var i=e(o),d=arguments.length;return d>1&&(d>2?i.substring(0,s).indexOf(r)===s-1:i.indexOf(r)===i.length-1)}return Ip=t,Ip}var Fp,Dx;function Mw(){if(Dx)return Fp;Dx=1;var e=bl(),t=xr(),o=Sw(),r=as();function s(i,d,b){return t(i).replace((b||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(f,E){return r(d,o(E))})}return Fp=s,Fp}var Ap,Ox;function RO(){if(Ox)return Ap;Ox=1;var e=Mw();function t(o,r){return e(o,r,{tmplRE:/\{([.\w[\]\s]+)\}/g})}return Ap=t,Ap}var Pp,Tx;function DO(){if(Tx)return Pp;Tx=1;function e(){}return Pp=e,Pp}var kp,Mx;function OO(){if(Mx)return kp;Mx=1;var e=$a();function t(o,r){var s=e(arguments,2);return function(){return o.apply(r,e(arguments).concat(s))}}return kp=t,kp}var Lp,Ix;function TO(){if(Ix)return Lp;Ix=1;var e=$a();function t(o,r){var s=!1,i=null,d=e(arguments,2);return function(){return s||(i=o.apply(r,e(arguments).concat(d)),s=!0),i}}return Lp=t,Lp}var Np,Fx;function MO(){if(Fx)return Np;Fx=1;var e=$a();function t(o,r,s){var i=0,d=[];return function(){var b=arguments;i++,i<=o&&d.push(b[0]),i>=o&&r.apply(s,[d].concat(e(b)))}}return Np=t,Np}var $p,Ax;function IO(){if(Ax)return $p;Ax=1;var e=$a();function t(o,r,s){var i=0,d=[];return s=s||this,function(){var b=arguments;i++,i<o&&(d.push(b[0]),r.apply(s,[d].concat(e(b))))}}return $p=t,$p}var _p,Px;function FO(){if(Px)return _p;Px=1;var e=Ir();function t(o,r,s){var i=null,d=null,b=!1,f=null,E=e({leading:!0,trailing:!0},s),m=E.leading,w=E.trailing,D=function(){i=null,d=null},C=function(){b=!0,o.apply(d,i),f=setTimeout(M,r),D()},M=function(){if(f=null,b){D();return}if(w===!0){C();return}D()},v=function(){var T=f!==null;return T&&clearTimeout(f),D(),f=null,b=!1,T},p=function(){if(i=arguments,d=this,b=!1,f===null&&m===!0){C();return}w===!0&&(f=setTimeout(M,r))};return p.cancel=v,p}return _p=t,_p}var Hp,kx;function AO(){if(kx)return Hp;kx=1;var e=Ir();function t(o,r,s){var i=null,d=null,b=typeof s=="boolean"?{leading:s,trailing:!s}:e({leading:!1,trailing:!0},s),f=!1,E=null,m=b.leading,w=b.trailing,D=function(){i=null,d=null},C=function(){f=!0,o.apply(d,i),D()},M=function(){if(m===!0&&(E=null),f){D();return}if(w===!0){C();return}D()},v=function(){var T=E!==null;return T&&clearTimeout(E),D(),E=null,f=!1,T},p=function(){f=!1,i=arguments,d=this,E===null?m===!0&&C():clearTimeout(E),E=setTimeout(M,r)};return p.cancel=v,p}return Hp=t,Hp}var Bp,Lx;function PO(){if(Lx)return Bp;Lx=1;var e=$a();function t(o,r){var s=e(arguments,2),i=this;return setTimeout(function(){o.apply(i,s)},r)}return Bp=t,Bp}var Vp,Nx;function Iw(){if(Nx)return Vp;Nx=1;var e=decodeURIComponent;return Vp=e,Vp}var zp,$x;function Fw(){if($x)return zp;$x=1;var e=Iw(),t=cr(),o=$l();function r(s){var i,d={};return s&&o(s)&&t(s.split("&"),function(b){i=b.split("="),d[e(i[0])]=e(i[1]||"")}),d}return zp=r,zp}var qp,_x;function Aw(){if(_x)return qp;_x=1;var e=encodeURIComponent;return qp=e,qp}var Gp,Hx;function kO(){if(Hx)return Gp;Hx=1;var e=Aw(),t=Bn(),o=dn(),r=Ll(),s=xl(),i=bi();function d(f,E,m){var w,D=[];return t(f,function(C,M){w=o(C),i(C)||w?D=D.concat(d(C,E+"["+M+"]",w)):D.push(e(E+"["+(m?"":M)+"]")+"="+e(r(C)?"":C))}),D}function b(f){var E,m=[];return t(f,function(w,D){s(w)||(E=o(w),i(w)||E?m=m.concat(d(w,D,E)):m.push(e(D)+"="+e(r(w)?"":w)))}),m.join("&").replace(/%20/g,"+")}return Gp=b,Gp}var Wp,Bx;function gc(){if(Bx)return Wp;Bx=1;var e=Jr(),t=typeof location===e?0:location;return Wp=t,Wp}var jp,Vx;function Pw(){if(Vx)return jp;Vx=1;var e=gc();function t(){return e?e.origin||e.protocol+"//"+e.host:""}return jp=t,jp}var Up,zx;function kw(){if(zx)return Up;zx=1;var e=gc(),t=Fw(),o=Pw();function r(i){return t(i.split("?")[1]||"")}function s(i){var d,b,f,E,m=""+i;return m.indexOf("//")===0?m=(e?e.protocol:"")+m:m.indexOf("/")===0&&(m=o()+m),f=m.replace(/#.*/,"").match(/(\?.*)/),E={href:m,hash:"",host:"",hostname:"",protocol:"",port:"",search:f&&f[1]&&f[1].length>1?f[1]:""},E.path=m.replace(/^([a-z0-9.+-]*:)\/\//,function(w,D){return E.protocol=D,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(w,D,C){return b=C||"",E.port=b.replace(":",""),E.hostname=D,E.host=D+b,"/"}).replace(/(#.*)/,function(w,D){return E.hash=D.length>1?D:"",""}),d=E.hash.match(/#((.*)\?|(.*))/),E.pathname=E.path.replace(/(\?|#.*).*/,""),E.origin=E.protocol+"//"+E.host,E.hashKey=d&&(d[2]||d[1])||"",E.hashQuery=r(E.hash),E.searchQuery=r(E.search),E}return Up=s,Up}var Yp,qx;function LO(){if(qx)return Yp;qx=1;var e=gc(),t=Pw(),o=Gy();function r(){if(e){var s=e.pathname,i=o(s,"/")+1;return t()+(i===s.length?s:s.substring(0,i))}return""}return Yp=r,Yp}var Kp,Gx;function NO(){if(Gx)return Kp;Gx=1;var e=gc(),t=kw();function o(){return e?t(e.href):{}}return Kp=o,Kp}var Xp,Wx;function $O(){if(Wx)return Xp;Wx=1;var e=bl(),t=Vg(),o=Iw(),r=Aw(),s=dn(),i=ic(),d=ua(),b=xl(),f=xi(),E=kl(),m=Ir(),w=cr(),D=cc(),C=Hr(),M=pc(),v=ds(),p=fw();function T(W,ie){var U=parseFloat(ie),_=D(),z=C(_);switch(W){case"y":return C(M(_,U));case"M":return C(v(_,U));case"d":return C(p(_,U));case"h":case"H":return z+U*60*60*1e3;case"m":return z+U*60*1e3;case"s":return z+U*1e3}return z}function N(W){return(d(W)?W:new Date(W)).toUTCString()}function k(W,ie,U){if(t){var _,z,se,ye,Y,X,Re=[],ue=arguments;return s(W)?Re=W:ue.length>1?Re=[m({name:W,value:ie},U)]:i(W)&&(Re=[W]),Re.length>0?(w(Re,function(Q){_=m({},e.cookies,Q),se=[],_.name&&(z=_.expires,se.push(r(_.name)+"="+r(i(_.value)?JSON.stringify(_.value):_.value)),z&&(isNaN(z)?z=z.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(be,Ie,De){return N(T(De,Ie))}):/^[0-9]{11,13}$/.test(z)||d(z)?z=N(z):z=N(T("d",z)),_.expires=z),w(["expires","path","domain","secure"],function(be){b(_[be])||se.push(_[be]&&be==="secure"?be:be+"="+_[be])})),t.cookie=se.join("; ")}),!0):(ye={},Y=t.cookie,Y&&w(Y.split("; "),function(Q){X=Q.indexOf("="),ye[o(Q.substring(0,X))]=o(Q.substring(X+1)||"")}),ue.length===1?ye[W]:ye)}return!1}function j(W){return f(F(),W)}function J(W){return k(W)}function B(W,ie,U){return k(W,ie,U),k}function I(W,ie){k(W,"",m({expires:-1},e.cookies,ie))}function F(){return E(k())}function V(){return k()}return m(k,{has:j,set:B,setItem:B,get:J,getItem:J,remove:I,removeItem:I,keys:F,getJSON:V}),Xp=k,Xp}var Zp,jx;function _O(){if(jx)return Zp;jx=1;var e=Jr(),t=Vg(),o=Zy(),r=Ir(),s=cr();function i(f){try{var E="__xe_t";return f.setItem(E,1),f.removeItem(E),!0}catch(m){return!1}}function d(f){return navigator.userAgent.indexOf(f)>-1}function b(){var f,E,m,w=!1,D=!1,C=!1,M={isNode:!1,isMobile:w,isPC:!1,isDoc:!!t};if(!o&&typeof process!==e)M.isNode=!0;else{m=d("Edge"),E=d("Chrome"),w=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),M.isDoc&&(f=t.body||t.documentElement,s(["webkit","khtml","moz","ms","o"],function(v){M["-"+v]=!!f[v+"MatchesSelector"]}));try{D=i(o.localStorage)}catch(v){}try{C=i(o.sessionStorage)}catch(v){}r(M,{edge:m,firefox:d("Firefox"),msie:!m&&M["-ms"],safari:!E&&!m&&d("Safari"),isMobile:w,isPC:!w,isLocalStorage:D,isSessionStorage:C})}return M}return Zp=b,Zp}var Jp,Ux;function HO(){if(Ux)return Jp;Ux=1;var e=JR(),t=Ir(),o=ls(),r=yy(),s=QR(),i=eD(),d=La(),b=Ey(),f=Sy(),E=Ry(),m=cr(),w=Ng(),D=Dy(),C=tD(),M=$g(),v=oD(),p=Hg(),T=My(),N=nD(),k=$a(),j=rD(),J=lD(),B=xi(),I=aD(),F=iD(),V=sD(),W=cD(),ie=uD(),U=dD(),_=ky(),z=fD(),se=pD(),ye=Fy(),Y=gD(),X=mD(),Re=vD(),ue=bD(),Q=Hy(),be=xD(),Ie=CD(),De=yD(),Me=By(),Se=Vy(),xe=Zr(),fe=dn(),Oe=Ll(),Pe=wD(),tt=xl(),Je=vr(),rt=ic(),ze=$l(),Z=bi(),$e=zy(),ce=ua(),Ne=Nl(),Ke=Bn(),dt=SD(),ft=RD(),Vt=DD(),bt=Gy(),vt=kl(),Ot=Ci(),lt=Lg(),Et=Wy(),Xt=Ny(),jt=_y(),Gt=$y(),Ct=OD(),Nt=TD(),_t=jy(),ke=Uy(),Fe=Cl(),je=Bg(),nt=Yy(),mt=MD(),te=Ky(),_e=Xy(),Be=ID(),Qe=FD(),at=AD(),yt=PD(),Xe=kD(),ge=LD(),P=ND(),H=$D(),ne=_D(),Te=HD(),Ce=tw(),He=BD(),Ze=VD(),ct=zD(),st=zg(),ot=qD(),Ue=GD(),zt=WD(),mo=jD(),Eo=UD(),_o=YD(),we=KD(),qe=XD(),It=ZD(),$t=as(),Ht=JD(),Rt=nw(),ht=QD(),wt=rw(),Ft=eO(),Tt=Ty(),to=Py(),qt=tO(),ro=oO(),ho=Gg(),Ho=iw(),an=sw(),yn=Wg(),Uo=nO(),Yo=Na(),on=da(),bn=rO(),qo=lO(),Fo=jg(),Qo=aO(),wn=dw(),Sn=iO(),xn=pc(),Io=sO(),uo=ds(),Vn=fw(),Qn=br(),zn=Cw(),er=yw(),yl=dO(),fr=Br(),_l=fO(),Qr=hw(),el=bw(),Hl=vw(),Vr=pO(),zr=gO(),Bl=hO(),$n=mO(),fa=vO(),h=xw(),tl=bO(),yr=Sw(),Bo=ww(),Wn=Ew(),Vl=xO(),zl=CO(),ol=yO(),nl=wO(),tr=EO(),qr=SO(),wl=Mw(),pr=RO(),El=xr(),or=DO(),fn=vi(),Gr=OO(),ql=TO(),Ar=MO(),rl=IO(),ll=FO(),Ha=AO(),al=PO(),A=Fw(),me=kO(),Ae=kw(),et=LO(),Dt=NO(),kt=$O(),St=_O();return t(e,{assign:t,objectEach:o,lastObjectEach:r,objectMap:s,merge:i,uniq:D,union:C,sortBy:v,orderBy:p,shuffle:T,sample:N,some:b,every:f,slice:k,filter:j,find:I,findLast:F,findKey:J,includes:B,arrayIndexOf:Me,arrayLastIndexOf:Se,map:d,reduce:V,copyWithin:W,chunk:ie,zip:U,unzip:_,zipObject:z,flatten:se,toArray:M,includeArrays:E,pluck:ye,invoke:Y,arrayEach:m,lastArrayEach:w,toArrayTree:X,toTreeArray:Re,findTree:ue,eachTree:Q,mapTree:be,filterTree:Ie,searchTree:De,hasOwnProp:xe,eqNull:Ne,isNaN:Pe,isFinite:Ct,isUndefined:tt,isArray:fe,isFloat:Nt,isInteger:_t,isFunction:Je,isBoolean:ke,isString:ze,isNumber:Fe,isRegExp:je,isObject:rt,isPlainObject:Z,isDate:ce,isError:nt,isTypeError:mt,isEmpty:te,isNull:Oe,isSymbol:_e,isArguments:Be,isElement:Qe,isDocument:at,isWindow:yt,isFormData:Xe,isMap:ge,isWeakMap:P,isSet:H,isWeakSet:ne,isLeapYear:$e,isMatch:Te,isEqual:Ce,isEqualWith:He,getType:Ze,uniqueId:ct,getSize:Et,indexOf:Vt,lastIndexOf:bt,findIndexOf:st,findLastIndexOf:ot,toStringJSON:Ue,toJSONString:zt,keys:vt,values:Ot,entries:mo,pick:Eo,omit:_o,first:we,last:qe,each:Ke,forOf:dt,lastForOf:ft,lastEach:Xt,has:It,get:$t,set:Ht,groupBy:Rt,countBy:ht,clone:lt,clear:Gt,remove:jt,range:wt,destructuring:Ft,random:Tt,min:qt,max:to,commafy:ro,round:ho,ceil:Ho,floor:an,toFixed:yn,toNumber:Yo,toNumberString:on,toInteger:Uo,add:bn,subtract:qo,multiply:Fo,divide:Qo,sum:wn,mean:Sn,now:er,timestamp:yl,isValidDate:fr,isDateSame:_l,toStringDate:Qn,toDateString:zn,getWhatYear:xn,getWhatQuarter:Io,getWhatMonth:uo,getWhatWeek:Qr,getWhatDay:Vn,getYearDay:el,getYearWeek:Hl,getMonthWeek:Vr,getDayOfYear:zr,getDayOfMonth:Bl,getDateDiff:$n,trim:yr,trimLeft:Wn,trimRight:Bo,escape:Vl,unescape:zl,camelCase:ol,kebabCase:nl,repeat:tl,padStart:h,padEnd:fa,startsWith:tr,endsWith:qr,template:wl,toFormatString:pr,toString:El,toValueString:El,noop:or,property:fn,bind:Gr,once:ql,after:Ar,before:rl,throttle:ll,debounce:Ha,delay:al,unserialize:A,serialize:me,parseUrl:Ae,getBaseURL:et,locat:Dt,browse:St,cookie:kt}),Jp=e,Jp}var BO=HO();const l=Ag(BO);var ii=null,Qp=null,Xl=null,Yx="z-index-manage",Ea=null,Kx="z-index-style",Lw="m",Nw="s",ts={m:1e3,s:1e3};function Ug(){return ii||typeof document!="undefined"&&(ii=document),ii}function $w(){return ii&&!Qp&&(Qp=ii.body||ii.getElementsByTagName("body")[0]),Qp}function VO(){var e=0,t=Ug();if(t){var o=$w();if(o)for(var r=o.getElementsByTagName("*"),s=0;s<r.length;s++){var i=r[s];if(i&&i.style&&i.nodeType===1){var d=i.style.zIndex;d&&/^\d+$/.test(d)&&(e=Math.max(e,Number(d)))}}}return e}function zO(){if(!Ea){var e=Ug();e&&(Ea=e.getElementById(Kx),Ea||(Ea=e.createElement("style"),Ea.id=Kx,e.getElementsByTagName("head")[0].appendChild(Ea)))}return Ea}function _w(){var e=zO();if(e){var t="--dom-",o="-z-index";e.innerHTML=":root{"+t+"main"+o+":"+hc()+";"+t+"sub"+o+":"+Xg()+"}"}}function Hw(){if(!Xl){var e=Ug();if(e&&(Xl=e.getElementById(Yx),!Xl)){var t=$w();t&&(Xl=e.createElement("div"),Xl.id=Yx,Xl.style.display="none",t.appendChild(Xl),Yg(ts.m),Kg(ts.s))}}return Xl}function Bw(e){return function(t){if(t){t=Number(t),ts[e]=t;var o=Hw();o&&(o.dataset?o.dataset[e]=t+"":o.setAttribute("data-"+e,t+""))}return _w(),ts[e]}}var Yg=Bw(Lw);function Vw(e,t){return function(r){var s,i=Hw();if(i){var d=i.dataset?i.dataset[e]:i.getAttribute("data-"+e);d&&(s=Number(d))}return s||(s=ts[e]),r?Number(r)<s?t():r:s}}var hc=Vw(Lw,zw);function zw(){return Yg(hc()+1)}var Kg=Bw(Nw),qw=Vw(Nw,Gw);function Xg(){return hc()+qw()}function Gw(){return Kg(qw()+1),Xg()}var _a={setCurrent:Yg,getCurrent:hc,getNext:zw,setSubCurrent:Kg,getSubCurrent:Xg,getSubNext:Gw,getMax:VO};_w();const pi={size:"",version:1,zIndex:999,resizeInterval:500},Ww={theme:""};function Zg(e){const t=!e||e==="default"?"light":e;if(Ww.theme=t,typeof document!="undefined"){const o=document.documentElement;o&&o.setAttribute("data-vxe-ui-theme",t)}return ka}function qO(){return Ww.theme}function mc(e){return e&&(e.zIndex&&_a.setCurrent(e.zIndex),e.theme&&Zg(e.theme),l.merge(pi,e)),ka}function Ge(e,t){return arguments.length?l.get(pi,e,t):pi}const GO={},Rg={};function jw(e){return l.isArray(e)?e:e?[e]:[]}function Uw(e){return e&&Object.assign(Rg,e),ka}function vo(e){return arguments.length?l.get(Rg,e):Rg}function WO(e){const t=vo(e);return Yw(t,e)}function Yw(e,t){return l.isFunction(e)?u("span",{},jw(e({name:t}))):u("i",{class:e})}const Oo={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},Dg=l.browse(),Xx={" ":"Spacebar",Apps:Oo.CONTEXT_MENU,Del:Oo.DELETE,Up:Oo.ARROW_UP,Down:Oo.ARROW_DOWN,Left:Oo.ARROW_LEFT,Right:Oo.ARROW_RIGHT},Kw=Dg.firefox?"DOMMouseScroll":"mousewheel",Og=[];function Tl(e){const t=e.type===Kw;Og.forEach(({type:o,cb:r})=>{e.cancelBubble||(o===e.type||t&&o==="mousewheel")&&r(e)})}class Zx{constructor(t,o,r){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=t,t&&(t.type&&(this.type=t.type),t.key&&(this.key=t.key),t.code&&(this.code=t.code)),Object.assign(this,o),l.objectEach(r,(s,i)=>{if(l.isFunction(s)){let d=null,b=!1;Object.defineProperty(this,i,{get(){return b||(b=!0,d=s()),d}})}else this[i]=s})}stopPropagation(){const t=this.$event;t&&t.stopPropagation()}preventDefault(){const t=this.$event;t&&t.preventDefault()}}const Jn=(e,t,o)=>(e instanceof Zx&&(e=e.$event),new Zx(e,t,o)),Qt={on(e,t,o){Og.push({comp:e,type:t,cb:o})},off(e,t){l.remove(Og,o=>o.comp===e&&o.type===t)},hasKey(e,t){const{key:o}=e;return t=t.toLowerCase(),o?t===o.toLowerCase()||!!(Xx[o]&&Xx[o].toLowerCase()===t):!1}};Dg.isDoc&&(Dg.msie||(window.addEventListener("copy",Tl,!1),window.addEventListener("cut",Tl,!1),window.addEventListener("paste",Tl,!1)),document.addEventListener("keydown",Tl,!1),document.addEventListener("contextmenu",Tl,!1),window.addEventListener("mousedown",Tl,!1),window.addEventListener("blur",Tl,!1),window.addEventListener("resize",Tl,!1),window.addEventListener(Kw,l.throttle(Tl,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));let Jx;const Ma=[],jO=500;function UO(){Ma.length&&(Ma.forEach(e=>{e.tarList.forEach(t=>{const{target:o,width:r,heighe:s}=t,i=o.clientWidth,d=o.clientHeight;(i&&r!==i||d&&s!==d)&&(t.width=i,t.heighe=d,setTimeout(e.callback))})}),Xw())}function Xw(){clearTimeout(Jx),Jx=setTimeout(UO,pi.resizeInterval||jO)}class YO{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:o}=this;o.some(r=>r.target===t)||o.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),Ma.length||Xw(),Ma.some(r=>r===this)||Ma.push(this)}}unobserve(t){l.remove(Ma,o=>o.tarList.some(r=>r.target===t))}disconnect(){l.remove(Ma,t=>t===this)}}const KO={create(e){return window.ResizeObserver?new window.ResizeObserver(e):new YO(e)}},gi=un({language:"",langMaps:{}});let Qx=!1,Bs={};function oo(e,t){const{langMaps:o,language:r}=gi,{i18n:s}=pi;if(s)return`${s(e,t)||""}`;if(Qx||(o[r]||console.error(`[vxe core] Language not installed. https://${ka.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),Qx=!0),!t&&Bs[e])return Bs[e];const i=l.toFormatString(l.get(o[r],e,e),t);return t||(Bs[e]=i),i}function XO(e){const{language:t}=gi,o=e||"zh-CN";return t!==o&&(gi.language=o,Bs={}),ka}function ZO(e,t){return gi.langMaps[e]=Object.assign({},t),ka}function JO(e){const{langMaps:t}=gi;return!!t[e]}function QO(){const{language:e}=gi;return e}function eg(e,t){return function(o,r){const s=`[vxe ${t||""}] ${oo(o,r)}`;return console[e](s),s}}const eC="4.2.14",_r={create:eg,warn:eg("warn",`v${eC}`),err:eg("error",`v${eC}`)},Ii={},oa={mixin(e){return l.each(e,(t,o)=>oa.add(o,t)),oa},get(e){return Ii[e]||null},add(e,t){if(e&&t){const o=Ii[e];o?(l.each(t,(r,s)=>{!l.eqNull(o[s])&&o[s]!==r&&_r.warn("vxe.error.coverProp",[`Renderer.${e}`,s])}),Object.assign(o,t)):Ii[e]=t}return oa},forEach(e){return l.objectEach(Ii,e),oa},delete(e){return delete Ii[e],oa}};class Zw{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return l.each(t,(o,r)=>{this.add(r,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const r=this.store[t],s=l.keys(r);return l.each(o,(i,d)=>{s.includes(d)&&_r.warn("vxe.error.coverProp",[t,d])}),this.store[t]=r?l.merge(r,o):o,this}delete(t){delete this.store[t]}forEach(t){l.objectEach(this.store,t)}}const Jw=new Zw;Object.assign(Jw,{_name:"Validators"});class eT{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return l.each(t,(o,r)=>{this.add(r,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const r=this.store[t];l.isFunction(o)&&(_r.warn("vxe.error.delProp",["menus -> callback","menuMethod"]),o={menuMethod:o});const s=l.keys(r);return l.each(o,(i,d)=>{s.includes(d)&&_r.warn("vxe.error.coverProp",[t,d])}),this.store[t]=r?l.merge(r,o):o,this}delete(t){delete this.store[t]}forEach(t){l.objectEach(this.store,t)}}const Qw=new eT;Object.assign(Qw,{_name:"Menus"});class tT{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return l.each(t,(o,r)=>{this.add(r,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const r=this.store[t];l.isFunction(o)&&(_r.warn("vxe.error.delProp",["formats -> callback","cellFormatMethod"]),o={cellFormatMethod:o});const s=l.keys(r);return l.each(o,(i,d)=>{s.includes(d)&&_r.warn("vxe.error.coverProp",[t,d])}),this.store[t]=r?l.merge(r,o):o,this}delete(t){delete this.store[t]}forEach(t){l.objectEach(this.store,t)}}const eE=new tT;Object.assign(eE,{_name:"Formats"});class oT{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return l.each(t,(o,r)=>{this.add(r,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const r=this.store[t];l.isFunction(o)&&(_r.warn("vxe.error.delProp",["commands -> callback","commandMethod"]),o={commandMethod:o});const s=l.keys(r);return l.each(o,(i,d)=>{s.includes(d)&&_r.warn("vxe.error.coverProp",[t,d])}),this.store[t]=r?l.merge(r,o):o,this}delete(t){delete this.store[t]}forEach(t){l.objectEach(this.store,t)}}const tE=new oT;Object.assign(tE,{_name:"Commands"});const Fi={},Vs={mixin(e){return l.each(e,(t,o)=>{Vs.add(o,t)}),Vs},get(e){return e?Fi[e]||[]:[]},add(e,t){l.isFunction(t)&&(t={tableInterceptorMethod:t});const o=t.tableInterceptorMethod;if(o){let r=Fi[e];r||(r=Fi[e]=[]),r.indexOf(o)>-1&&_r.warn("vxe.error.coverProp",["Interceptor",e]),r.push(o)}return Vs},delete(e,t){const o=Fi[e];if(o){l.isFunction(t)&&(t={tableInterceptorMethod:t});const r=t?t.tableInterceptorMethod:null;r?l.remove(o,s=>s===r):delete Fi[e]}}};let fl;const Ai={text:"",html:""};function nT(e){if(!fl){fl=document.createElement("textarea"),fl.id="$VxeCopy";const t=fl.style;t.width="48px",t.height="24px",t.position="fixed",t.zIndex="0",t.left="-500px",t.top="-500px",document.body.appendChild(fl)}fl.value=e}const rT={getStore(){return Ai},setStore(e){Object.assign(Ai,e||{})},copy(e){let t=!1;try{const o=l.toValueString(e);nT(o),fl.select(),fl.setSelectionRange(0,fl.value.length),t=document.execCommand("copy"),fl.blur(),Ai.text=o,Ai.html=""}catch(o){}return t},getText(){return Ai.text||""}};function zs(e,t){let o=!0,r=!1;const s=t||pi.permissionMethod;if(e&&s){o=!1,r=!0;let d=!1,b=!1;const f=String(e).split("|");for(let E=0;E<f.length;E++){const m=f[E];let w=!0,D=!1;const C=s({code:m});if(l.isBoolean(C)?w=C:C&&(w=!!C.visible,D=!!C.disabled),!D&&!b&&(b=!0,r=D),w&&!d&&(d=!0,o=w),d&&b)break}}return{code:e,visible:o,disabled:r}}const oE={getCheckInfo(e){return zs(e)},checkVisible(e){return zs(e).visible},checkDisable(e){return zs(e).disabled}},lT=new Zw;function ur(e){const t=Co("xeSizeInfo",null),o=ae(()=>e.size||(t?t.value:null));return ir("xeSizeInfo",o),{computeSize:o}}function nE(e){return{computePermissionInfo:ae(()=>zs(e.permissionCode,e.permissionMethod))}}const aT={useSize:ur,usePermission:nE},tC=[];function iT(e,t){return e&&e.install&&tC.indexOf(e)===-1&&(e.install(Ee,t),tC.push(e)),Ee}const Qs={};function sT(e){return Qs[e]||null}function cT(e){return!!Qs[e]}function uT(e){e&&e.name&&(Qs[e.name]=e,Qs[l.kebabCase(e.name)]=e)}function yo(){return $o()}function dT(e,t,o){if(e){const r=`${e}`.match(/(\d+).(\d+).(\d+)/);if(r){const s=l.toNumber(r[1]);if(o){const i=l.toNumber(r[2]);return s>=t&&i>=o}return s>=t}}return!1}const Ee=Object.assign(ka,{renderEmptyElement:yo,setTheme:Zg,getTheme:qO,setConfig:mc,getConfig:Ge,setIcon:Uw,getIcon:vo,renderGlobalIcon:WO,renderCustomIcon:Yw,setLanguage:XO,hasLanguage:JO,getLanguage:QO,setI18n:ZO,getI18n:oo,globalEvents:Qt,GLOBAL_EVENT_KEYS:Oo,createEvent:Jn,globalResize:KO,renderer:oa,validators:Jw,menus:Qw,formats:eE,commands:tE,interceptor:Vs,clipboard:rT,log:_r,permission:oE,globalStore:GO,hooks:lT,component:uT,getComponent:sT,hasComponent:cT,useFns:aT,getSlotVNs:jw,checkVersion:dT,use:iT});Zg();const dr=Pa;let Pi;const si=un({modals:[],drawers:[],globalLoading:null,globalWatermark:null}),fT=dr({setup(){const e=Ee.getComponent("vxe-modal"),t=Ee.getComponent("vxe-drawer"),o=Ee.getComponent("vxe-loading"),r=Ee.getComponent("vxe-watermark");return()=>{const{modals:s,drawers:i,globalWatermark:d,globalLoading:b}=si;return[s.length?u("div",{key:1,class:"vxe-dynamics--modal"},s.map(f=>u(e,f))):$o(),i.length?u("div",{key:2,class:"vxe-dynamics--drawer"},i.map(f=>u(t,f))):$o(),d?u(r,d):$o(),b?u(o,b):$o()]}}}),Cr=tR(fT);function rE(){Pi||(Pi=document.createElement("div"),Pi.className="vxe-dynamics",document.body.appendChild(Pi),Cr.mount(Pi))}const lE="ui v4.10.27",Pl=_r.create("warn",lE),Jg=_r.create("error",lE),pT="4.10.27";Ee.uiVersion=pT;Ee.dynamicApp=Cr;function gT(e){return Pl("vxe.error.delFunc",["config","setConfig"]),mc(e)}function hT(e){return Pl("vxe.error.delFunc",["setup","setConfig"]),mc(e)}Ee.config=gT;Ee.setup=hT;mc({alert:{},anchor:{},anchorLink:{},avatar:{},badge:{},breadcrumb:{separator:"/"},breadcrumbItem:{},button:{trigger:"hover",prefixTooltip:{enterable:!0},suffixTooltip:{enterable:!0}},buttonGroup:{},calendar:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1},card:{border:!0,padding:!0},carousel:{height:200,loop:!0,interval:5e3},carouselItem:{},checkbox:{},checkboxButton:{},checkboxGroup:{},col:{},collapse:{padding:!0,expandConfig:{showIcon:!0}},collapsePane:{},countdown:{},colorPicker:{type:"rgb",clearable:!0,showAlpha:!0,clickToCopy:!0,showColorExtractor:!0,showQuick:!0},datePanel:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1},datePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,autoClose:!0,showClearButton:null,showConfirmButton:null},dateRangePicker:{shortcutConfig:{align:"left",mode:"text",autoClose:!0},startDay:1,selectDay:1,separator:" ~ ",autoClose:!0,showClearButton:null,showConfirmButton:null},drawer:{position:"right",showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0,padding:!0,cancelClosable:!0,confirmClosable:!0},empty:{},form:{validConfig:{showErrorMessage:!0,autoPos:!0,theme:"beautify"},tooltipConfig:{enterable:!0},titleAsterisk:!0,titleOverflow:!1,padding:!0},formDesign:{height:400,showHeader:!0,showPc:!0},formGather:{},formGroup:{},formItem:{},formView:{},icon:{},iconPicker:{icons:["home","company","comment","setting","send","envelope","envelope-open","bell","search","print","pc","goods","chart-line","edit","delete","save","folder","microphone","flag","link","location","sunny","rmb","usd","user","add-user","add-users","star","unlock","time","text","feedback","calendar","association-form","cloud-download","cloud-upload","file","subtable","chart-bar-x","chart-bar-y","chart-line","chart-pie","chart-radar"]},image:{showPreview:!0,showPrintButton:!0,maskClosable:!0},imageGroup:{showPreview:!0,showPrintButton:!0},imagePreview:{showPrintButton:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},layoutAside:{},layoutBody:{},layoutContainer:{},layoutFooter:{},layoutHeader:{},link:{underline:!0},listDesign:{height:400,showPc:!0},listView:{},list:{virtualYConfig:{enabled:!0,gt:100}},loading:{showIcon:!0,showText:!0},menu:{},modal:{top:16,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,padding:!0,draggable:!0,showConfirmButton:null,cancelClosable:!0,confirmClosable:!0,zoomConfig:{minimizeMaxSize:10,minimizeVerticalOffset:{top:-24,left:0},minimizeHorizontalOffset:{top:0,left:32}},storageKey:"VXE_MODAL_POSITION"},noticeBar:{},numberInput:{digits:2,autoFill:!0,controlConfig:{enabled:!0,layout:"right",showButton:!0,isWheel:!0,isArrow:!0}},optgroup:{},option:{},pager:{pageSizePlacement:"top"},print:{pageStyle:{}},passwordInput:{controls:!0},printPageBreak:{},pulldown:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},rate:{},result:{},row:{},select:{multiCharOverflow:8,remoteConfig:{enabled:!0,autoLoad:!0},virtualYConfig:{enabled:!0,gt:50,oSize:2}},splitter:{resize:!0,itemConfig:{minWidth:40,minHeight:40},resizeConfig:{showTip:!0}},splitterPanel:{},slider:{max:100,min:0},steps:{},switch:{},tabPane:{},tableSelect:{gridConfig:{showOverflow:!0,showHeaderOverflow:!0,showFooterOverflow:!0,rowConfig:{isHover:!0},virtualXConfig:{enabled:!0,gt:0},virtualYConfig:{enabled:!0,gt:0}}},tabs:{},tag:{},textEllipsis:{underline:!0},text:{copyConfig:{showMessage:!0}},textarea:{resize:"none"},tip:{},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300,isArrow:!0},tree:{indent:20,minHeight:60,radioConfig:{strict:!0},virtualYConfig:{enabled:!0,gt:50,oSize:2}},treeSelect:{autoClose:!0,virtualYConfig:{enabled:!0,gt:0,oSize:2},treeConfig:{maxHeight:300,radioConfig:{},checkboxConfig:{},filterConfig:{autoExpandAll:!0}}},upload:{mode:"all",imageTypes:["jpg","jpeg","png","gif"],showList:!0,showUploadButton:!0,showButtonText:!0,showRemoveButton:!0,showButtonIcon:!0,showPreview:!0,dragToUpload:!0,showLimitSize:!0,showLimitCount:!0,autoSubmit:!0,maxSimultaneousUploads:5},watermark:{rotate:-30,gap:[100,100]},table:{},colgroup:{},column:{},toolbar:{},grid:{},gantt:{}});const it="vxe-icon-";Uw({LOADING:it+"spinner roll vxe-loading--default-icon",BUTTON_DROPDOWN:it+"arrow-down",BUTTON_LOADING:it+"spinner roll",BUTTON_TOOLTIP_ICON:it+"question-circle-fill",MENU_ITEM_EXPAND_OPEN:it+"arrow-down rotate180",MENU_ITEM_EXPAND_CLOSE:it+"arrow-down",SELECT_LOADED:it+"spinner roll",SELECT_OPEN:it+"caret-down rotate180",SELECT_CLOSE:it+"caret-down",SELECT_ADD_OPTION:it+"add",ICON_PICKER_OPEN:it+"caret-down rotate180",ICON_PICKER_CLOSE:it+"caret-down",PAGER_HOME:it+"home-page",PAGER_END:it+"end-page",PAGER_JUMP_PREV:it+"arrow-double-left",PAGER_JUMP_NEXT:it+"arrow-double-right",PAGER_PREV_PAGE:it+"arrow-left",PAGER_NEXT_PAGE:it+"arrow-right",PAGER_JUMP_MORE:it+"ellipsis-h",RADIO_CHECKED:it+"radio-checked-fill",RADIO_UNCHECKED:it+"radio-unchecked",RADIO_DISABLED_UNCHECKED:it+"radio-unchecked-fill",CHECKBOX_INDETERMINATE:it+"checkbox-indeterminate-fill",CHECKBOX_CHECKED:it+"checkbox-checked-fill",CHECKBOX_UNCHECKED:it+"checkbox-unchecked",CHECKBOX_DISABLED_UNCHECKED:it+"checkbox-unchecked-fill",INPUT_CLEAR:it+"error-circle-fill",INPUT_SEARCH:it+"search",INPUT_PLUS_NUM:it+"caret-up",INPUT_MINUS_NUM:it+"caret-down",NUMBER_INPUT_MINUS_NUM:it+"minus",NUMBER_INPUT_PLUS_NUM:it+"add",DATE_PICKER_DATE:it+"calendar",PASSWORD_INPUT_SHOW_PWD:it+"eye-fill-close",PASSWORD_INPUT_HIDE_PWD:it+"eye-fill",MODAL_ZOOM_MIN:it+"minus",MODAL_ZOOM_REVERT:it+"recover",MODAL_ZOOM_IN:it+"square",MODAL_ZOOM_OUT:it+"maximize",MODAL_CLOSE:it+"close",MODAL_INFO:it+"info-circle-fill",MODAL_SUCCESS:it+"success-circle-fill",MODAL_WARNING:it+"warning-circle-fill",MODAL_ERROR:it+"error-circle-fill",MODAL_QUESTION:it+"question-circle-fill",MODAL_LOADING:it+"spinner roll",DRAWER_CLOSE:it+"close",FORM_PREFIX:it+"question-circle-fill",FORM_SUFFIX:it+"question-circle-fill",FORM_FOLDING:it+"arrow-up rotate180",FORM_UNFOLDING:it+"arrow-up",FORM_VALID_ERROR_ICON:it+"warning-circle-fill",FORM_DESIGN_STYLE_SETTING:it+"layout",FORM_DESIGN_PROPS_PC:it+"pc",FORM_DESIGN_PROPS_MOBILE:it+"mobile",FORM_DESIGN_PROPS_ADD:it+"add",FORM_DESIGN_PROPS_EDIT:it+"edit",FORM_DESIGN_WIDGET_ADD:it+"square-plus-fill",FORM_DESIGN_WIDGET_COPY:it+"copy",FORM_DESIGN_WIDGET_DELETE:it+"delete",FORM_DESIGN_WIDGET_SWAP_LR:it+"swap",FORM_DESIGN_WIDGET_OPTION_DELETE:it+"delete",FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN:it+"square-plus",FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:it+"square-minus",LIST_DESIGN_FIELD_SETTING:it+"custom-column",LIST_DESIGN_LIST_SETTING:it+"menu",LIST_DESIGN_LIST_SETTING_SEARCH_DELETE:it+"delete",LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE:it+"delete",UPLOAD_FILE_ERROR:it+"warning-circle-fill",UPLOAD_FILE_ADD:it+"upload",UPLOAD_FILE_REMOVE:it+"delete",UPLOAD_FILE_DOWNLOAD:it+"download",UPLOAD_IMAGE_UPLOAD:it+"upload",UPLOAD_IMAGE_RE_UPLOAD:it+"repeat",UPLOAD_IMAGE_ADD:it+"add",UPLOAD_IMAGE_REMOVE:it+"close",UPLOAD_LOADING:it+"spinner roll vxe-loading--default-icon",UPLOAD_FILE_TYPE_DEFAULT:it+"file",UPLOAD_FILE_TYPE_XLSX:it+"file-excel",UPLOAD_FILE_TYPE_XLS:it+"file-excel",UPLOAD_FILE_TYPE_PDF:it+"file-pdf",UPLOAD_FILE_TYPE_PNG:it+"file-image",UPLOAD_FILE_TYPE_GIF:it+"file-image",UPLOAD_FILE_TYPE_JPG:it+"file-image",UPLOAD_FILE_TYPE_JPEG:it+"file-image",UPLOAD_FILE_TYPE_MD:it+"file-markdown",UPLOAD_FILE_TYPE_PPD:it+"file-ppt",UPLOAD_FILE_TYPE_DOCX:it+"file-word",UPLOAD_FILE_TYPE_DOC:it+"file-word",UPLOAD_FILE_TYPE_ZIP:it+"file-zip",UPLOAD_FILE_TYPE_TXT:it+"file-txt",IMAGE_PREVIEW_CLOSE:it+"close",IMAGE_PREVIEW_PREVIOUS:it+"arrow-left",IMAGE_PREVIEW_NEXT:it+"arrow-right",IMAGE_PREVIEW_PCT_FULL:it+"pct-full",IMAGE_PREVIEW_PCT_1_1:it+"pct-1-1",IMAGE_PREVIEW_ZOOM_OUT:it+"search-zoom-out",IMAGE_PREVIEW_ZOOM_IN:it+"search-zoom-in",IMAGE_PREVIEW_ROTATE_LEFT:it+"rotate-left",IMAGE_PREVIEW_ROTATE_RIGHT:it+"rotate-right",IMAGE_PREVIEW_PRINT:it+"print",IMAGE_PREVIEW_DOWNLOAD:it+"download",ALERT_CLOSE:it+"close",ALERT_INFO:it+"info-circle-fill",ALERT_SUCCESS:it+"success-circle-fill",ALERT_WARNING:it+"warning-circle-fill",ALERT_ERROR:it+"error-circle-fill",TREE_NODE_OPEN:it+"caret-right rotate90",TREE_NODE_CLOSE:it+"caret-right",TREE_NODE_LOADED:it+"spinner roll",TREE_SELECT_LOADED:it+"spinner roll",TREE_SELECT_OPEN:it+"caret-down rotate180",TREE_SELECT_CLOSE:it+"caret-down",TABLE_SELECT_LOADED:it+"spinner roll",TABLE_SELECT_OPEN:it+"caret-down rotate180",TABLE_SELECT_CLOSE:it+"caret-down",TABS_TAB_BUTTON_TOP:it+"arrow-up",TABS_TAB_BUTTON_BOTTOM:it+"arrow-down",TABS_TAB_BUTTON_LEFT:it+"arrow-left",TABS_TAB_BUTTON_RIGHT:it+"arrow-right",TABS_TAB_CLOSE:it+"close",TABS_TAB_REFRESH:it+"refresh",TABS_TAB_REFRESH_LOADING:it+"refresh roll",TEXT_COPY:it+"copy",TEXT_LOADING:it+"spinner roll",TAG_CLOSE:it+"close",TAG_LOADING:it+"spinner roll",CAROUSEL_HORIZONTAL_PREVIOUS:it+"arrow-left",CAROUSEL_HORIZONTAL_NEXT:it+"arrow-right",CAROUSEL_VERTICAL_PREVIOUS:it+"arrow-up",CAROUSEL_VERTICAL_NEXT:it+"arrow-down",COLLAPSE_OPEN:it+"arrow-right rotate90",COLLAPSE_CLOSE:it+"arrow-right",EMPTY_DEFAULT:it+"empty",RESULT_INFO:it+"info-circle-fill",RESULT_SUCCESS:it+"success-circle-fill",RESULT_WARNING:it+"warning-circle-fill",RESULT_ERROR:it+"error-circle-fill",RESULT_QUESTION:it+"question-circle-fill",RESULT_LOADING:it+"spinner roll",RATE_CHECKED:it+"star-fill",RATE_UNCHECKED:it+"star",COLOR_PICKER_COLOR_COPY:it+"copy",COLOR_PICKER_EYE_DROPPER:it+"dropper",COLOR_PICKER_TPTY_OPEN:it+"arrow-down rotate180",COLOR_PICKER_TPTY_CLOSE:it+"arrow-down",SPLIT_TOP_ACTION:it+"arrow-up",SPLIT_BOTTOM_ACTION:it+"arrow-down",SPLIT_LEFT_ACTION:it+"arrow-left",SPLIT_RIGHT_ACTION:it+"arrow-right"});let ni;function aE(){return ni||(ni=new Image,ni.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),ni}function mT(){return ni||aE()}const tg={};function vT(e){return tg[e]||(tg[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),tg[e]}function ec(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(vT(t)))}function iE(e){return e.ctrlKey||e.metaKey}function Zn(e,t="px"){return l.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function Ui(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function ar(e,t,o,r){let s,i=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;i&&i.nodeType&&i!==document;){if(o&&ec(i,o))s=i;else if(i===t)return{flag:o?!!s:!0,container:t,targetElem:s};i=i.parentNode}return{flag:!1}}function sE(e){const t=e.getBoundingClientRect(),o=t.top,r=t.left,{scrollTop:s,scrollLeft:i,visibleHeight:d,visibleWidth:b}=Ui();return{boundingTop:o,top:s+o,boundingLeft:r,left:i+r,visibleHeight:d,visibleWidth:b}}function cE(e,t,o){const{placement:r,teleportTo:s,marginSize:i}=Object.assign({teleportTo:!1,marginSize:18},o);let d="bottom",b="",f="",E="";const m="";let w="";const D={};if(t&&e){const C=document.documentElement,M=document.body,v=e.offsetHeight,p=t.offsetHeight,T=t.offsetWidth,N=t.getBoundingClientRect(),k=e.getBoundingClientRect(),j=C.clientHeight||M.clientHeight,J=C.clientWidth||M.clientWidth;w=e.offsetWidth,s?(E=k.left,b=k.top+v,r==="top"?(d="top",b=k.top-p):r||(b+p+i>j&&(d="top",b=k.top-p),b<i&&(d="bottom",b=k.top+v)),E+T+i>J&&(E-=E+T+i-J),E<i&&(E=i)):(r==="top"?(d="top",f=v):r||(b=v,k.top+k.height+i>j&&k.top-v-p>i&&(d="top",b="",f=v)),N.left+N.width+i>J&&(E=-(N.left+N.width+i-J))),l.isNumber(b)&&(D.top=Zn(b)),l.isNumber(f)&&(D.bottom=Zn(f)),l.isNumber(E)&&(D.left=Zn(E)),l.isNumber(m)&&(D.right=Zn(m)),l.isNumber(w)&&(D.minWidth=Zn(w))}return{top:b||0,bottom:f||0,left:E||0,right:0,style:D,placement:d}}function og(e){return e&&e.enabled!==!1}function hi(){return _a.getNext()}function fs(){return _a.getCurrent()}function bT(){return _a.getSubNext()}function xT(){return _a.getSubCurrent()}function Mr(e,t){if(l.eqNull(e))return"";const o=Ge().translate;return`${o?o(""+e,t):e}`}function ta(e){return e==null||e===""}function oC(e){return l.isBoolean(e)?e:null}function Vo(e){return l.isArray(e)?e:e?[e]:[]}const Yi=dr({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>Ge().tooltip.size||Ge().size},selector:String,trigger:{type:String,default:()=>Ge().tooltip.trigger||"hover"},theme:{type:String,default:()=>Ge().tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],width:{type:[String,Number],default:()=>Ge().tooltip.Width},height:{type:[String,Number],default:()=>Ge().tooltip.height},minWidth:{type:[String,Number],default:()=>Ge().tooltip.minWidth},minHeight:{type:[String,Number],default:()=>Ge().tooltip.minHeight},maxWidth:{type:[String,Number],default:()=>Ge().tooltip.maxWidth},maxHeight:{type:[String,Number],default:()=>Ge().tooltip.maxHeight},isArrow:{type:Boolean,default:()=>Ge().tooltip.isArrow},enterable:{type:Boolean,default:()=>Ge().tooltip.enterable},enterDelay:{type:Number,default:()=>Ge().tooltip.enterDelay},leaveDelay:{type:Number,default:()=>Ge().tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:o,emit:r}=t,s=l.uniqueId(),{computeSize:i}=ur(e),d=un({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),b={},f=xt(),E=xt(),m=ae(()=>{const{width:_,height:z,minHeight:se,minWidth:ye,maxHeight:Y,maxWidth:X}=e,Re={};return _&&(Re.width=Zn(_)),z&&(Re.height=Zn(z)),ye&&(Re.minWidth=Zn(ye)),se&&(Re.minHeight=Zn(se)),X&&(Re.maxWidth=Zn(X)),Y&&(Re.maxHeight=Zn(Y)),Re}),w={refElem:f},D={xID:s,props:e,context:t,reactData:d,internalData:b,getRefMaps:()=>w};let C={};const M=()=>{const{tipTarget:_,tipStore:z}=d;if(_){const{scrollTop:se,scrollLeft:ye,visibleWidth:Y}=Ui(),{top:X,left:Re}=sE(_),ue=f.value;if(!ue)return;const Q=6,be=ue.offsetHeight,Ie=ue.offsetWidth;let De=Re,Me=X-be-Q;De=Math.max(Q,Re+Math.floor((_.offsetWidth-Ie)/2)),De+Ie+Q>ye+Y&&(De=ye+Y-Ie-Q),X-be<se+Q&&(z.placement="bottom",Me=X+_.offsetHeight+Q),z.style.top=`${Me}px`,z.style.left=`${De}px`,z.arrowStyle.left=`${Re-De+_.offsetWidth/2}px`}},v=_=>{_!==d.visible&&(d.visible=_,d.isUpdate=!0,r("update:modelValue",_))},p=()=>{d.tipZindex<fs()&&(d.tipZindex=hi())},T=()=>{d.visible?C.close():F(d.target||V(),e.content)},N=()=>{F(d.target||V(),e.content)},k=()=>{const{trigger:_,enterable:z,leaveDelay:se}=e;d.tipActive=!1,z&&_==="hover"?setTimeout(()=>{d.tipActive||C.close()},se):C.close()},j=()=>{d.tipActive=!0},J=()=>{const{trigger:_,enterable:z,leaveDelay:se}=e;d.tipActive=!1,z&&_==="hover"&&setTimeout(()=>{d.tipActive||C.close()},se)},B=()=>{const{tipStore:_}=d,z=f.value;return z&&(z.parentNode||document.body.appendChild(z)),v(!0),p(),_.placement="top",_.style={width:"auto",left:0,top:0,zIndex:e.zIndex||d.tipZindex},_.arrowStyle={left:"50%"},C.updatePlacement()},I=()=>{b.showDelayTip=l.debounce(()=>{d.tipActive&&B()},e.enterDelay,{leading:!1,trailing:!0})},F=(_,z)=>{if(!o.content&&(z===""||l.eqNull(z)))return pe();if(_){const{showDelayTip:ye}=b,{trigger:Y,enterDelay:X}=e;if(d.tipActive=!0,d.tipTarget=_,d.tipContent=z,X&&Y==="hover")ye&&ye();else return B()}return pe()},V=()=>{const{selector:_}=e;if(_){if(l.isElement(_))return _;if(l.isString(_))return document.querySelector(_)}return null};C={dispatchEvent(_,z,se){r(_,Jn(se,{$tooltip:D},z))},open(_,z){return F(_||d.target||V(),z)},close(){return d.tipTarget=null,d.tipActive=!1,Object.assign(d.tipStore,{style:{},placement:"",arrowStyle:null}),v(!1),pe()},toVisible(_,z){return F(_,z)},updatePlacement(){return pe().then(()=>{const{tipTarget:_}=d,z=f.value;if(_&&z)return M(),pe().then(()=>{M()})})},isActived(){return d.tipActive},setActived(_){d.tipActive=!!_}};const W=_=>{_.stopPropagation()};Object.assign(D,C);const ie=()=>{const{useHTML:_}=e,{tipContent:z}=d,se=m.value,ye=o.content,Y=[];return ye?Y.push(u("div",{key:1},Vo(ye({})))):_?Y.push(u("div",{key:2,innerHTML:z})):Y.push(u("span",{key:3},`${z}`)),u("div",{key:3,ref:E,class:"vxe-tooltip--content",style:se},Y)},U=()=>{const{popupClassName:_,theme:z,isArrow:se,enterable:ye}=e,{tipActive:Y,visible:X,tipStore:Re}=d,ue=o.default,Q=i.value;let be;return ye&&(be={onMouseenter:j,onMouseleave:J}),u("div",Object.assign({ref:f,class:["vxe-tooltip--wrapper",`theme--${z}`,_?l.isFunction(_)?_({$tooltip:D}):_:"",{[`size--${Q}`]:Q,[`placement--${Re.placement}`]:Re.placement,"is--enterable":ye,"is--visible":X,"is--arrow":se,"is--active":Y}],style:Re.style},be),[ie(),u("div",{class:"vxe-tooltip--arrow",style:Re.arrowStyle}),...ue?Vo(ue({})):[]])};return no(()=>e.enterDelay,()=>{I()}),no(()=>e.content,_=>{d.tipContent=_}),no(()=>e.modelValue,_=>{d.isUpdate||(_?F(d.target||V(),e.content):C.close()),d.isUpdate=!1}),sr(()=>{const _=E.value;_&&_.addEventListener("wheel",W,{passive:!1}),pe(()=>{const{trigger:z,content:se}=e,ye=f.value;if(ye){const Y=ye.parentNode;if(Y){d.tipContent=se,d.tipZindex=hi(),l.arrayEach(ye.children,(Re,ue)=>{ue>1&&(Y.insertBefore(Re,ye),d.target||(d.target=Re))}),Y.removeChild(ye);const{target:X}=d;X&&(z==="hover"?(X.onmouseenter=N,X.onmouseleave=k):z==="click"&&(X.onclick=T)),e.modelValue&&F(X||V(),se)}}})}),ns(()=>{const{target:_}=d,z=f.value;_&&(_.onmouseenter=null,_.onmouseleave=null,_.onclick=null);const se=E.value;if(se&&se.removeEventListener("wheel",W),z){const ye=z.parentNode;ye&&ye.removeChild(z)}}),I(),D.renderVN=U,D},render(){return this.renderVN()}}),lr=dr({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>Ge().button.size||Ge().size},zIndex:Number,name:[String,Number],routerLink:Object,permissionCode:[String,Number],content:String,placement:String,status:String,title:String,icon:String,iconRender:Object,prefixIcon:String,prefixRender:Object,suffixIcon:String,suffixRender:Object,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,trigger:{type:String,default:()=>Ge().button.trigger},align:String,prefixTooltip:Object,suffixTooltip:Object,options:Array,destroyOnClose:{type:Boolean,default:()=>Ge().button.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["click","mouseenter","mouseleave","dropdown-click","dropdownClick"],setup(e,t){const{slots:o,emit:r}=t,s=Co("$xeModal",null),i=Co("$xeDrawer",null),d=Co("$xeTable",null),b=Co("$xeForm",null),f=Co("$xeButtonGroup",null),E=l.uniqueId(),{computeSize:m}=ur(e),{computePermissionInfo:w}=nE(e),D=un({initialized:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),C={showTime:void 0,tooltipTimeout:void 0},M=xt(),v=xt(),p=xt(),T={refElem:M},N={xID:E,props:e,context:t,reactData:D,internalData:C,getRefMaps:()=>T};let k={};const j=ae(()=>{const{transfer:ce}=e;if(ce===null){const Ne=Ge().button.transfer;if(l.isBoolean(Ne))return Ne;if(d||s||i||b)return!0}return ce}),J=ae(()=>{const{disabled:ce}=e,Ne=w.value;return ce||Ne.disabled}),B=ae(()=>{const{type:ce}=e;return ce?["submit","reset","button"].indexOf(ce)>-1:!1}),I=ae(()=>{const{type:ce,mode:Ne}=e;return Ne==="text"||ce==="text"||f&&f.props.mode==="text"?"text":"button"}),F=ae(()=>{const{status:ce}=e;return ce||(f?f.props.status:"")}),V=ae(()=>{const{align:ce}=e;return ce||(f?f.props.align:!1)}),W=ae(()=>{const{round:ce}=e;return ce||(f?f.props.round:!1)}),ie=ae(()=>{const{circle:ce}=e;return ce||(f?f.props.circle:!1)}),U=ae(()=>{const{options:ce}=e;return ce?ce.filter(Ne=>{const{permissionCode:Ke}=Ne;return!Ke||oE.checkVisible(Ke)}):[]}),_=ae(()=>Object.assign({},Ge().button.prefixTooltip,e.prefixTooltip)),z=ae(()=>Object.assign({},Ge().button.suffixTooltip,e.suffixTooltip)),se=()=>{const{zIndex:ce}=e;ce?D.panelIndex=ce:D.panelIndex<fs()&&(D.panelIndex=hi())},ye=()=>{const{placement:ce}=e,{panelIndex:Ne}=D,Ke=v.value,dt=p.value,ft=j.value,Vt=()=>{const bt=cE(Ke,dt,{placement:ce,teleportTo:ft}),vt=Object.assign(bt.style,{zIndex:Ne});D.panelStyle=vt,D.panelPlacement=bt.placement};return Vt(),pe().then(Vt)},Y=ce=>{f&&f.handleClick({name:e.name},ce),Je("click",{$event:ce},ce)},X=(ce,Ne)=>{const{$event:Ke}=ce;fe(),Je("dropdown-click",{name:Ne.name,option:Ne},Ke)},Re=ce=>{ce.button===0&&ce.stopPropagation()},ue=ce=>{const Ne=ce.currentTarget,Ke=p.value,{flag:dt,targetElem:ft}=ar(ce,Ne,"vxe-button");dt&&(Ke&&(Ke.dataset.active="N"),D.visiblePanel=!1,setTimeout(()=>{(!Ke||Ke.dataset.active!=="Y")&&(D.isAniVisible=!1)},350),Je("dropdown-click",{name:ft.getAttribute("name"),option:null},ce))},Q=()=>{const ce=p.value;ce&&(ce.dataset.active="Y",D.isAniVisible=!0,setTimeout(()=>{ce.dataset.active==="Y"&&(D.visiblePanel=!0,se(),ye(),setTimeout(()=>{D.visiblePanel&&ye()},50))},20))},be=ce=>{const{loading:Ne}=e;J.value||Ne||(xe(),De(ce))},Ie=ce=>{fe(),Me(ce)},De=ce=>{Je("mouseenter",{},ce)},Me=ce=>{Je("mouseleave",{},ce)},Se=ce=>{const{loading:Ne,trigger:Ke}=e;J.value||Ne||(Ke==="click"&&(D.visiblePanel?fe():xe()),Y(ce))},xe=()=>{const{trigger:ce}=e,Ne=p.value;return Ne&&(Ne.dataset.active="Y",D.initialized||(D.initialized=!0),C.showTime=setTimeout(()=>{Ne.dataset.active==="Y"?Q():D.isAniVisible=!1},ce==="click"?50:250)),pe()},fe=()=>{const ce=p.value;return clearTimeout(C.showTime),ce?(ce.dataset.active="N",setTimeout(()=>{ce.dataset.active!=="Y"&&(D.visiblePanel=!1,setTimeout(()=>{ce.dataset.active!=="Y"&&(D.isAniVisible=!1)},350))},100)):(D.isAniVisible=!1,D.visiblePanel=!1),pe()},Oe=()=>{fe()},Pe=(ce,Ne)=>u(Yi,{useHTML:ce.useHTML,content:ce.content,enterable:ce.enterable,theme:ce.theme},{default(){return u("span",{class:`vxe-button--item vxe-button--tooltip-${Ne}-icon`},[u("i",{class:ce.icon||vo().BUTTON_TOOLTIP_ICON})])}}),tt=()=>{const{content:ce,suffixIcon:Ne,loading:Ke,prefixTooltip:dt,suffixTooltip:ft,suffixRender:Vt}=e,bt=e.prefixIcon||e.icon,vt=e.prefixRender||e.iconRender,Ot=_.value,lt=z.value,Et=o.prefix||o.icon,Xt=o.suffix,jt=o.default,Gt=[];if(dt&&Gt.push(Pe(Ot,"prefix")),Ke)Gt.push(u("i",{class:["vxe-button--item vxe-button--loading-icon",vo().BUTTON_LOADING]}));else if(Et)Gt.push(u("span",{class:"vxe-button--item vxe-button--custom-prefix-icon"},Et({})));else if(vt){const Ct=oa.get(vt.name),Nt=Ct?Ct.renderButtonPrefix:null;Gt.push(u("span",{class:["vxe-button--item vxe-button--custom-prefix-icon"]},Nt?Vo(Nt(vt,{$button:N})):[]))}else bt&&Gt.push(u("i",{class:["vxe-button--item vxe-button--prefix-icon",bt]}));if(jt?Gt.push(u("span",{class:"vxe-button--item vxe-button--content"},jt({}))):ce&&Gt.push(u("span",{class:"vxe-button--item vxe-button--content"},Mr(ce))),Xt)Gt.push(u("span",{class:"vxe-button--item vxe-button--custom-suffix-icon"},Xt({})));else if(Vt){const Ct=oa.get(Vt.name),Nt=Ct?Ct.renderButtonSuffix:null;Gt.push(u("span",{class:["vxe-button--item vxe-button--custom-suffix-icon"]},Nt?Vo(Nt(Vt,{$button:N})):[]))}else Ne&&Gt.push(u("i",{class:["vxe-button--item vxe-button--suffix-icon",Ne]}));return ft&&Gt.push(Pe(lt,"suffix")),Gt},Je=(ce,Ne,Ke)=>{r(ce,Jn(Ke,{$button:N},Ne))};k={dispatchEvent:Je,openPanel:xe,closePanel:fe,focus(){const ce=v.value;return ce&&ce.focus(),pe()},blur(){const ce=v.value;return ce&&ce.blur(),pe()}};const rt=ce=>{const Ne=p.value;D.visiblePanel&&!ar(ce,Ne).flag&&fe()},ze=ce=>{const Ne=J.value,{visiblePanel:Ke}=D;if(!Ne){const dt=M.value,ft=p.value;D.isActivated=ar(ce,dt).flag||ar(ce,ft).flag,Ke&&!D.isActivated&&fe()}},Z=()=>{const{visiblePanel:ce}=D;ce&&ye()};Object.assign(N,k);const $e=()=>{const{className:ce,popupClassName:Ne,trigger:Ke,title:dt,routerLink:ft,type:Vt,destroyOnClose:bt,name:vt,loading:Ot}=e,{initialized:lt,isAniVisible:Et,visiblePanel:Xt}=D,jt=B.value,Gt=I.value,Ct=F.value,Nt=W.value,_t=V.value,ke=ie.value,Fe=j.value,je=J.value,nt=w.value,mt=U.value,te=m.value,_e=o.dropdowns;if(!nt.visible)return yo();if(_e||mt.length){const Be={},Qe={};return Ke==="hover"&&(Be.onMouseenter=be,Be.onMouseleave=Ie,Qe.onMouseenter=Q,Qe.onMouseleave=Oe),u("div",{ref:M,class:["vxe-button--dropdown",ce?l.isFunction(ce)?ce({$button:N}):ce:"",{[`size--${te}`]:te,"is--active":Xt}]},[ft?u(Sg("router-link"),Object.assign({ref:v,class:["vxe-button","vxe-button--link",`type--${Gt}`,_t?`align--${_t}`:"",ce?l.isFunction(ce)?ce({$button:N}):ce:"",{[`size--${te}`]:te,[`theme--${Ct}`]:Ct,"is--round":Nt,"is--circle":ke,"is--disabled":je||Ot,"is--loading":Ot}],title:dt,name:vt,type:jt?Vt:"button",disabled:je||Ot,to:ft,onClick:Se},Be),{default(){return tt().concat([u("i",{class:`vxe-button--dropdown-arrow ${vo().BUTTON_DROPDOWN}`})])}}):u("button",Object.assign({ref:v,class:["vxe-button",`type--${Gt}`,_t?`align--${_t}`:"",ce?l.isFunction(ce)?ce({$button:N}):ce:"",{[`size--${te}`]:te,[`theme--${Ct}`]:Ct,"is--round":Nt,"is--circle":ke,"is--disabled":je||Ot,"is--loading":Ot}],title:dt,name:vt,type:jt?Vt:"button",disabled:je||Ot,onClick:Se},Be),tt().concat([u("i",{class:`vxe-button--dropdown-arrow ${vo().BUTTON_DROPDOWN}`})])),u(ca,{to:"body",disabled:Fe?!lt:!0},[u("div",Object.assign({ref:p,class:["vxe-button--dropdown-panel",Ne?l.isFunction(Ne)?Ne({$button:N}):Ne:"",{[`size--${te}`]:te,"is--transfer":Fe,"ani--leave":Et,"ani--enter":Xt}],placement:D.panelPlacement,style:D.panelStyle},Qe),lt&&(Xt||Et)?[_e?u("div",{class:"vxe-button--dropdown-wrapper",onMousedown:Re,onClick:ue},lt&&(!bt||Xt||Et)?_e({}):[]):u("div",{class:"vxe-button--dropdown-wrapper"},lt&&(!bt||Xt||Et)?mt.map((at,yt)=>u(lr,{key:yt,type:at.type,mode:at.mode||Gt,className:at.className,name:at.name,routerLink:at.routerLink,permissionCode:at.permissionCode,title:at.title,content:at.content,status:at.status,icon:at.icon,round:l.isBoolean(at.round)?at.round:Gt==="text"?!1:Nt,circle:l.isBoolean(at.circle)?at.circle:Gt==="text"?!1:ke,disabled:at.disabled,loading:at.loading,align:at.align,onClick(Xe){X(Xe,at)}})):[])]:[])])])}return ft?u(Sg("router-link"),{ref:v,class:["vxe-button","vxe-button--link",`type--${Gt}`,_t?`align--${_t}`:"",ce?l.isFunction(ce)?ce({$button:N}):ce:"",{[`size--${te}`]:te,[`theme--${Ct}`]:Ct,"is--round":Nt,"is--circle":ke,"is--disabled":je||Ot,"is--loading":Ot}],title:dt,name:vt,type:jt?Vt:"button",disabled:je||Ot,to:ft,onClick:Y,onMouseenter:De,onMouseleave:Me},{default(){return tt()}}):u("button",{ref:v,class:["vxe-button",`type--${Gt}`,_t?`align--${_t}`:"",ce?l.isFunction(ce)?ce({$button:N}):ce:"",{[`size--${te}`]:te,[`theme--${Ct}`]:Ct,"is--round":Nt,"is--circle":ke,"is--disabled":je||Ot,"is--loading":Ot}],title:dt,name:vt,type:jt?Vt:"button",disabled:je||Ot,onClick:Y,onMouseenter:De,onMouseleave:Me},tt())};return N.renderVN=$e,sr(()=>{e.type==="text"&&Pl("vxe.error.delProp",["[button] type=text","mode=text"]),Qt.on(N,"mousewheel",rt),Qt.on(N,"mousedown",ze),Qt.on(N,"resize",Z)}),mr(()=>{Qt.off(N,"mousewheel"),Qt.off(N,"mousedown"),Qt.off(N,"resize")}),N},render(){return this.renderVN()}}),Qg=Object.assign({},lr,{install(e){e.component(lr.name,lr)}});Cr.use(Qg);Ee.component(lr);const qs=dr({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>Ge().checkbox.size||Ge().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:r}=t,s=Co("$xeForm",null),i=Co("xeFormItemInfo",null),d=Co("$xeCheckboxGroup",null),b=l.uniqueId(),f=un({}),E={xID:b,props:e,context:t,reactData:f};let m={};const{computeSize:w}=ur(e),D=ae(()=>d?l.includes(d.props.modelValue,e.label):e.modelValue===e.checkedValue),C=ae(()=>{const{disabled:T}=e,N=D.value;if(T===null&&d){const{computeIsDisabled:k,computeIsMaximize:j}=d.getComputeMaps(),J=k.value,B=j.value;return J||B&&!N}return T}),M=T=>{const{checkedValue:N,uncheckedValue:k}=e;if(!C.value){const J=T.target.checked,B=J?N:k,I={checked:J,value:B,label:e.label};d?d.handleChecked(I,T):(r("update:modelValue",B),m.dispatchEvent("change",I,T),s&&i&&s.triggerItemEvent(T,i.itemConfig.field,B))}};m={dispatchEvent:(T,N,k)=>{r(T,Jn(k,{$checkbox:E},N))}},Object.assign(E,m);const p=()=>{const{label:T}=e,N=w.value,k=C.value,j=D.value,J=!j&&e.indeterminate;return u("label",{key:T,class:["vxe-checkbox vxe-checkbox--default",{[`size--${N}`]:N,"is--indeterminate":J,"is--disabled":k,"is--checked":j}],title:e.title},[u("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:k,checked:j,onChange:M}),u("span",{class:["vxe-checkbox--icon",J?vo().CHECKBOX_INDETERMINATE:j?vo().CHECKBOX_CHECKED:k?vo().CHECKBOX_DISABLED_UNCHECKED:vo().CHECKBOX_UNCHECKED]}),u("span",{class:"vxe-checkbox--label"},o.default?o.default({}):Mr(e.content))])};return E.renderVN=p,E},render(){return this.renderVN()}}),uE=Object.assign(qs,{install(e){e.component(qs.name,qs)}});Cr.use(uE);Ee.component(qs);const Gs=dr({name:"VxeIcon",props:{name:String,className:String,roll:Boolean,status:String,size:{type:String,default:()=>Ge().icon.size||Ge().size}},emits:["click"],setup(e,t){const{emit:o}=t,r=l.uniqueId(),{computeSize:s}=ur(e),i={xID:r,props:e,context:t},d=w=>{o("click",Jn(w,{}))};Object.assign(i,{dispatchEvent:(w,D,C)=>{o(w,Jn(C,{$icon:i},D))}},{});const m=()=>{const{name:w,roll:D,status:C,className:M}=e,v=s.value;return u("i",{class:["vxe-icon",`vxe-icon-${w}`,`${M||""}`,{[`size--${v}`]:v,[`theme--${C}`]:C,roll:D}],onClick:d})};return i.renderVN=m,i},render(){return this.renderVN()}}),dE=Object.assign({},Gs,{install(e){e.component(Gs.name,Gs)}});Cr.use(dE);Ee.component(Gs);function CT(e){const t=new Date(2e3,0,1);if(e){let o=0,r=0,s=0;if((l.isNumber(e)||/^[0-9]{11,15}$/.test(`${e}`))&&(e=new Date(Number(e))),l.isDate(e))o=e.getHours(),r=e.getMinutes(),s=e.getSeconds();else{e=l.toValueString(e);const i=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);i&&(o=l.toNumber(i[1]),r=l.toNumber(i[3]),s=l.toNumber(i[5]))}return t.setHours(o),t.setMinutes(r),t.setSeconds(s),t}return t}function nC(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}function Ur(e){return l.isString(e)?e.replace(/[^0-9e.-]/g,""):e}function Ki(e,t){return/^-/.test(""+e)?l.toFixed(l.ceil(e,t),t):l.toFixed(l.floor(e,t),t)}const ci=dr({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,title:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>Ge().input.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:{type:String,default:null},maxLength:{type:[String,Number],default:()=>Ge().input.maxLength},autoComplete:{type:String,default:"off"},autoFocus:{type:Boolean,default:null},align:String,form:String,className:String,size:{type:String,default:()=>Ge().input.size||Ge().size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],trim:{type:Boolean,default:()=>Ge().input.trim},exponential:{type:Boolean,default:()=>Ge().input.exponential},controls:{type:Boolean,default:()=>Ge().input.controls},digits:{type:[String,Number],default:()=>Ge().input.digits},startDate:{type:[String,Number,Date],default:()=>Ge().input.startDate},endDate:{type:[String,Number,Date],default:()=>Ge().input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>Ge().input.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>Ge().input.festivalMethod},disabledMethod:{type:Function,default:()=>Ge().input.disabledMethod},selectDay:{type:[String,Number],default:()=>Ge().input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","lazy-change","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:o,emit:r}=t,s=Co("$xeSelect",null),i=Co("$xeTreeSelect",null),d=Co("$xeModal",null),b=Co("$xeDrawer",null),f=Co("$xeTable",null),E=Co("$xeForm",null),m=Co("xeFormItemInfo",null),w=l.uniqueId(),{computeSize:D}=ur(e),C=un({initialized:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),M={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0,dnTimeout:void 0},v=xt(),p=xt(),T=xt(),N=xt(),k=xt(),j={refElem:v,refInput:p},J={xID:w,props:e,context:t,reactData:C,internalData:M,getRefMaps:()=>j};let B={};const I=(A,me)=>{const{type:Ae}=e;return Ae==="time"?CT(A):l.toStringDate(A,me)},F=ae(()=>{const{transfer:A}=e;if(A===null){const me=Ge().input.transfer;if(l.isBoolean(me))return me;if(f||d||b||E)return!0}return A}),V=ae(()=>E?E.props.readonly:!1),W=ae(()=>{const{readonly:A}=e;return A}),ie=ae(()=>{const{disabled:A}=e;return A===null?E?E.props.disabled:!1:A}),U=ae(()=>{const{maxLength:A,maxlength:me}=e,Ae=A||me;return z.value&&!l.toNumber(Ae)?16:Ae}),_=ae(()=>{const{type:A}=e;return A==="time"||A==="datetime"}),z=ae(()=>["number","integer","float"].indexOf(e.type)>-1),se=ae(()=>l.getSize(C.inputValue)),ye=ae(()=>{const A=se.value,me=U.value;return me&&A>l.toNumber(me)}),Y=ae(()=>_.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),X=ae(()=>e.type==="password"),Re=ae(()=>e.type==="search"),ue=ae(()=>l.toInteger(e.digits)||1),Q=ae(()=>{const{type:A}=e,me=ue.value,Ae=e.step;return A==="integer"?l.toInteger(Ae)||1:A==="float"?l.toNumber(Ae)||1/Math.pow(10,me):l.toNumber(Ae)||1}),be=ae(()=>{const{type:A}=e,me=z.value,Ae=Y.value,et=X.value;return e.clearable&&(et||me||Ae||A==="text"||A==="search")}),Ie=ae(()=>e.startDate?l.toStringDate(e.startDate):null),De=ae(()=>e.endDate?l.toStringDate(e.endDate):null),Me=ae(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),Se=ae(()=>{const{modelValue:A,multiple:me}=e,Ae=Y.value,et=Oe.value;return me&&A&&Ae?l.toValueString(A).split(",").map(Dt=>{const kt=I(Dt,et);return l.isValidDate(kt)?kt:null}):[]}),xe=ae(()=>{const A=Se.value,me=Oe.value;return A.map(Ae=>l.toDateString(Ae,me))}),fe=ae(()=>{const A=Se.value,me=Z.value;return A.map(Ae=>l.toDateString(Ae,me)).join(", ")}),Oe=ae(()=>{const{type:A,valueFormat:me}=e;return me||(A==="time"?"HH:mm:ss":A==="datetime"?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),Pe=ae(()=>{const{modelValue:A}=e,me=Y.value,Ae=Oe.value;let et=null;if(A&&me){const Dt=I(A,Ae);l.isValidDate(Dt)&&(et=Dt)}return et}),tt=ae(()=>{const A=Ie.value,{selectMonth:me}=C;return me&&A?me<=A:!1}),Je=ae(()=>{const A=De.value,{selectMonth:me}=C;return me&&A?me>=A:!1}),rt=ae(()=>{const{datetimePanelValue:A}=C,me=_t.value;return A?l.toDateString(A,me?"HH:mm:ss":"HH:mm"):""}),ze=ae(()=>{const A=Pe.value,me=_.value;return A&&me?(A.getHours()*3600+A.getMinutes()*60+A.getSeconds())*1e3:0}),Z=ae(()=>{const{labelFormat:A}=e;return Y.value?A||oo(`vxe.input.date.labelFormat.${e.type}`):""}),$e=ae(()=>{const{selectMonth:A,currentDate:me}=C,{yearSize:Ae}=M,et=[];if(A&&me){const Dt=me.getFullYear(),kt=A.getFullYear(),St=new Date(kt-kt%Ae,0,1);for(let At=-4;At<Ae+4;At++){const Ve=l.getWhatYear(St,At,"first"),Wt=Ve.getFullYear();et.push({date:Ve,isCurrent:!0,isPrev:At<0,isNow:Dt===Wt,isNext:At>=Ae,year:Wt})}}return et}),ce=ae(()=>{const A=Y.value;let me="",Ae="";if(A){const{datePanelType:et,selectMonth:Dt}=C,kt=$e.value;let St="",At;Dt&&(St=Dt.getFullYear(),At=Dt.getMonth()+1),et==="quarter"||et==="month"?me=oo("vxe.datePicker.yearTitle",[St]):et==="year"?me=kt.length?`${kt[0].year} - ${kt[kt.length-1].year}`:"":(me=oo("vxe.datePicker.yearTitle",[St]),Ae=At?oo(`vxe.input.date.m${At}`):"-")}return{y:me,m:Ae}}),Ne=ae(()=>{const{startDay:A,startWeek:me}=e;return l.toNumber(l.isNumber(A)||l.isString(A)?A:me)}),Ke=ae(()=>{const A=[];if(Y.value){let Ae=Ne.value;A.push(Ae);for(let et=0;et<6;et++)Ae>=6?Ae=0:Ae++,A.push(Ae)}return A}),dt=ae(()=>Y.value?Ke.value.map(Ae=>({value:Ae,label:oo(`vxe.input.date.weeks.w${Ae}`)})):[]),ft=ae(()=>{if(Y.value){const me=dt.value;return[{label:oo("vxe.input.date.weeks.w")}].concat(me)}return[]}),Vt=ae(()=>{const A=$e.value;return l.chunk(A,4)}),bt=ae(()=>{const{selectMonth:A,currentDate:me}=C,{quarterSize:Ae}=M,et=[];if(A&&me){const Dt=me.getFullYear(),kt=nC(me),St=l.getWhatYear(A,0,"first"),At=St.getFullYear();for(let Ve=-2;Ve<Ae-2;Ve++){const Wt=l.getWhatQuarter(St,Ve),go=Wt.getFullYear(),po=nC(Wt),Go=go<At;et.push({date:Wt,isPrev:Go,isCurrent:go===At,isNow:go===Dt&&po===kt,isNext:!Go&&go>At,quarter:po})}}return et}),vt=ae(()=>{const A=bt.value;return l.chunk(A,2)}),Ot=ae(()=>{const{selectMonth:A,currentDate:me}=C,{monthSize:Ae}=M,et=[];if(A&&me){const Dt=me.getFullYear(),kt=me.getMonth(),St=l.getWhatYear(A,0,"first").getFullYear();for(let At=-4;At<Ae-4;At++){const Ve=l.getWhatYear(A,0,At),Wt=Ve.getFullYear(),go=Ve.getMonth(),po=Wt<St;et.push({date:Ve,isPrev:po,isCurrent:Wt===St,isNow:Wt===Dt&&go===kt,isNext:!po&&Wt>St,month:go})}}return et}),lt=ae(()=>{const A=Ot.value;return l.chunk(A,4)}),Et=ae(()=>{const{selectMonth:A,currentDate:me}=C,Ae=[];if(A&&me){const et=ze.value,Dt=Ke.value,kt=me.getFullYear(),St=me.getMonth(),At=me.getDate(),Ve=A.getFullYear(),Wt=A.getMonth(),go=A.getDay(),po=-Dt.indexOf(go),Go=new Date(l.getWhatDay(A,po).getTime()+et);for(let qn=0;qn<42;qn++){const jn=l.getWhatDay(Go,qn),Tn=jn.getFullYear(),nn=jn.getMonth(),wr=jn.getDate(),hn=jn<A;Ae.push({date:jn,isPrev:hn,isCurrent:Tn===Ve&&nn===Wt,isNow:Tn===kt&&nn===St&&wr===At,isNext:!hn&&Wt!==nn,label:wr})}}return Ae}),Xt=ae(()=>{const A=Et.value;return l.chunk(A,7)}),jt=ae(()=>{const A=Xt.value,me=Ne.value;return A.map(Ae=>{const et=Ae[0];return[{date:et.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:l.getYearWeek(et.date,me)}].concat(Ae)})}),Gt=ae(()=>{const A=[];if(_.value)for(let Ae=0;Ae<24;Ae++)A.push({value:Ae,label:(""+Ae).padStart(2,"0")});return A}),Ct=ae(()=>{const A=[];if(_.value)for(let Ae=0;Ae<60;Ae++)A.push({value:Ae,label:(""+Ae).padStart(2,"0")});return A}),Nt=ae(()=>{const A=Oe.value;return!/HH/.test(A)||/mm/.test(A)}),_t=ae(()=>{const A=Oe.value;return!/HH/.test(A)||/ss/.test(A)}),ke=ae(()=>Ct.value),Fe=ae(()=>{const{type:A,editable:me,multiple:Ae}=e;return W.value||Ae||!me||A==="week"||A==="quarter"}),je=ae(()=>{const{type:A}=e,{showPwd:me}=C,Ae=z.value,et=Y.value,Dt=X.value;return et||Ae||Dt&&me||A==="number"?"text":A}),nt=ae(()=>{const{placeholder:A}=e;if(A)return Mr(A);if(l.eqNull(A)){const me=Ge().input.placeholder;return me?Mr(me):oo("vxe.base.pleaseInput")}return A}),mt=ae(()=>{const{type:A,immediate:me}=e;return me||!(A==="text"||A==="number"||A==="integer"||A==="float")}),te=ae(()=>{const{type:A}=e,{inputValue:me}=C;return z.value?A==="integer"?l.toInteger(Ur(me)):l.toNumber(Ur(me)):0}),_e=ae(()=>{const{min:A}=e,{inputValue:me}=C,Ae=z.value,et=te.value;return(me||me===0)&&Ae&&A!==null?et<=l.toNumber(A):!1}),Be=ae(()=>{const{max:A}=e,{inputValue:me}=C,Ae=z.value,et=te.value;return(me||me===0)&&Ae&&A!==null?et>=l.toNumber(A):!1}),Qe=A=>{const{type:me,exponential:Ae}=e,et=U.value,Dt=ue.value,kt=me==="float"?Ki(A,Dt):l.toValueString(A);return Ae&&(A===kt||l.toValueString(A).toLowerCase()===l.toNumber(kt).toExponential())?A:kt.slice(0,et)},at=A=>{r("update:modelValue",A)},yt=A=>{const{inputValue:me}=C;B.dispatchEvent(A.type,{value:me},A)},Xe=(A,me)=>{e.trim&&(A=`${A||""}`.trim()),C.inputValue=A,at(A),B.dispatchEvent("input",{value:A},me),l.toValueString(e.modelValue)!==A&&(B.dispatchEvent("change",{value:A},me),!s&&!i&&E&&m&&E.triggerItemEvent(me,m.itemConfig.field,A))},ge=(A,me)=>{const Ae=Y.value,et=mt.value;C.inputValue=A,Ae||(et?Xe(A,me):B.dispatchEvent("input",{value:A},me))},P=A=>{const Ae=A.target.value;ge(Ae,A)},H=A=>{mt.value||yt(A),J.dispatchEvent("lazy-change",{value:C.inputValue},A)},ne=A=>{const{inputValue:me}=C,Ae=mt.value,et=me;Ae||Xe(et,A),qe(),C.visiblePanel||(C.isActivated=!1),B.dispatchEvent("blur",{value:et},A),!s&&!i&&E&&m&&E.triggerItemEvent(A,m.itemConfig.field,et)},Te=A=>{const{inputValue:me}=C,Ae=z.value,et=Y.value;C.isActivated=!0,Ae?C.inputValue=ta(me)?"":`${l.toNumber(me)}`:et&&$n(A),yt(A)},Ce=A=>{if(!ie.value){const{inputValue:Ae}=C;J.dispatchEvent("prefix-click",{value:Ae},A)}},He=()=>new Promise(A=>{C.visiblePanel=!1,M.hpTimeout=setTimeout(()=>{C.isAniVisible=!1,A()},350)}),Ze=(A,me)=>{const{type:Ae,autoFocus:et}=e,Dt=z.value;Y.value&&He(),(et||et===null)&&(Dt||["text","search","password"].indexOf(Ae)>-1)&&focus(),Xe("",A),J.dispatchEvent("clear",{value:me},A),J.dispatchEvent("lazy-change",{value:me},A)},ct=A=>{if(!ie.value){const{inputValue:Ae}=C;J.dispatchEvent("suffix-click",{value:Ae},A)}},st=A=>{const{type:me}=e,Ae=Z.value,et=Oe.value,Dt=Ne.value;let kt=null,St="";if(A&&(kt=I(A,et)),l.isValidDate(kt)){if(St=l.toDateString(kt,Ae,{firstDay:Dt}),Ae&&me==="week"){const At=l.getYearWeek(kt,Dt),Wt=l.getWhatWeek(kt,0,At===1?(6+Dt)%7:Dt,Dt).getFullYear();if(Wt!==kt.getFullYear()){const go=Ae.indexOf("yyyy");if(go>-1){const po=Number(St.substring(go,go+4));po&&!isNaN(po)&&(St=St.replace(`${po}`,`${Wt}`))}}}}else kt=null;C.datePanelValue=kt,C.datePanelLabel=St},ot=()=>{const A=Y.value,{inputValue:me}=C;A&&(st(me),C.inputValue=e.multiple?fe.value:C.datePanelLabel)},Ue=()=>{const{type:A}=e,{inputValue:me}=C,Ae=Y.value,et=ue.value;if(Ae)ot();else if(A==="float"&&me){const Dt=Ki(me,et);me!==Dt&&Xe(Dt,{type:"init"})}},zt=A=>e.max===null||e.max===""||l.toNumber(A)<=l.toNumber(e.max),mo=A=>e.min===null||e.min===""||l.toNumber(A)>=l.toNumber(e.min),Eo=()=>{C.inputValue=e.multiple?fe.value:C.datePanelLabel},_o=A=>{const me=Ne.value,Ae=l.getYearWeek(A,me),et=l.getWhatWeek(A,0,me,me),Dt=l.getWhatMonth(Ae===1?l.getWhatDay(et,6):A,0,"first");l.isEqual(Dt,C.selectMonth)||(C.selectMonth=Dt)},we=A=>{const{modelValue:me,multiple:Ae}=e,{datetimePanelValue:et}=C,Dt=_.value,kt=Oe.value,St=Ne.value;if(e.type==="week"){const Ve=l.toNumber(e.selectDay);A=l.getWhatWeek(A,0,Ve,St)}else Dt&&(A.setHours(et.getHours()),A.setMinutes(et.getMinutes()),A.setSeconds(et.getSeconds()));const At=l.toDateString(A,kt,{firstDay:St});if(_o(A),Ae){const Ve=xe.value;if(Dt){const Wt=[...Se.value],go=[],po=l.findIndexOf(Wt,Go=>l.isDateSame(A,Go,"yyyyMMdd"));po===-1?Wt.push(A):Wt.splice(po,1),Wt.forEach(Go=>{Go&&(Go.setHours(et.getHours()),Go.setMinutes(et.getMinutes()),Go.setSeconds(et.getSeconds()),go.push(Go))}),Xe(go.map(Go=>l.toDateString(Go,kt)).join(","),{type:"update"})}else Ve.some(Wt=>l.isEqual(Wt,At))?Xe(Ve.filter(Wt=>!l.isEqual(Wt,At)).join(","),{type:"update"}):Xe(Ve.concat([At]).join(","),{type:"update"})}else l.isEqual(me,At)||Xe(At,{type:"update"})},qe=()=>{const{type:A,min:me,max:Ae,exponential:et}=e,{inputValue:Dt,datetimePanelValue:kt}=C,St=z.value,At=Y.value,Ve=Z.value;if(!Fe.value){if(St){if(Dt){const go=`${Ur(Dt)}`;if(go){let po=A==="integer"?l.toInteger(go):l.toNumber(go);if(mo(po)?zt(po)||(po=Ae):po=me,et){const Go=l.toValueString(Dt).toLowerCase();Go===l.toNumber(po).toExponential()&&(po=Go)}Xe(Qe(po),{type:"check"})}else{let po="";(me||me===0)&&(po=`${me}`),Xe(po,{type:"check"})}}}else if(At)if(Dt){let go=I(Dt,Ve);if(l.isValidDate(go))if(A==="time")go=l.toDateString(go,Ve),Dt!==go&&Xe(go,{type:"check"}),C.inputValue=go;else{let po=!1;const Go=Ne.value;if(A==="datetime"){const qn=Pe.value;(Dt!==l.toDateString(qn,Ve)||Dt!==l.toDateString(go,Ve))&&(po=!0,kt.setHours(go.getHours()),kt.setMinutes(go.getMinutes()),kt.setSeconds(go.getSeconds()))}else po=!0;C.inputValue=l.toDateString(go,Ve,{firstDay:Go}),po&&we(go)}else Eo()}else Xe("",{type:"check"})}},It=A=>{const{showPwd:me}=C,Ae=ie.value,et=W.value;!Ae&&!et&&(C.showPwd=!me),B.dispatchEvent("toggle-visible",{visible:C.showPwd},A)},$t=A=>{B.dispatchEvent("search-click",{},A)},Ht=(A,me)=>{const{min:Ae,max:et,type:Dt}=e,{inputValue:kt}=C,St=Q.value,At=Dt==="integer"?l.toInteger(Ur(kt)):l.toNumber(Ur(kt)),Ve=A?l.add(At,St):l.subtract(At,St);let Wt;mo(Ve)?zt(Ve)?Wt=Ve:Wt=et:Wt=Ae,ge(Qe(Wt),me)},Rt=A=>{const me=ie.value,Ae=W.value,et=_e.value;qt(),!me&&!Ae&&!et&&Ht(!1,A),B.dispatchEvent("next-number",{value:C.inputValue},A)},ht=A=>{M.dnTimeout=setTimeout(()=>{Rt(A),ht(A)},60)},wt=A=>{const me=ie.value,Ae=W.value,et=Be.value;qt(),!me&&!Ae&&!et&&Ht(!0,A),B.dispatchEvent("prev-number",{value:C.inputValue},A)},Ft=A=>{const me=Qt.hasKey(A,Oo.ARROW_UP),Ae=Qt.hasKey(A,Oo.ARROW_DOWN);(me||Ae)&&(A.preventDefault(),me?wt(A):Rt(A))},Tt=A=>{const{type:me,exponential:Ae,controls:et}=e;if(z.value){const kt=iE(A),St=A.shiftKey,At=A.altKey,Ve=A.keyCode,Wt=Qt.hasKey(A,Oo.ESCAPE),go=Qt.hasKey(A,Oo.ARROW_UP),po=Qt.hasKey(A,Oo.ARROW_DOWN);!kt&&!St&&!At&&(Qt.hasKey(A,Oo.SPACEBAR)||me==="integer"&&Ve===110||(!Ae||Ve!==69)&&Ve>=65&&Ve<=90||Ve>=186&&Ve<=188||Ve>=191)&&A.preventDefault(),Wt?qe():(go||po)&&et&&Ft(A)}yt(A)},to=A=>{yt(A)},qt=()=>{const{dnTimeout:A}=M;A&&(clearTimeout(A),M.dnTimeout=void 0)},ro=A=>{M.dnTimeout=setTimeout(()=>{wt(A),ro(A)},60)},ho=A=>{if(qt(),A.button===0){const me=ec(A.currentTarget,"is--prev");me?wt(A):Rt(A),M.dnTimeout=setTimeout(()=>{me?ro(A):ht(A)},500)}},Ho=A=>{if(z.value&&e.controls&&C.isActivated){const Ae=A.deltaY;Ae>0?Rt(A):Ae<0&&wt(A),A.preventDefault()}yt(A)},an=(A,me)=>{const Ae=Ne.value,et=l.getYearWeek(A,Ae),Dt=l.getWhatWeek(A,0,Ae,Ae),kt=l.getWhatMonth(et===1?l.getWhatDay(Dt,6):A,me,"first");C.selectMonth=kt},yn=()=>{const A=l.getWhatDay(Date.now(),0,"first");C.currentDate=A,an(A,0)},Uo=()=>{C.datePanelType="year"},Yo=()=>{let{datePanelType:A}=C;A==="month"||A==="quarter"?A="year":A="month",C.datePanelType=A},on=A=>{const{type:me}=e,{datePanelType:Ae,selectMonth:et,inputValue:Dt}=C,{yearSize:kt}=M,St=Dt;if(!tt.value){let Ve;me==="year"?Ve=l.getWhatYear(et,-kt,"first"):me==="month"||me==="quarter"?Ae==="year"?Ve=l.getWhatYear(et,-kt,"first"):Ve=l.getWhatYear(et,-1,"first"):Ae==="year"?Ve=l.getWhatYear(et,-kt,"first"):Ae==="month"?Ve=l.getWhatYear(et,-1,"first"):Ve=l.getWhatMonth(et,-1,"first"),C.selectMonth=Ve,B.dispatchEvent("date-prev",{viewType:Ae,viewDate:Ve,value:St,type:me},A)}},bn=A=>{yn(),e.multiple||(we(C.currentDate),He()),B.dispatchEvent("date-today",{type:e.type},A)},qo=A=>{const{type:me}=e,{datePanelType:Ae,selectMonth:et,inputValue:Dt}=C,{yearSize:kt}=M,St=Dt;if(!Je.value){let Ve;me==="year"?Ve=l.getWhatYear(et,kt,"first"):me==="month"||me==="quarter"?Ae==="year"?Ve=l.getWhatYear(et,kt,"first"):Ve=l.getWhatYear(et,1,"first"):Ae==="year"?Ve=l.getWhatYear(et,kt,"first"):Ae==="month"?Ve=l.getWhatYear(et,1,"first"):Ve=l.getWhatMonth(et,1,"first"),C.selectMonth=Ve,B.dispatchEvent("date-next",{viewType:Ae,viewDate:Ve,value:St,type:me},A)}},Fo=A=>{const{disabledMethod:me}=e,{datePanelType:Ae}=C,et=Ie.value,Dt=De.value,{date:kt}=A;return et&&et.getTime()>kt.getTime()||Dt&&Dt.getTime()<kt.getTime()?!0:me?me({type:Ae,viewType:Ae,date:kt,$input:J}):!1},Qo=A=>{const{type:me,multiple:Ae}=e,{datePanelType:et}=C;me==="month"?et==="year"?(C.datePanelType="month",_o(A)):(we(A),Ae||He()):me==="year"?(we(A),Ae||He()):me==="quarter"?et==="year"?(C.datePanelType="quarter",_o(A)):(we(A),Ae||He()):et==="month"?(C.datePanelType=me==="week"?me:"day",_o(A)):et==="year"?(C.datePanelType="month",_o(A)):(we(A),me==="datetime"||Ae||He())},wn=A=>{Fo(A)||Qo(A.date)},Sn=A=>{Fo({date:A})||(Et.value.some(Ae=>l.isDateSame(Ae.date,A,"yyyyMMdd"))||_o(A),st(A))},xn=A=>{Fo({date:A})||($e.value.some(Ae=>l.isDateSame(Ae.date,A,"yyyy"))||_o(A),st(A))},Io=A=>{Fo({date:A})||(bt.value.some(Ae=>l.isDateSame(Ae.date,A,"yyyyq"))||_o(A),st(A))},uo=A=>{Fo({date:A})||(Ot.value.some(Ae=>l.isDateSame(Ae.date,A,"yyyyMM"))||_o(A),st(A))},Vn=A=>{if(!Fo(A)){const{datePanelType:me}=C;me==="month"?uo(A.date):me==="quarter"?Io(A.date):me==="year"?xn(A.date):Sn(A.date)}},Qn=A=>{if(A){const me=A.offsetHeight,Ae=A.parentNode;Ae.scrollTop=A.offsetTop-me*4}},zn=A=>{C.datetimePanelValue=new Date(C.datetimePanelValue.getTime()),Qn(A.currentTarget)},er=(A,me)=>{C.datetimePanelValue.setHours(me.value),zn(A)},yl=()=>{const{multiple:A}=e,{datetimePanelValue:me}=C,Ae=Pe.value,et=_.value;if(et){const Dt=Oe.value;if(A){const kt=xe.value;if(et){const St=[...Se.value],At=[];St.forEach(Ve=>{Ve&&(Ve.setHours(me.getHours()),Ve.setMinutes(me.getMinutes()),Ve.setSeconds(me.getSeconds()),At.push(Ve))}),Xe(At.map(Ve=>l.toDateString(Ve,Dt)).join(","),{type:"update"})}else Xe(kt.join(","),{type:"update"})}else we(Ae||C.currentDate)}He()},fr=(A,me)=>{C.datetimePanelValue.setMinutes(me.value),zn(A)},_l=(A,me)=>{C.datetimePanelValue.setSeconds(me.value),zn(A)},Qr=A=>{const{isActivated:me,datePanelValue:Ae,datePanelType:et}=C;if(me){A.preventDefault();const Dt=Qt.hasKey(A,Oo.ARROW_LEFT),kt=Qt.hasKey(A,Oo.ARROW_UP),St=Qt.hasKey(A,Oo.ARROW_RIGHT),At=Qt.hasKey(A,Oo.ARROW_DOWN);if(et==="year"){let Ve=l.getWhatYear(Ae||Date.now(),0,"first");Dt?Ve=l.getWhatYear(Ve,-1):kt?Ve=l.getWhatYear(Ve,-4):St?Ve=l.getWhatYear(Ve,1):At&&(Ve=l.getWhatYear(Ve,4)),xn(Ve)}else if(et==="quarter"){let Ve=l.getWhatQuarter(Ae||Date.now(),0,"first");Dt?Ve=l.getWhatQuarter(Ve,-1):kt?Ve=l.getWhatQuarter(Ve,-2):St?Ve=l.getWhatQuarter(Ve,1):At&&(Ve=l.getWhatQuarter(Ve,2)),Io(Ve)}else if(et==="month"){let Ve=l.getWhatMonth(Ae||Date.now(),0,"first");Dt?Ve=l.getWhatMonth(Ve,-1):kt?Ve=l.getWhatMonth(Ve,-4):St?Ve=l.getWhatMonth(Ve,1):At&&(Ve=l.getWhatMonth(Ve,4)),uo(Ve)}else{let Ve=Ae||l.getWhatDay(Date.now(),0,"first");const Wt=Ne.value;Dt?Ve=l.getWhatDay(Ve,-1):kt?Ve=l.getWhatWeek(Ve,-1,Wt):St?Ve=l.getWhatDay(Ve,1):At&&(Ve=l.getWhatWeek(Ve,1,Wt)),Sn(Ve)}}},el=A=>{const{isActivated:me}=C;if(me){const Ae=Qt.hasKey(A,Oo.PAGE_UP);A.preventDefault(),Ae?on(A):qo(A)}},Hl=()=>{const{type:A}=e,me=_.value,Ae=Pe.value;["year","quarter","month","week"].indexOf(A)>-1?C.datePanelType=A:C.datePanelType="day",C.currentDate=l.getWhatDay(Date.now(),0,"first"),Ae?(an(Ae,0),st(Ae)):yn(),me&&(C.datetimePanelValue=C.datePanelValue||l.getWhatDay(Date.now(),0,"first"),pe(()=>{const et=k.value;l.arrayEach(et.querySelectorAll("li.is--selected"),Dt=>{Qn(Dt)})}))},Vr=()=>{C.panelIndex<fs()&&(C.panelIndex=hi())},zr=()=>pe().then(()=>{const{placement:A}=e,{panelIndex:me}=C,Ae=p.value,et=T.value,Dt=F.value;if(Ae&&et){const kt=Ae.offsetHeight,St=Ae.offsetWidth,At=et.offsetHeight,Ve=et.offsetWidth,Wt=5,go={zIndex:me},{boundingTop:po,boundingLeft:Go,visibleHeight:qn,visibleWidth:jn}=sE(Ae);let Tn="bottom";if(Dt){let nn=Go,wr=po+kt;A==="top"?(Tn="top",wr=po-At):A||(wr+At+Wt>qn&&(Tn="top",wr=po-At),wr<Wt&&(Tn="bottom",wr=po+kt)),nn+Ve+Wt>jn&&(nn-=nn+Ve+Wt-jn),nn<Wt&&(nn=Wt),Object.assign(go,{left:`${nn}px`,top:`${wr}px`,minWidth:`${St}px`})}else A==="top"?(Tn="top",go.bottom=`${kt}px`):A||(go.top=`${kt}px`,po+kt+At>qn&&po-kt-At>Wt&&(Tn="top",go.top="",go.bottom=`${kt}px`));return C.panelStyle=go,C.panelPlacement=Tn,pe()}}),Bl=()=>{const{visiblePanel:A}=C,{hpTimeout:me}=M,Ae=ie.value,et=Y.value;return!Ae&&!A?(C.initialized||(C.initialized=!0),me&&(clearTimeout(me),M.hpTimeout=void 0),C.isActivated=!0,C.isAniVisible=!0,et&&Hl(),setTimeout(()=>{C.visiblePanel=!0},10),Vr(),zr()):pe()},$n=A=>{W.value||(A.preventDefault(),Bl())},fa=A=>{yt(A)},h=A=>{const{visiblePanel:me,isActivated:Ae}=C,et=Y.value,Dt=v.value,kt=N.value;!ie.value&&Ae&&(C.isActivated=ar(A,Dt).flag||ar(A,kt).flag,C.isActivated||(et?me&&(He(),qe()):qe()))},tl=A=>{const{clearable:me}=e,{visiblePanel:Ae}=C,et=ie.value,Dt=Y.value;if(!et){const kt=Qt.hasKey(A,Oo.TAB),St=Qt.hasKey(A,Oo.DELETE),At=Qt.hasKey(A,Oo.ESCAPE),Ve=Qt.hasKey(A,Oo.ENTER),Wt=Qt.hasKey(A,Oo.ARROW_LEFT),go=Qt.hasKey(A,Oo.ARROW_UP),po=Qt.hasKey(A,Oo.ARROW_RIGHT),Go=Qt.hasKey(A,Oo.ARROW_DOWN),qn=Qt.hasKey(A,Oo.PAGE_UP),jn=Qt.hasKey(A,Oo.PAGE_DOWN),Tn=Wt||go||po||Go;let nn=C.isActivated;kt?(nn&&qe(),nn=!1,C.isActivated=nn):Tn?Dt&&nn&&(Ae?Qr(A):(go||Go)&&$n(A)):Ve?Dt&&(Ae?C.datePanelValue?Qo(C.datePanelValue):He():nn&&$n(A)):(qn||jn)&&Dt&&nn&&el(A),kt||At?Ae&&He():St&&me&&nn&&Ze(A,null)}},yr=A=>{const{visiblePanel:me}=C;if(!ie.value&&me){const et=N.value;ar(A,et).flag?zr():(He(),qe())}},Bo=()=>{const{isActivated:A,visiblePanel:me}=C;if(me&&He(),A&&(C.isActivated=!1),me||A){const Ae=p.value;qe(),Ae&&Ae.blur()}},Wn=(A,me)=>{const{festivalMethod:Ae}=e;if(Ae){const{datePanelType:et}=C,Dt=Ae({type:et,viewType:et,date:A.date,$input:J}),kt=Dt?l.isString(Dt)?{label:Dt}:Dt:{},St=kt.extra?l.isString(kt.extra)?{label:kt.extra}:kt.extra:null,At=[u("span",{class:["vxe-input--date-label",{"is-notice":kt.notice}]},St&&St.label?[u("span",`${me||""}`),u("span",{class:["vxe-input--date-label--extra",St.important?"is-important":"",St.className],style:St.style},l.toValueString(St.label))]:[`${me||""}`])],Ve=kt.label;if(Ve){const Wt=l.toValueString(Ve).split(",");At.push(u("span",{class:["vxe-input--date-festival",kt.important?"is-important":"",kt.className],style:kt.style},[Wt.length>1?u("span",{class:["vxe-input--date-festival--overlap",`overlap--${Wt.length}`]},Wt.map(go=>u("span",go.substring(0,3)))):u("span",{class:"vxe-input--date-festival--label"},Wt[0].substring(0,3))]))}return At}return[`${me||""}`]},Vl=()=>{const{multiple:A}=e,{datePanelType:me,datePanelValue:Ae}=C,et=Pe.value,Dt=dt.value,kt=Xt.value,St=Se.value,At="yyyyMMdd";return[u("table",{class:`vxe-input--date-${me}-view`,cellspacing:0,cellpadding:0,border:0},[u("thead",[u("tr",Dt.map(Ve=>u("th",Ve.label)))]),u("tbody",kt.map(Ve=>u("tr",Ve.map(Wt=>u("td",{class:{"is--prev":Wt.isPrev,"is--current":Wt.isCurrent,"is--now":Wt.isNow,"is--next":Wt.isNext,"is--disabled":Fo(Wt),"is--selected":A?St.some(go=>l.isDateSame(go,Wt.date,At)):l.isDateSame(et,Wt.date,At),"is--hover":l.isDateSame(Ae,Wt.date,At)},onClick:()=>wn(Wt),onMouseenter:()=>Vn(Wt)},Wn(Wt,Wt.label))))))])]},zl=()=>{const{multiple:A}=e,{datePanelType:me,datePanelValue:Ae}=C,et=Pe.value,Dt=ft.value,kt=jt.value,St=Se.value,At="yyyyMMdd";return[u("table",{class:`vxe-input--date-${me}-view`,cellspacing:0,cellpadding:0,border:0},[u("thead",[u("tr",Dt.map(Ve=>u("th",Ve.label)))]),u("tbody",kt.map(Ve=>{const Wt=A?Ve.some(po=>St.some(Go=>l.isDateSame(Go,po.date,At))):Ve.some(po=>l.isDateSame(et,po.date,At)),go=Ve.some(po=>l.isDateSame(Ae,po.date,At));return u("tr",Ve.map(po=>u("td",{class:{"is--prev":po.isPrev,"is--current":po.isCurrent,"is--now":po.isNow,"is--next":po.isNext,"is--disabled":Fo(po),"is--selected":Wt,"is--hover":go},onClick:()=>wn(po),onMouseenter:()=>Vn(po)},Wn(po,po.label))))}))])]},ol=()=>{const{multiple:A}=e,{datePanelType:me,datePanelValue:Ae}=C,et=Pe.value,Dt=lt.value,kt=Se.value,St="yyyyMM";return[u("table",{class:`vxe-input--date-${me}-view`,cellspacing:0,cellpadding:0,border:0},[u("tbody",Dt.map(At=>u("tr",At.map(Ve=>u("td",{class:{"is--prev":Ve.isPrev,"is--current":Ve.isCurrent,"is--now":Ve.isNow,"is--next":Ve.isNext,"is--disabled":Fo(Ve),"is--selected":A?kt.some(Wt=>l.isDateSame(Wt,Ve.date,St)):l.isDateSame(et,Ve.date,St),"is--hover":l.isDateSame(Ae,Ve.date,St)},onClick:()=>wn(Ve),onMouseenter:()=>Vn(Ve)},Wn(Ve,oo(`vxe.input.date.months.m${Ve.month}`)))))))])]},nl=()=>{const{multiple:A}=e,{datePanelType:me,datePanelValue:Ae}=C,et=Pe.value,Dt=vt.value,kt=Se.value,St="yyyyq";return[u("table",{class:`vxe-input--date-${me}-view`,cellspacing:0,cellpadding:0,border:0},[u("tbody",Dt.map(At=>u("tr",At.map(Ve=>u("td",{class:{"is--prev":Ve.isPrev,"is--current":Ve.isCurrent,"is--now":Ve.isNow,"is--next":Ve.isNext,"is--disabled":Fo(Ve),"is--selected":A?kt.some(Wt=>l.isDateSame(Wt,Ve.date,St)):l.isDateSame(et,Ve.date,St),"is--hover":l.isDateSame(Ae,Ve.date,St)},onClick:()=>wn(Ve),onMouseenter:()=>Vn(Ve)},Wn(Ve,oo(`vxe.input.date.quarters.q${Ve.quarter}`)))))))])]},tr=()=>{const{multiple:A}=e,{datePanelType:me,datePanelValue:Ae}=C,et=Pe.value,Dt=Vt.value,kt=Se.value,St="yyyy";return[u("table",{class:`vxe-input--date-${me}-view`,cellspacing:0,cellpadding:0,border:0},[u("tbody",Dt.map(At=>u("tr",At.map(Ve=>u("td",{class:{"is--prev":Ve.isPrev,"is--current":Ve.isCurrent,"is--now":Ve.isNow,"is--next":Ve.isNext,"is--disabled":Fo(Ve),"is--selected":A?kt.some(Wt=>l.isDateSame(Wt,Ve.date,St)):l.isDateSame(et,Ve.date,St),"is--hover":l.isDateSame(Ae,Ve.date,St)},onClick:()=>wn(Ve),onMouseenter:()=>Vn(Ve)},Wn(Ve,Ve.year))))))])]},qr=()=>{const{datePanelType:A}=C;switch(A){case"week":return zl();case"month":return ol();case"quarter":return nl();case"year":return tr()}return Vl()},wl=()=>{const{multiple:A}=e,{datePanelType:me}=C,Ae=tt.value,et=Je.value,Dt=ce.value;return[u("div",{class:"vxe-input--date-picker-header"},[u("div",{class:"vxe-input--date-picker-type-wrapper"},[me==="year"?u("span",{class:"vxe-input--date-picker-label"},Dt.y):u("span",{class:"vxe-input--date-picker-btns"},[u("span",{class:"vxe-input--date-picker-btn",onClick:Uo},Dt.y),Dt.m?u("span",{class:"vxe-input--date-picker-btn",onClick:Yo},Dt.m):yo()])]),u("div",{class:"vxe-input--date-picker-btn-wrapper"},[u("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":Ae}],onClick:on},[u("i",{class:"vxe-icon-caret-left"})]),u("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:bn},[u("i",{class:"vxe-icon-dot"})]),u("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":et}],onClick:qo},[u("i",{class:"vxe-icon-caret-right"})]),A&&Me.value?u("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[u("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:yl},oo("vxe.button.confirm"))]):null])]),u("div",{class:"vxe-input--date-picker-body"},qr())]},pr=()=>{const{datetimePanelValue:A}=C,me=rt.value,Ae=Gt.value,et=Nt.value,Dt=Ct.value,kt=_t.value,St=ke.value;return[u("div",{class:"vxe-input--time-picker-header"},[et?u("span",{class:"vxe-input--time-picker-title"},me):$o(),u("div",{class:"vxe-input--time-picker-btn"},[u("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:yl},oo("vxe.button.confirm"))])]),u("div",{ref:k,class:"vxe-input--time-picker-body"},[u("ul",{class:"vxe-input--time-picker-hour-list"},Ae.map((At,Ve)=>u("li",{key:Ve,class:{"is--selected":A&&A.getHours()===At.value},onClick:Wt=>er(Wt,At)},At.label))),et?u("ul",{class:"vxe-input--time-picker-minute-list"},Dt.map((At,Ve)=>u("li",{key:Ve,class:{"is--selected":A&&A.getMinutes()===At.value},onClick:Wt=>fr(Wt,At)},At.label))):$o(),et&&kt?u("ul",{class:"vxe-input--time-picker-second-list"},St.map((At,Ve)=>u("li",{key:Ve,class:{"is--selected":A&&A.getSeconds()===At.value},onClick:Wt=>_l(Wt,At)},At.label))):$o()])]},El=()=>{const{type:A}=e,{initialized:me,isAniVisible:Ae,visiblePanel:et,panelPlacement:Dt,panelStyle:kt}=C,St=D.value,At=F.value,Ve=Y.value,Wt=[];return Ve?(A==="datetime"?Wt.push(u("div",{key:A,ref:N,class:"vxe-input--panel-layout-wrapper"},[u("div",{class:"vxe-input--panel-left-wrapper"},wl()),u("div",{class:"vxe-input--panel-right-wrapper"},pr())])):A==="time"?Wt.push(u("div",{key:A,ref:N,class:"vxe-input--panel-wrapper"},pr())):Wt.push(u("div",{key:A||"default",ref:N,class:"vxe-input--panel-wrapper"},wl())),u(ca,{to:"body",disabled:At?!me:!0},[u("div",{ref:T,class:["vxe-table--ignore-clear vxe-input--panel",`type--${A}`,{[`size--${St}`]:St,"is--transfer":At,"ani--leave":Ae,"ani--enter":et}],placement:Dt,style:kt},et||Ae?Wt:[])])):$o()},or=()=>{const A=Be.value,me=_e.value;return u("div",{class:"vxe-input--control-icon"},[u("div",{class:"vxe-input--number-icon"},[u("div",{class:["vxe-input--number-btn is--prev",{"is--disabled":A}],onMousedown:ho,onMouseup:qt,onMouseleave:qt},[u("i",{class:vo().INPUT_PLUS_NUM})]),u("div",{class:["vxe-input--number-btn is--next",{"is--disabled":me}],onMousedown:ho,onMouseup:qt,onMouseleave:qt},[u("i",{class:vo().INPUT_MINUS_NUM})])])])},fn=()=>u("div",{class:"vxe-input--control-icon",onClick:$n},[u("i",{class:["vxe-input--date-picker-icon",vo().DATE_PICKER_DATE]})]),Gr=()=>u("div",{class:"vxe-input--control-icon",onClick:$t},[u("i",{class:["vxe-input--search-icon",vo().INPUT_SEARCH]})]),ql=()=>{const{showPwd:A}=C;return u("div",{class:"vxe-input--control-icon",onClick:It},[u("i",{class:["vxe-input--password-icon",A?vo().PASSWORD_INPUT_SHOW_PWD:vo().PASSWORD_INPUT_HIDE_PWD]})])},Ar=()=>{const{prefixIcon:A}=e,me=o.prefix;return me||A?u("div",{class:"vxe-input--prefix",onClick:Ce},[u("div",{class:"vxe-input--prefix-icon"},me?Vo(me({})):[u("i",{class:A})])]):null},rl=()=>{const{suffixIcon:A}=e,{inputValue:me}=C,Ae=o.suffix,et=ie.value,Dt=z.value,kt=Y.value,St=X.value,At=Re.value,Ve=be.value,Wt=St||Dt||kt||At;return Ve||Ae||A||Wt?u("div",{class:["vxe-input--suffix",{"is--clear":Ve&&!et&&!(me===""||l.eqNull(me))}]},[Ve?u("div",{class:"vxe-input--clear-icon",onClick:Ze},[u("i",{class:vo().INPUT_CLEAR})]):$o(),Wt?ll():$o(),Ae||A?u("div",{class:"vxe-input--suffix-icon",onClick:ct},Ae?Vo(Ae({})):[u("i",{class:A})]):$o()]):null},ll=()=>{const{controls:A}=e,me=z.value,Ae=Y.value,et=X.value,Dt=Re.value;return et?ql():me&&A?or():Ae?fn():Dt?Gr():$o()};B={dispatchEvent:(A,me,Ae)=>{r(A,Jn(Ae,{$input:J},me))},focus(){const A=p.value;return C.isActivated=!0,A.focus(),pe()},blur(){return p.value.blur(),C.isActivated=!1,pe()},select(){return p.value.select(),C.isActivated=!1,pe()},showPanel:Bl,hidePanel:He,updatePlacement:zr},Object.assign(J,B);const al=()=>{const{className:A,controls:me,type:Ae,title:et,align:Dt,showWordCount:kt,countMethod:St,name:At,autoComplete:Ve,autocomplete:Wt}=e,{inputValue:go,visiblePanel:po,isActivated:Go}=C,qn=D.value,jn=ie.value;if(V.value)return u("div",{ref:v,class:["vxe-input--readonly",`type--${Ae}`,A]},go);const nn=ye.value,wr=se.value,hn=Fe.value,Sl=U.value,wi=je.value,wc=nt.value,Ec=be.value,gs=kt&&["text","search"].includes(Ae),hs=Ar(),ms=rl();return u("div",{ref:v,class:["vxe-input",`type--${Ae}`,A,{[`size--${qn}`]:qn,[`is--${Dt}`]:Dt,"is--controls":me,"is--prefix":!!hs,"is--suffix":!!ms,"is--visible":po,"is--count":gs,"is--disabled":jn,"is--active":Go,"show--clear":Ec&&!jn&&!(go===""||l.eqNull(go))}],spellcheck:!1},[hs||$o(),u("div",{class:"vxe-input--wrapper",title:et||null},[u("input",{ref:p,class:"vxe-input--inner",value:go,name:At,type:wi,placeholder:wc,maxlength:Sl,readonly:hn,disabled:jn,autocomplete:Ve||Wt,onKeydown:Tt,onKeyup:to,onClick:fa,onInput:P,onChange:H,onFocus:Te,onBlur:ne})]),ms||$o(),El(),gs?u("span",{class:["vxe-input--count",{"is--error":nn}]},St?`${St({value:go})}`:`${wr}${Sl?`/${Sl}`:""}`):$o()])};return no(()=>e.modelValue,A=>{C.inputValue=A,ot()}),no(()=>e.type,()=>{Object.assign(C,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),Ue()}),no(Z,()=>{Y.value&&(st(C.datePanelValue),C.inputValue=e.multiple?fe.value:C.datePanelLabel)}),sr(()=>{const{type:A}=e;["date","time","datetime","week","month","quarter","year"].includes(A)?Pl("vxe.error.useNew",[`<vxe-input type="${A}" ... />`,`<vxe-date-picker type="${A}" ... />`]):["number","integer","float"].includes(A)?Pl("vxe.error.useNew",[`<vxe-input type="${A}" ... />`,`<vxe-number-input type="${A}" ... />`]):["password"].includes(A)&&Pl("vxe.error.useNew",[`<vxe-input type="${A}" ... />`,"<vxe-password-input ... />"]);const me=p.value;me&&me.addEventListener("wheel",Ho,{passive:!1}),Qt.on(J,"mousewheel",yr),Qt.on(J,"mousedown",h),Qt.on(J,"keydown",tl),Qt.on(J,"blur",Bo)}),ns(()=>{qt(),qe();const A=p.value;A&&A.removeEventListener("wheel",Ho),Qt.off(J,"mousewheel"),Qt.off(J,"mousedown"),Qt.off(J,"keydown"),Qt.off(J,"blur")}),Ue(),J.renderVN=al,J},render(){return this.renderVN()}}),fE=Object.assign(ci,{install(e){e.component(ci.name,ci)}});Cr.use(fE);Ee.component(ci);const Ws=dr({name:"VxeLoading",props:{modelValue:Boolean,icon:{type:String,default:()=>Ge().loading.icon},showIcon:{type:Boolean,default:()=>Ge().loading.showIcon},text:{type:String,default:()=>Ge().loading.text},showText:{type:Boolean,default:()=>Ge().loading.showText},status:String,size:{type:String,default:()=>Ge().loading.size||Ge().size}},setup(e,t){const{slots:o,emit:r}=t,s=l.uniqueId(),{computeSize:i}=ur(e),d=un({initialized:!1}),b={computeSize:i},f={xID:s,props:e,context:t,reactData:d,getComputeMaps:()=>b},E=ae(()=>e.icon||vo().LOADING),m=ae(()=>{const{text:p}=e;return l.isString(p)?p:oo("vxe.loading.text")}),w=()=>{d.initialized||(d.initialized=!!d.initialized)};Object.assign(f,{dispatchEvent:(p,T,N)=>{r(p,Jn(N,{$loading:f},T))}},{});const v=()=>{const{modelValue:p,showIcon:T,status:N}=e,{initialized:k}=d,j=i.value,J=o.default,B=o.text,I=o.icon,F=E.value,V=m.value;return!k&&!p?yo():u("div",{class:["vxe-loading",{[`size--${j}`]:j,[`theme--${N}`]:N,"is--visible":p}]},J?[u("div",{class:"vxe-loading--wrapper"},Vo(J({})))]:[u("div",{class:"vxe-loading--chunk"},[T&&(I||F)?u("div",{class:"vxe-loading--icon"},I?Vo(I({})):[u("i",{class:F})]):u("div",{class:"vxe-loading--spinner"}),B||V?u("div",{class:"vxe-loading--text"},B?Vo(B({})):`${V}`):null])])};return no(()=>e.modelValue,()=>{w()}),w(),f.renderVN=v,f},render(){return this.renderVN()}}),eh=Object.assign({},Ws,{install(e){e.component(Ws.name,Ws)}}),yT={open(e){const t=Object.assign({},e);si.globalLoading={modelValue:!0,text:t.text,icon:t.icon},rE()},close(){si.globalLoading=null}};Cr.use(eh);Ee.component(Ws);Ee.loading=yT;const na=[],ng=[],rg=[],ki="data-vxe-lock-scroll",rC="--vxe-ui-modal-lock-scroll-view-width",js=dr({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>Ge().modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>Ge().modal.duration},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>Ge().modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>Ge().modal.showConfirmButton},confirmButtonText:{type:String,default:()=>Ge().modal.confirmButtonText},lockView:{type:Boolean,default:()=>Ge().modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>Ge().modal.mask},maskClosable:{type:Boolean,default:()=>Ge().modal.maskClosable},escClosable:{type:Boolean,default:()=>Ge().modal.escClosable},cancelClosable:{type:Boolean,default:()=>Ge().modal.cancelClosable},confirmClosable:{type:Boolean,default:()=>Ge().modal.confirmClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>Ge().modal.showHeader},showFooter:{type:Boolean,default:()=>Ge().modal.showFooter},showZoom:Boolean,zoomConfig:Object,showMaximize:{type:Boolean,default:()=>oC(Ge().modal.showMaximize)},showMinimize:{type:Boolean,default:()=>oC(Ge().modal.showMinimize)},showClose:{type:Boolean,default:()=>Ge().modal.showClose},dblclickZoom:{type:Boolean,default:()=>Ge().modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>Ge().modal.minWidth},minHeight:{type:[Number,String],default:()=>Ge().modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>Ge().modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>Ge().modal.draggable},remember:{type:Boolean,default:()=>Ge().modal.remember},destroyOnClose:{type:Boolean,default:()=>Ge().modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>Ge().modal.showTitleOverflow},transfer:{type:Boolean,default:()=>Ge().modal.transfer},storage:{type:Boolean,default:()=>Ge().modal.storage},storageKey:{type:String,default:()=>Ge().modal.storageKey},padding:{type:Boolean,default:()=>Ge().modal.padding},size:{type:String,default:()=>Ge().modal.size||Ge().size},beforeHideMethod:Function,slots:Object,message:[Number,String],animat:{type:Boolean,default:()=>Ge().modal.animat}},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,t){const{slots:o,emit:r}=t,s=l.uniqueId(),i=Co("$xeModal",null),d=Co("$xeDrawer",null),b=Co("$xeTable",null),f=Co("$xeForm",null),{computeSize:E}=ur(e),m=un({initialized:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,prevZoomStatus:"",zoomStatus:"",revertLocat:null,prevLocat:null,firstOpen:!0,resizeFlag:1}),w={msgTimeout:void 0},D=xt(),C=xt(),M=xt(),v=xt(),p=xt(),T={refElem:D},N=ae(()=>{const{transfer:ke}=e;if(ke===null){const Fe=Ge().modal.transfer;if(l.isBoolean(Fe))return Fe;if(b||i||d||f)return!0}return ke}),k=ae(()=>e.type==="message"||e.type==="notification"),j=ae(()=>m.zoomStatus==="minimize"),J=ae(()=>m.zoomStatus==="maximize"),B=ae(()=>Object.assign({},Ge().modal.zoomConfig,e.zoomConfig)),I={computeSize:E,computeZoomOpts:B},F={xID:s,props:e,context:t,reactData:m,internalData:w,getRefMaps:()=>T,getComputeMaps:()=>I};let V={};const W=()=>C.value,ie=()=>{const{width:ke,height:Fe}=e,je=W();return je&&(je.style.width=ke?Zn(ke):"",je.style.height=Fe?Zn(Fe):""),pe()},U=()=>{const{zIndex:ke}=e,{modalZindex:Fe}=m;ke?m.modalZindex=ke:k.value?Fe<xT()&&(m.modalZindex=bT()):Fe<fs()&&(m.modalZindex=hi())},_=()=>pe().then(()=>{const{position:ke}=e,Fe=l.toNumber(e.marginSize),je=W();if(!je)return;const nt=document.documentElement.clientWidth||document.body.clientWidth,mt=document.documentElement.clientHeight||document.body.clientHeight,te=ke==="center",{top:_e,left:Be}=l.isString(ke)?{top:ke,left:ke}:Object.assign({},ke),Qe=te||_e==="center",at=te||Be==="center";let yt="",Xe="";Be&&!at?Xe=isNaN(Be)?Be:`${Be}px`:Xe=`${Math.max(Fe,nt/2-je.offsetWidth/2)}px`,_e&&!Qe?yt=isNaN(_e)?_e:`${_e}px`:yt=`${Math.max(Fe,mt/2-je.offsetHeight/2)}px`,je.style.top=yt,je.style.left=Xe}),z=()=>{pe(()=>{const{type:ke}=e,Fe=ke==="notification"?rg:ng;let je=0;Fe.forEach(nt=>{const mt=nt.getBox();mt&&(je+=l.toNumber(nt.props.top),nt.reactData.modalTop=je,je+=mt.clientHeight)})})},se=()=>{const{type:ke}=e,Fe=ke==="notification"?rg:ng;Fe.indexOf(F)>-1&&l.remove(Fe,je=>je===F),z()},ye=ke=>{const{remember:Fe}=e,{visible:je}=m,nt=k.value,mt=e.beforeHideMethod||Ge().modal.beforeHideMethod,te={type:ke};return je&&Promise.resolve(mt?mt(te):null).then(_e=>{l.isError(_e)||(nt&&se(),m.contentVisible=!1,Fe||ce(),l.remove(na,Be=>Be===F),lt("before-hide",te,null),setTimeout(()=>{m.visible=!1,Et(!1),lt("hide",te,null)},200),fe())}).catch(_e=>_e),pe()},Y=ke=>{const Fe="close";lt(Fe,{type:Fe},ke),ye(Fe)},X=ke=>{const{confirmClosable:Fe}=e,je="confirm";lt(je,{type:je},ke),Fe&&ye(je)},Re=ke=>{const{cancelClosable:Fe}=e,je="cancel";lt(je,{type:je},ke),Fe&&ye(je)},ue=ke=>{const Fe=Ge().version,je=l.toStringJSON(localStorage.getItem(ke)||"");return je&&je._v===Fe?je:{_v:Fe}},Q=()=>{const{id:ke,storage:Fe,storageKey:je}=e;return!!(ke&&Fe&&ue(je)[ke])},be=()=>{const{id:ke,storage:Fe,storageKey:je}=e;if(ke&&Fe){const nt=ue(je)[ke];if(nt){const mt=W(),[te,_e,Be,Qe,at,yt,Xe,ge]=nt.split(",");mt&&(te&&(mt.style.left=`${te}px`),_e&&(mt.style.top=`${_e}px`),Be&&(mt.style.width=`${Be}px`),Qe&&(mt.style.height=`${Qe}px`)),at&&yt&&(m.revertLocat={left:at,top:yt,width:Xe,height:ge})}}},Ie=()=>{const{type:ke}=e,Fe=ke==="notification"?rg:ng;Fe.indexOf(F)===-1&&Fe.push(F),z()},De=()=>{const{id:ke,storage:Fe,storageKey:je}=e,{zoomStatus:nt,revertLocat:mt}=m;if(!nt&&ke&&Fe){const te=W();if(!te)return;const _e=ue(je);_e[ke]=[te.style.left,te.style.top,te.clientWidth,te.clientHeight].concat(mt?[mt.left,mt.top,mt.width,mt.height]:[]).map(Be=>Be?l.toNumber(Be):"").join(","),localStorage.setItem(je,l.toJSONString(_e))}},Me=()=>{const ke=B.value,{minimizeLayout:Fe,minimizeMaxSize:je,minimizeHorizontalOffset:nt,minimizeVerticalOffset:mt,minimizeOffsetMethod:te}=ke,_e=Fe==="horizontal",Be=m.zoomStatus,Qe=[],at=[];na.forEach(Xe=>{Xe.xID!==F.xID&&Xe.props.type==="modal"&&Xe.reactData.zoomStatus==="minimize"&&(Xe.getComputeMaps().computeZoomOpts.value.minimizeLayout==="horizontal"?Qe.push(Xe):at.push(Xe))});const yt=_e?Qe:at;return je&&yt.length>=je?(Ee.modal&&Ee.modal.message({status:"error",content:oo("vxe.modal.miniMaxSize",[je])}),Promise.resolve({status:!1})):(m.prevZoomStatus=Be,m.zoomStatus="minimize",pe().then(()=>{const Xe=W();if(!Xe)return{status:!1};const ge=M.value;if(!ge)return{status:!1};const{visibleHeight:P}=Ui();Be||(m.revertLocat={top:Xe.offsetTop,left:Xe.offsetLeft,width:Xe.offsetWidth+(Xe.style.width?0:1),height:Xe.offsetHeight+(Xe.style.height?0:1)});const H=l[_e?"max":"min"](yt,Ce=>{const He=Ce.getBox();return He?l.toNumber(He.style[_e?"left":"top"]):0});let ne=P-ge.offsetHeight-16,Te=16;if(H){const Ce=H.getBox();if(Ce){const He=l.toNumber(Ce.style.left),Ze=l.toNumber(Ce.style.top);let ct={};_e?ct=Object.assign({},nt):ct=Object.assign({},mt),Te=He+l.toNumber(ct.left),ne=Ze+l.toNumber(ct.top),te&&(ct=te({$modal:F,left:Te,top:ne}),Te=l.toNumber(ct.left),ne=l.toNumber(ct.top))}}return Object.assign(Xe.style,{top:`${ne}px`,left:`${Te}px`,width:"200px",height:`${ge.offsetHeight}px`}),De(),{status:!0}}))},Se=()=>{const ke=m.zoomStatus;return m.prevZoomStatus=ke,m.zoomStatus="maximize",pe().then(()=>{const Fe=W();if(Fe){if(!ke){const je=l.toNumber(e.marginSize),nt=document.documentElement.clientWidth||document.body.clientWidth,mt=document.documentElement.clientHeight||document.body.clientHeight;m.revertLocat={top:Math.max(je,mt/2-Fe.offsetHeight/2),left:Math.max(je,nt/2-Fe.offsetWidth/2),width:Fe.offsetWidth+(Fe.style.width?0:1),height:Fe.offsetHeight+(Fe.style.height?0:1)}}Object.assign(Fe.style,{top:"0",left:"0",width:"100%",height:"100%"})}return De(),{status:!0}})},xe=()=>{const{duration:ke}=e;ke!==-1&&(w.msgTimeout=setTimeout(()=>ye("close"),l.toNumber(ke)))},fe=()=>{const ke=document.documentElement,Fe=ke.getAttribute(ki);if(Fe){const je=Fe.split(",").filter(nt=>nt!==s);je.length?ke.setAttribute(ki,je.join(",")):(ke.removeAttribute(ki),ke.style.removeProperty(rC))}},Oe=()=>{const{lockScroll:ke}=e,Fe=k.value;if(ke&&!Fe){const je=document.documentElement,nt=document.body.clientWidth,mt=je.getAttribute(ki),te=mt?mt.split(","):[];te.includes(s)||(te.push(s),je.setAttribute(ki,te.join(","))),je.style.setProperty(rC,`${nt}px`)}},Pe=()=>{const{remember:ke,showFooter:Fe}=e,{initialized:je,visible:nt}=m,mt=k.value;return je||(m.initialized=!0),nt||(Oe(),m.visible=!0,m.contentVisible=!1,U(),na.push(F),setTimeout(()=>{m.contentVisible=!0,pe(()=>{if(Fe){const Be=v.value,Qe=p.value,at=Be||Qe;at&&at.focus()}const _e={type:""};Et(!0),lt("show",_e,null)})},10),mt?(Ie(),xe()):pe(()=>{const{fullscreen:te}=e,{firstOpen:_e}=m;_e?(m.firstOpen=!1,Q()?be():te?pe(()=>Se()):(ie(),_().then(()=>{setTimeout(()=>_(),20)}))):ke||(ie(),_().then(()=>{setTimeout(()=>_(),20)}))})),pe()},tt=ke=>{const Fe=D.value;e.maskClosable&&ke.target===Fe&&ye("mask")},Je=()=>{const{msgTimeout:ke}=w;if(!ke)return;k.value&&(clearTimeout(ke),w.msgTimeout=void 0)},rt=()=>{const{msgTimeout:ke}=w;ke||k.value&&xe()},ze=ke=>{if(Qt.hasKey(ke,Oo.ESCAPE)){const je=l.max(na,nt=>nt.reactData.modalZindex);je&&setTimeout(()=>{if(je===F&&je.props.escClosable){const nt="exit";lt("close",{type:nt},ke),ye(nt)}},10)}},Z=()=>m.zoomStatus==="minimize",$e=()=>m.zoomStatus==="maximize",ce=()=>(m.prevZoomStatus=m.zoomStatus,m.zoomStatus="",pe().then(()=>{const{revertLocat:ke}=m;if(ke){const Fe=W();return m.revertLocat=null,Fe&&Object.assign(Fe.style,{top:`${ke.top}px`,left:`${ke.left}px`,width:`${ke.width}px`,height:`${ke.height}px`}),De(),pe().then(()=>({status:!0}))}return{status:!1}})),Ne=ke=>{const{zoomStatus:Fe}=m;return new Promise(je=>{if(ke){if(ke==="maximize"){je(Se());return}if(ke==="minimize"){je(Me());return}je(ce());return}je(Fe?ce():Se())}).then(()=>m.zoomStatus||"revert")},Ke=ke=>{const{zoomStatus:Fe,prevZoomStatus:je}=m;return Ne(Fe==="minimize"?je||"revert":"minimize").then(nt=>{lt("zoom",{type:nt},ke)})},dt=ke=>Ne().then(Fe=>{lt("zoom",{type:Fe},ke)}),ft=()=>{if(!k.value){const Fe=W();if(Fe)return{top:Fe.offsetTop,left:Fe.offsetLeft}}return null},Vt=(ke,Fe)=>{if(!k.value){const nt=W();nt&&(l.isNumber(ke)&&(nt.style.top=`${ke}px`),l.isNumber(Fe)&&(nt.style.left=`${Fe}px`))}return pe()},bt=()=>{const{modalZindex:ke}=m;na.some(Fe=>Fe.reactData.visible&&Fe.reactData.modalZindex>ke)&&U()},vt=ke=>{const{storage:Fe}=e,{zoomStatus:je}=m,nt=l.toNumber(e.marginSize),mt=W();if(mt&&je!=="maximize"&&ke.button===0&&!ar(ke,mt,"trigger--btn").flag){ke.preventDefault();const te=ke.clientX-mt.offsetLeft,_e=ke.clientY-mt.offsetTop,{visibleHeight:Be,visibleWidth:Qe}=Ui();document.onmousemove=at=>{at.preventDefault();const yt=mt.offsetWidth,Xe=mt.offsetHeight,ge=nt,P=Qe-yt-nt-1,H=nt,ne=Be-Xe-nt-1;let Te=at.clientX-te,Ce=at.clientY-_e;Te>P&&(Te=P),Te<ge&&(Te=ge),Ce>ne&&(Ce=ne),Ce<H&&(Ce=H),mt.style.left=`${Te}px`,mt.style.top=`${Ce}px`,mt.className=mt.className.replace(/\s?is--drag/,"")+" is--drag",lt("move",{type:"move"},at),m.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,Fe&&pe(()=>{De()}),m.resizeFlag++,setTimeout(()=>{mt.className=mt.className.replace(/\s?is--drag/,"")},50)}}},Ot=ke=>{ke.preventDefault();const{storage:Fe}=e,{visibleHeight:je,visibleWidth:nt}=Ui(),mt=l.toNumber(e.marginSize),_e=ke.target.getAttribute("type"),Be=l.toNumber(e.minWidth),Qe=l.toNumber(e.minHeight),at=nt,yt=je,Xe=W(),ge=Xe.clientWidth,P=Xe.clientHeight,H=ke.clientX,ne=ke.clientY,Te=Xe.offsetTop,Ce=Xe.offsetLeft,He={type:"resize"};document.onmousemove=Ze=>{Ze.preventDefault();let ct,st,ot,Ue;switch(_e){case"wl":ct=H-Ze.clientX,ot=ct+ge,Ce-ct>mt&&ot>Be&&(Xe.style.width=`${ot<at?ot:at}px`,Xe.style.left=`${Ce-ct}px`);break;case"swst":ct=H-Ze.clientX,st=ne-Ze.clientY,ot=ct+ge,Ue=st+P,Ce-ct>mt&&ot>Be&&(Xe.style.width=`${ot<at?ot:at}px`,Xe.style.left=`${Ce-ct}px`),Te-st>mt&&Ue>Qe&&(Xe.style.height=`${Ue<yt?Ue:yt}px`,Xe.style.top=`${Te-st}px`);break;case"swlb":ct=H-Ze.clientX,st=Ze.clientY-ne,ot=ct+ge,Ue=st+P,Ce-ct>mt&&ot>Be&&(Xe.style.width=`${ot<at?ot:at}px`,Xe.style.left=`${Ce-ct}px`),Te+Ue+mt<je&&Ue>Qe&&(Xe.style.height=`${Ue<yt?Ue:yt}px`);break;case"st":st=ne-Ze.clientY,Ue=P+st,Te-st>mt&&Ue>Qe&&(Xe.style.height=`${Ue<yt?Ue:yt}px`,Xe.style.top=`${Te-st}px`);break;case"wr":ct=Ze.clientX-H,ot=ct+ge,Ce+ot+mt<nt&&ot>Be&&(Xe.style.width=`${ot<at?ot:at}px`);break;case"sest":ct=Ze.clientX-H,st=ne-Ze.clientY,ot=ct+ge,Ue=st+P,Ce+ot+mt<nt&&ot>Be&&(Xe.style.width=`${ot<at?ot:at}px`),Te-st>mt&&Ue>Qe&&(Xe.style.height=`${Ue<yt?Ue:yt}px`,Xe.style.top=`${Te-st}px`);break;case"selb":ct=Ze.clientX-H,st=Ze.clientY-ne,ot=ct+ge,Ue=st+P,Ce+ot+mt<nt&&ot>Be&&(Xe.style.width=`${ot<at?ot:at}px`),Te+Ue+mt<je&&Ue>Qe&&(Xe.style.height=`${Ue<yt?Ue:yt}px`);break;case"sb":st=Ze.clientY-ne,Ue=st+P,Te+Ue+mt<je&&Ue>Qe&&(Xe.style.height=`${Ue<yt?Ue:yt}px`);break}Xe.className=Xe.className.replace(/\s?is--drag/,"")+" is--drag",Fe&&De(),lt("resize",He,Ze)},document.onmouseup=()=>{m.revertLocat=null,document.onmousemove=null,document.onmouseup=null,setTimeout(()=>{Xe.className=Xe.className.replace(/\s?is--drag/,"")},50)}},lt=(ke,Fe,je)=>{r(ke,Jn(je,{$modal:F},Fe))},Et=ke=>{r("update:modelValue",ke)};V={dispatchEvent:lt,open:Pe,close(){return ye("close")},getBox:W,getPosition:ft,setPosition:Vt,isMinimized:Z,isMaximized:$e,zoom(){return Ne()},minimize(){return m.visible?Me():Promise.resolve({status:!1})},maximize(){return m.visible?Se():Promise.resolve({status:!1})},revert(){return m.visible?ce():Promise.resolve({status:!1})}},Object.assign(F,V);const Xt=()=>{const{slots:ke={},showClose:Fe,showZoom:je,showMaximize:nt,showMinimize:mt,title:te}=e,{zoomStatus:_e}=m,Be=o.title||ke.title,Qe=o.corner||ke.corner,at=j.value,yt=J.value;return[u("div",{class:"vxe-modal--header-title"},Be?Vo(Be({$modal:F,minimized:at,maximized:yt})):te?Mr(te):oo("vxe.alert.title")),u("div",{class:"vxe-modal--header-right"},[Qe&&!at?u("div",{class:"vxe-modal--corner-wrapper"},Vo(Qe({$modal:F}))):yo(),(l.isBoolean(mt)?mt:je)?u("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:oo(`vxe.modal.zoom${_e==="minimize"?"Out":"Min"}`),onClick:Ke},[u("i",{class:_e==="minimize"?vo().MODAL_ZOOM_REVERT:vo().MODAL_ZOOM_MIN})]):yo(),(l.isBoolean(nt)?nt:je)&&_e!=="minimize"?u("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:oo(`vxe.modal.zoom${_e==="maximize"?"Out":"In"}`),onClick:dt},[u("i",{class:_e==="maximize"?vo().MODAL_ZOOM_OUT:vo().MODAL_ZOOM_IN})]):yo(),Fe?u("div",{class:["vxe-modal--close-btn","trigger--btn"],title:oo("vxe.modal.close"),onClick:Y},[u("i",{class:vo().MODAL_CLOSE})]):yo()])]},jt=()=>{const{slots:ke={},showZoom:Fe,showMaximize:je,draggable:nt}=e,mt=o.header||ke.header;if(e.showHeader){const te={};return nt&&(te.onMousedown=vt),(l.isBoolean(je)?je:Fe)&&e.dblclickZoom&&e.type==="modal"&&(te.onDblclick=dt),u("div",Object.assign({ref:M,class:["vxe-modal--header",{"is--ellipsis":e.showTitleOverflow}]},te),mt?Vo(mt({$modal:F})):Xt())}return yo()},Gt=()=>{const{slots:ke={},status:Fe,message:je,iconStatus:nt}=e,mt=e.content||je,te=k.value,_e=o.default||ke.default,Be=o.left||ke.left,Qe=o.right||ke.right,at=[];return!te&&(Fe||nt)&&at.push(u("div",{class:"vxe-modal--status-wrapper"},[u("i",{class:["vxe-modal--status-icon",nt||vo()[`MODAL_${Fe}`.toLocaleUpperCase()]]})])),at.push(u("div",{class:"vxe-modal--content"},_e?Vo(_e({$modal:F})):Mr(mt))),u("div",{class:"vxe-modal--body"},[Be?u("div",{class:"vxe-modal--body-left"},Vo(Be({$modal:F}))):yo(),u("div",{class:"vxe-modal--body-default"},at),Qe?u("div",{class:"vxe-modal--body-right"},Vo(Qe({$modal:F}))):yo(),te?yo():u(eh,{class:"vxe-modal--loading",modelValue:e.loading})])},Ct=()=>{const{slots:ke={},showCancelButton:Fe,showConfirmButton:je,type:nt,loading:mt}=e,te=o.leftfoot||ke.leftfoot,_e=o.rightfoot||ke.rightfoot,Be=[];return(l.isBoolean(Fe)?Fe:nt==="confirm")&&Be.push(u(lr,{key:1,ref:p,content:e.cancelButtonText||oo("vxe.button.cancel"),onClick:Re})),(l.isBoolean(je)?je:nt==="confirm"||nt==="alert")&&Be.push(u(lr,{key:2,ref:v,loading:mt,status:"primary",content:e.confirmButtonText||oo("vxe.button.confirm"),onClick:X})),u("div",{class:"vxe-modal--footer-wrapper"},[u("div",{class:"vxe-modal--footer-left"},te?Vo(te({$modal:F})):[]),u("div",{class:"vxe-modal--footer-right"},_e?Vo(_e({$modal:F})):Be)])},Nt=()=>{const{slots:ke={}}=e,Fe=o.footer||ke.footer;return e.showFooter?u("div",{class:"vxe-modal--footer"},Fe?Vo(Fe({$modal:F})):[Ct()]):yo()},_t=()=>{const{slots:ke={},className:Fe,type:je,animat:nt,draggable:mt,iconStatus:te,position:_e,loading:Be,destroyOnClose:Qe,status:at,lockScroll:yt,padding:Xe,lockView:ge,mask:P,resize:H}=e,{initialized:ne,modalTop:Te,contentVisible:Ce,visible:He,zoomStatus:Ze}=m,ct=o.aside||ke.aside,st=E.value,ot=k.value,Ue=j.value,zt=N.value,mo={};return ot&&(mo.onMouseover=Je,mo.onMouseout=rt),u(ca,{to:"body",disabled:zt?!ne:!0},[u("div",Object.assign({ref:D,class:["vxe-modal--wrapper",`type--${je}`,`zoom--${Ze||"revert"}`,Fe||"",_e?`pos--${_e}`:"",{[`size--${st}`]:st,[`status--${at}`]:at,"is--padding":Xe,"is--animat":nt,"lock--scroll":yt,"lock--view":ge,"is--draggable":mt,"is--resize":H,"is--mask":P,"is--visible":Ce,"is--active":He,"is--loading":Be}],style:{zIndex:m.modalZindex,top:Te?`${Te}px`:null},onClick:tt},mo),[u("div",{ref:C,class:"vxe-modal--box",onMousedown:bt},[(ot||ct)&&!Ue?u("div",{class:"vxe-modal--aside"},ct?Vo(ct({$modal:F})):[at||te?u("div",{class:"vxe-modal--status-wrapper"},[u("i",{class:["vxe-modal--status-icon",te||vo()[`MODAL_${at}`.toLocaleUpperCase()]]})]):yo()]):yo(),u("div",{class:"vxe-modal--container"},!m.initialized||Qe&&!m.visible?[]:[jt(),Gt(),Nt(),!ot&&H?u("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(Eo=>u("span",{class:`${Eo}-resize`,type:Eo,onMousedown:Ot}))):yo()])])])])};return F.renderVN=_t,no(()=>e.width,ie),no(()=>e.height,ie),no(()=>e.modelValue,ke=>{ke?Pe():ye("model")}),sr(()=>{e.type==="modal"&&e.showFooter&&!(e.showConfirmButton||e.showCancelButton||o.footer)&&Pl("vxe.modal.footPropErr"),pe(()=>{e.storage&&!e.id&&Jg("vxe.error.reqProp",["[modal] id"]),e.modelValue&&Pe(),ie()}),e.escClosable&&Qt.on(F,"keydown",ze)}),mr(()=>{Qt.off(F,"keydown"),se(),fe()}),ir("$xeModal",F),F},render(){return this.renderVN()}});function wT(e){return rE(),new Promise(t=>{const o=Object.assign({},e);if(o.id&&na.some(r=>r.props.id===o.id))t("exist");else{const r=o.onHide,s=Object.assign(o,{key:l.uniqueId(),modelValue:!0,onHide(i){const d=si.modals;r&&r(i),si.modals=d.filter(b=>b.key!==s.key),t(i.type)}});si.modals.push(s)}})}function pE(e){return l.find(na,t=>t.props.id===e)}function ET(e){const t=e?[pE(e)]:na,o=[];return t.forEach(r=>{r&&o.push(r.close())}),Promise.all(o)}function ps(e,t,o,r){let s;return l.isObject(t)?s=t:s={content:l.toValueString(t),title:o},wT(Object.assign(Object.assign(Object.assign({},e),r),s))}function ST(e){return ps({type:"modal"},e)}function RT(e,t,o){return ps({type:"alert",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,o)}function DT(e,t,o){return ps({type:"confirm",status:"question",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,o)}function OT(e,t){return ps({type:"message",mask:!1,lockView:!1,lockScroll:!1,showHeader:!1},e,"",t)}function TT(e,t,o){return ps({type:"notification",mask:!1,lockView:!1,lockScroll:!1,showHeader:!0,draggable:!1,position:"top-right",width:320},e,t,o)}const MT={get:pE,close:ET,open:ST,alert:RT,confirm:DT,message:OT,notification:TT},gE=Object.assign(js,{install:function(e){e.component(js.name,js)}});Ee.modal=MT;Cr.use(gE);Ee.component(js);const Xi=dr({name:"VxeNumberInput",props:{modelValue:[String,Number],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"number"},clearable:{type:Boolean,default:()=>Ge().numberInput.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,maxLength:{type:[String,Number],default:()=>Ge().numberInput.maxLength},autoComplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>Ge().numberInput.size||Ge().size},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>Ge().numberInput.exponential},showCurrency:{type:Boolean,default:()=>Ge().numberInput.showCurrency},currencySymbol:{type:String,default:()=>Ge().numberInput.currencySymbol},controlConfig:Object,digits:{type:[String,Number],default:null},autoFill:{type:Boolean,default:()=>Ge().numberInput.autoFill},editable:{type:Boolean,default:!0},plusIcon:String,minusIcon:String,prefixIcon:String,suffixIcon:String,controls:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","lazy-change","plus-number","minus-number","prefix-click","suffix-click","prev-number","next-number"],setup(e,t){const{slots:o,emit:r}=t,s=Co("$xeForm",null),i=Co("xeFormItemInfo",null),d=l.uniqueId(),{computeSize:b}=ur(e),f=un({isFocus:!1,isActivated:!1,inputValue:e.modelValue}),E={},m=xt(),w=xt(),D=xt(),C=ae(()=>{const{readonly:te}=e;return te===null?s?s.props.readonly:!1:te}),M=ae(()=>{const{disabled:te}=e;return te===null?s?s.props.disabled:!1:te}),v=ae(()=>{const{type:te,digits:_e}=e;let Be=_e;return Be===null&&(Be=Ge().numberInput.digits,Be===null&&te==="amount"&&(Be=2)),l.toInteger(Be)||1}),p=ae(()=>Object.assign({},Ge().numberInput.controlConfig,e.controlConfig)),T=ae(()=>{const{type:te}=e;return te==="float"||te==="amount"}),N=ae(()=>{const{type:te}=e,_e=v.value,Be=T.value,Qe=e.step;return te==="integer"?l.toInteger(Qe)||1:Be?l.toNumber(Qe)||1/Math.pow(10,_e):l.toNumber(Qe)||1}),k=ae(()=>e.clearable),j=ae(()=>{const{editable:te}=e;return C.value||!te}),J=ae(()=>{const{placeholder:te}=e;if(te)return Mr(te);const _e=Ge().numberInput.placeholder;return _e?Mr(_e):oo("vxe.base.pleaseInput")}),B=ae(()=>{const{maxLength:te,maxlength:_e}=e;return l.toNumber(te||_e)||16}),I=ae(()=>{const{immediate:te}=e;return te}),F=ae(()=>{const{type:te}=e,{inputValue:_e}=f;return te==="integer"?l.toInteger(Ur(_e)):l.toNumber(Ur(_e))}),V=ae(()=>{const{type:te,showCurrency:_e,currencySymbol:Be,autoFill:Qe}=e,{inputValue:at}=f,yt=v.value;if(te==="amount"){const Xe=l.toNumber(at);let ge=l.commafy(Xe,{digits:yt});if(!Qe){const[P,H]=ge.split(".");if(H){const ne=H.replace(/0+$/,"");ge=ne?[P,".",ne].join(""):P}}return _e?`${Be||oo("vxe.numberInput.currencySymbol")||""}${ge}`:ge}return l.toString(at)}),W=ae(()=>{const{min:te}=e,{inputValue:_e}=f,Be=F.value;return(_e||_e===0)&&te!==null?Be<=l.toNumber(te):!1}),ie=ae(()=>{const{max:te}=e,{inputValue:_e}=f,Be=F.value;return(_e||_e===0)&&te!==null?Be>=l.toNumber(te):!1}),U={refElem:m,refInput:w},_={computeControlOpts:p},z={xID:d,props:e,context:t,reactData:f,internalData:E,getRefMaps:()=>U,getComputeMaps:()=>_};let se={};const ye=te=>l.eqNull(te)?"":`${te}`,Y=te=>{const{exponential:_e,autoFill:Be}=e,Qe=B.value,at=v.value,yt=T.value;let Xe="";return yt?(Xe=Ki(te,at),Be||(Xe=ye(l.toNumber(Xe)))):Xe=ye(te),_e&&(te===Xe||ye(te).toLowerCase()===l.toNumber(Xe).toExponential())?te:Xe.slice(0,Qe)},X=te=>{const{inputValue:_e}=f;se.dispatchEvent(te.type,{value:_e},te)},Re=(te,_e,Be)=>{const Qe=ta(te)?null:Number(te),at=Qe!==e.modelValue;at&&(E.isUM=!0,r("update:modelValue",Qe)),f.inputValue!==_e&&pe(()=>{f.inputValue=_e||""}),se.dispatchEvent("input",{value:Qe},Be),at&&(se.dispatchEvent("change",{value:Qe},Be),s&&i&&s.triggerItemEvent(Be,i.itemConfig.field,Qe))},ue=(te,_e)=>{const Be=I.value,Qe=ta(te)?null:l.toNumber(te);f.inputValue=te,Be?Re(Qe,te,_e):se.dispatchEvent("input",{value:Qe},_e)},Q=te=>{const Be=te.target.value;ue(Be,te)},be=te=>{I.value||X(te),z.dispatchEvent("lazy-change",{value:f.inputValue},te)},Ie=te=>{if(!j.value){const{inputValue:Be}=f;f.inputValue=ta(Be)?"":`${l.toNumber(Be)}`,f.isFocus=!0,f.isActivated=!0,X(te)}},De=te=>{if(!M.value){const{inputValue:Be}=f;se.dispatchEvent("prefix-click",{value:Be},te)}},Me=(te,_e)=>{focus(),Re(null,"",te),se.dispatchEvent("clear",{value:_e},te),z.dispatchEvent("lazy-change",{value:_e},te)},Se=te=>{if(!M.value){const{inputValue:Be}=f;se.dispatchEvent("suffix-click",{value:Be},te)}},xe=te=>{const{autoFill:_e}=e,{inputValue:Be}=f,Qe=v.value,at=T.value;if(ta(te))f.inputValue="";else{let yt=`${te}`;at&&(yt=Ki(te,Qe),_e||(yt=`${l.toNumber(yt)}`)),yt!==Be&&(f.inputValue=yt)}},fe=()=>{const{autoFill:te}=e,{inputValue:_e}=f,Be=v.value;if(T.value&&_e){let at="",yt=null;_e&&(at=Ki(_e,Be),yt=l.toNumber(at),te||(at=`${yt}`)),_e!==yt?Re(yt,at,{type:"init"}):f.inputValue=at}},Oe=te=>e.max===null||e.max===""||l.toNumber(te)<=l.toNumber(e.max),Pe=te=>e.min===null||e.min===""||l.toNumber(te)>=l.toNumber(e.min),tt=()=>{const{type:te,min:_e,max:Be,exponential:Qe}=e,{inputValue:at}=f;if(!j.value){if(ta(at)){let Xe=null,ge=at;(_e||_e===0)&&(Xe=l.toNumber(_e),ge=`${Xe}`),Re(Xe,`${ge||""}`,{type:"check"});return}if(at||_e||Be){let Xe=te==="integer"?l.toInteger(Ur(at)):l.toNumber(Ur(at));if(Pe(Xe)?Oe(Xe)||(Xe=Be):Xe=_e,Qe){const P=ye(at).toLowerCase();P===l.toNumber(Xe).toExponential()&&(Xe=P)}const ge=Y(Xe);Re(ta(ge)?null:Number(ge),ge,{type:"check"})}}},Je=te=>{const{inputValue:_e}=f,Be=I.value,Qe=_e?Number(_e):null;Be||Re(Qe,ye(_e),te),tt(),f.isFocus=!1,f.isActivated=!1,se.dispatchEvent("blur",{value:Qe},te),s&&i&&s.triggerItemEvent(te,i.itemConfig.field,Qe)},rt=(te,_e)=>{const{min:Be,max:Qe,type:at}=e,{inputValue:yt}=f,Xe=N.value,ge=at==="integer"?l.toInteger(Ur(yt)):l.toNumber(Ur(yt)),P=te?l.add(ge,Xe):l.subtract(ge,Xe);let H;Pe(P)?Oe(P)?H=P:H=Qe:H=Be,ue(Y(H),_e)},ze=te=>{const _e=M.value,Be=C.value,Qe=ie.value;!_e&&!Be&&!Qe&&rt(!0,te),f.isActivated=!0,se.dispatchEvent("plus-number",{value:f.inputValue},te),z.dispatchEvent("lazy-change",{value:f.inputValue},te),se.dispatchEvent("next-number",{value:f.inputValue},te)},Z=te=>{const _e=M.value,Be=C.value,Qe=W.value;!_e&&!Be&&!Qe&&rt(!1,te),f.isActivated=!0,se.dispatchEvent("minus-number",{value:f.inputValue},te),z.dispatchEvent("lazy-change",{value:f.inputValue},te),se.dispatchEvent("prev-number",{value:f.inputValue},te)},$e=te=>{const _e=Qt.hasKey(te,Oo.ARROW_UP),Be=Qt.hasKey(te,Oo.ARROW_DOWN);(_e||Be)&&(te.preventDefault(),_e?ze(te):Z(te))},ce=te=>{const{type:_e,exponential:Be,controls:Qe}=e,at=p.value,{isArrow:yt}=at,Xe=j.value,ge=iE(te),P=te.shiftKey,H=te.altKey,ne=te.keyCode,Te=Qt.hasKey(te,Oo.ESCAPE),Ce=Qt.hasKey(te,Oo.ARROW_UP),He=Qt.hasKey(te,Oo.ARROW_DOWN);!ge&&!P&&!H&&(Qt.hasKey(te,Oo.SPACEBAR)||_e==="integer"&&ne===110||(!Be||ne!==69)&&ne>=65&&ne<=90||ne>=186&&ne<=188||ne>=191)&&te.preventDefault(),Te?tt():(Ce||He)&&og(at)&&(Qe===!1?Qe:yt)&&!Xe&&$e(te),X(te)},Ne=te=>{X(te)},Ke=()=>{const{dnTimeout:te}=E;te&&(clearTimeout(te),E.dnTimeout=void 0)},dt=()=>{const{ainTimeout:te}=E;te&&(clearTimeout(te),E.ainTimeout=void 0)},ft=te=>{bt(),E.ainTimeout=setTimeout(()=>{Z(te),ft(te)},60)},Vt=te=>{bt(),E.ainTimeout=setTimeout(()=>{ze(te),Vt(te)},60)},bt=()=>{Ke(),dt()},vt=te=>{E.isMouseDown?E.isMouseDown=!1:(bt(),ec(te.currentTarget,"is--plus")?ze(te):Z(te))},Ot=te=>{if(bt(),E.isMouseDown=!0,te.button===0){const _e=ec(te.currentTarget,"is--plus");_e?ze(te):Z(te),E.dnTimeout=setTimeout(()=>{_e?Vt(te):ft(te)},500)}},lt=te=>{const{controls:_e}=e,Be=p.value,{isWheel:Qe}=Be,at=j.value;if(og(Be)&&(_e===!1?_e:Qe)&&!at&&f.isActivated){te.stopPropagation(),te.preventDefault();const yt=te.deltaY;yt>0?Z(te):yt<0&&ze(te)}X(te)},Et=te=>{X(te)},Xt=te=>{const{isActivated:_e}=f,Be=m.value,Qe=D.value,at=M.value,yt=j.value,Xe=I.value;if(!at&&!yt&&_e&&(f.isActivated=ar(te,Be).flag||ar(te,Qe).flag,!f.isActivated)){if(!Xe){const{inputValue:ge}=f,P=ge?Number(ge):null;Re(P,ye(ge),te)}tt()}},jt=te=>{const{clearable:_e}=e,Be=M.value,Qe=j.value;if(!Be&&!Qe){const at=Qt.hasKey(te,Oo.TAB),yt=Qt.hasKey(te,Oo.DELETE);let Xe=f.isActivated;at&&(Xe&&tt(),Xe=!1,f.isActivated=Xe),yt&&_e&&Xe&&Me(te,null)}},Gt=()=>{const{isActivated:te}=f;te&&tt()};se={dispatchEvent:(te,_e,Be)=>{r(te,Jn(Be,{$numberInput:z},_e))},focus(){if(!j.value){const _e=w.value;f.isActivated=!0,_e.focus()}return pe()},blur(){return w.value.blur(),f.isActivated=!1,pe()},select(){return w.value.select(),f.isActivated=!1,pe()}},Object.assign(z,se);const Nt=()=>{const{prefixIcon:te}=e,_e=o.prefix;return _e||te?u("div",{class:"vxe-number-input--prefix",onClick:De},[u("div",{class:"vxe-number-input--prefix-icon"},_e?Vo(_e({})):[u("i",{class:te})])]):yo()},_t=()=>{const{suffixIcon:te}=e,{inputValue:_e}=f,Be=o.suffix,Qe=M.value,at=k.value;return u("div",{class:["vxe-number-input--suffix",{"is--clear":at&&!Qe&&!(_e===""||l.eqNull(_e))}]},[at?u("div",{class:"vxe-number-input--clear-icon",onClick:Me},[u("i",{class:vo().INPUT_CLEAR})]):yo(),Be||te?u("div",{class:"vxe-number-input--suffix-icon",onClick:Se},Be?Vo(Be({})):[u("i",{class:te})]):yo()])},ke=()=>{const{type:te,name:_e,autocomplete:Be,autoComplete:Qe}=e,{inputValue:at,isFocus:yt}=f,Xe=M.value,ge=V.value,P=j.value,H=B.value,ne=J.value;return u("div",{key:"ni",class:"vxe-number-input--input-wrapper"},[Nt(),u("div",{class:"vxe-number-input--input-inner"},[u("input",{ref:w,class:"vxe-number-input--input",value:!yt&&te==="amount"?ge:at,name:_e,type:"text",placeholder:ne,maxlength:H,readonly:P,disabled:Xe,autocomplete:Qe||Be,onKeydown:ce,onKeyup:Ne,onClick:Et,onInput:Q,onChange:be,onFocus:Ie,onBlur:Je})]),_t()])},Fe=()=>{const{minusIcon:te}=e,_e=W.value;return u("button",{key:"prev",class:["vxe-number-input--minus-btn is--minus",{"is--disabled":_e}],type:"button",onClick:vt,onMousedown:Ot,onMouseup:bt,onMouseleave:bt},[u("i",{class:te||vo().NUMBER_INPUT_MINUS_NUM})])},je=()=>{const{plusIcon:te}=e,_e=ie.value;return u("button",{key:"next",class:["vxe-number-input--plus-btn is--plus",{"is--disabled":_e}],type:"button",onClick:vt,onMousedown:Ot,onMouseup:bt,onMouseleave:bt},[u("i",{class:te||vo().NUMBER_INPUT_PLUS_NUM})])},nt=()=>u("div",{key:"cplr",class:"vxe-number-input--side-control"},[je(),Fe()]),mt=()=>{const{className:te,controls:_e,type:Be,align:Qe,prefixIcon:at,suffixIcon:yt}=e,{inputValue:Xe,isActivated:ge}=f,P=b.value,H=p.value,{layout:ne,showButton:Te}=H,Ce=M.value,He=C.value,Ze=V.value,ct=o.prefix,st=o.suffix;if(He)return u("div",{ref:m,class:["vxe-number-input--readonly",`type--${Be}`,te]},Ze);const ot=j.value,Ue=k.value,zt=og(H)&&(_e===!1?_e:Te);return u("div",{ref:m,class:["vxe-number-input",`type--${Be}`,`ctl--${ne==="right"||ne==="left"?ne:"default"}`,te,{[`size--${P}`]:P,[`is--${Qe}`]:Qe,"is--controls":zt&&!ot,"is--prefix":!!ct||at,"is--suffix":!!st||yt,"is--disabled":Ce,"is--active":ge,"show--clear":Ue&&!Ce&&!(Xe===""||l.eqNull(Xe))}],spellcheck:!1},zt?ne==="right"?[ke(),nt()]:ne==="left"?[nt(),ke()]:[Fe(),ke(),je()]:[ke()])};return z.renderVN=mt,no(()=>e.modelValue,te=>{E.isUM||xe(te),E.isUM=!1}),no(()=>e.type,()=>{Object.assign(f,{inputValue:e.modelValue}),fe()}),sr(()=>{const te=w.value;te&&te.addEventListener("wheel",lt,{passive:!1}),Qt.on(z,"mousedown",Xt),Qt.on(z,"keydown",jt),Qt.on(z,"blur",Gt)}),ns(()=>{f.isFocus=!1,bt(),tt();const te=w.value;te&&te.removeEventListener("wheel",lt),Qt.off(z,"mousedown"),Qt.off(z,"keydown"),Qt.off(z,"blur")}),fe(),z},render(){return this.renderVN()}}),hE=Object.assign({},Xi,{install(e){e.component(Xi.name,Xi)}});Cr.use(hE);Ee.component(Xi);function Rs(e){return e.visible!==!1}function IT(){return l.uniqueId("opt_")}function lC(){return{synchData:[],fullData:[],afterVisibleList:[],optAddMaps:{},optGroupKeyMaps:{},optFullValMaps:{},remoteValMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0,hpTimeout:void 0}}const Zi=dr({name:"VxeSelect",props:{modelValue:[String,Number,Boolean,Array],defaultConfig:Object,clearable:Boolean,placeholder:String,readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>Ge().select.multiCharOverflow},prefixIcon:String,allowCreate:{type:Boolean,default:()=>Ge().select.allowCreate},placement:String,lazyOptions:Array,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},zIndex:Number,size:{type:String,default:()=>Ge().select.size||Ge().size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteConfig:Object,emptyText:String,showTotalButoon:{type:Boolean,default:()=>Ge().select.showTotalButoon},showCheckedButoon:{type:Boolean,default:()=>Ge().select.showCheckedButoon},showClearButton:{type:Boolean,default:()=>Ge().select.showClearButton},transfer:{type:Boolean,default:null},virtualYConfig:Object,scrollY:Object,remoteMethod:Function,optionId:{type:String,default:()=>Ge().select.optionId},optionKey:Boolean},emits:["update:modelValue","change","all-change","clear","blur","focus","click","scroll","visible-change"],setup(e,t){const{slots:o,emit:r}=t,s=Co("$xeModal",null),i=Co("$xeDrawer",null),d=Co("$xeTable",null),b=Co("$xeForm",null),f=Co("xeFormItemInfo",null),E=l.uniqueId(),m=xt(),w=xt(),D=xt(),C=xt(),M=xt(),v=xt(),{computeSize:p}=ur(e),T=un({initialized:!1,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,optList:[],staticOptions:[],reactFlag:0,currentOption:null,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),N=lC(),k={refElem:m},j={xID:E,props:e,context:t,reactData:T,internalData:N,getRefMaps:()=>k},J=ae(()=>{const{readonly:we}=e;return we===null?b?b.props.readonly:!1:we}),B=ae(()=>{const{disabled:we}=e;return we===null?b?b.props.disabled:!1:we}),I=ae(()=>{const{transfer:we}=e;if(we===null){const qe=Ge().select.transfer;if(l.isBoolean(qe))return qe;if(d||s||i||b)return!0}return we}),F=ae(()=>{const{placeholder:we}=e;if(we)return Mr(we);const qe=Ge().select.placeholder;return qe?Mr(qe):oo("vxe.base.pleaseSelect")}),V=ae(()=>Object.assign({},e.defaultConfig)),W=ae(()=>Object.assign({},e.optionProps)),ie=ae(()=>Object.assign({},e.optionGroupProps)),U=ae(()=>W.value.label||"label"),_=ae(()=>W.value.value||"value"),z=ae(()=>ie.value.label||"label"),se=ae(()=>ie.value.options||"options"),ye=ae(()=>{const we=Q.value;return Oe(we)}),Y=ae(()=>Object.assign({},Ge().select.virtualYConfig||Ge().select.scrollY,e.virtualYConfig||e.scrollY)),X=ae(()=>Object.assign({},Ge().select.remoteConfig,e.remoteConfig)),Re=ae(()=>Object.assign({},Ge().select.optionConfig,e.optionConfig)),ue=ae(()=>l.toNumber(e.multiCharOverflow)),Q=ae(()=>{const{modelValue:we,multiple:qe}=e;let It=[];return l.isArray(we)?It=we:qe?ta(we)||(It=`${we}`.indexOf(",")>-1?`${we}`.split(","):[we]):It=we==null?[]:[we],It}),be=ae(()=>{const{remote:we}=e,{reactFlag:qe}=T,It=Q.value;return we&&qe?It.map($t=>Pe($t)).join(", "):It.map($t=>tt($t)).join(", ")}),Ie=ae(()=>{const{remote:we,multiple:qe}=e,{reactFlag:It}=T,$t=ue.value,Ht=Q.value;if(we&&It)return Ht.map(ht=>Pe(ht)).join(", ");const Rt=Ht.map(ht=>tt(ht));return qe&&$t>0&&Rt.length>$t?`${Rt.slice(0,$t)}...`:Rt.join(", ")}),De=(we,qe)=>we&&(l.isString(we)&&(we=o[we]||null),l.isFunction(we))?Vo(we(qe)):[],Me=(we,qe,It)=>{r(we,Jn(It,{$select:j},qe))},Se=we=>{r("update:modelValue",we)},xe=()=>Re.value.keyField||e.optionId||"_X_OPTION_KEY",fe=we=>{const qe=we[xe()];return qe?encodeURIComponent(qe):""},Oe=we=>{const{multiple:qe,max:It}=e;return qe&&It?we.length>=l.toNumber(It):!1},Pe=we=>{const{lazyOptions:qe}=e,{remoteValMaps:It,optFullValMaps:$t}=N,Ht=_.value,Rt=U.value,ht=It[we]||$t[we],wt=ht?ht.item:null;if(wt)return l.toValueString(wt[Rt]);if(qe){const Ft=qe.find(Tt=>Tt[Ht]===we);if(Ft)return Ft[Rt]}return we},tt=we=>{const{lazyOptions:qe}=e,{optFullValMaps:It}=N,$t=_.value,Ht=U.value,Rt=T.reactFlag?It[we]:null;if(Rt)return Rt.item[Ht];if(qe){const ht=qe.find(wt=>wt[$t]===we);if(ht)return ht[Ht]}return we},Je=we=>{const qe=se.value,It=_.value,$t=xe(),Ht={},Rt={},ht=[],wt=Ft=>{ht.push(Ft);let Tt=fe(Ft);Tt||(Tt=IT(),Ft[$t]=Tt),Rt[Ft[It]]={key:Tt,item:Ft,_index:-1}};we.forEach(Ft=>{wt(Ft),Ft[qe]&&(Ht[Ft[$t]]=Ft,Ft[qe].forEach(wt))}),N.fullData=ht,N.optGroupKeyMaps=Ht,N.optFullValMaps=Rt,T.reactFlag++,rt()},rt=()=>{const{modelValue:we,filterable:qe,filterMethod:It}=e,{searchValue:$t}=T,{fullData:Ht,optFullValMaps:Rt}=N,ht=U.value,wt=_.value,Ft=`${$t||""}`.toLowerCase();let Tt=[];return qe&&It?Tt=Ht.filter(to=>Rs(to)&&It({$select:j,group:null,option:to,searchValue:$t,value:we})):qe?Tt=Ht.filter(to=>Rs(to)&&(!Ft||`${to[ht]||to[wt]}`.toLowerCase().indexOf(Ft)>-1)):Tt=Ht.filter(Rs),Tt.forEach((to,qt)=>{const ro=Rt[to[wt]];ro&&(ro._index=qt)}),N.afterVisibleList=Tt,pe()},ze=we=>{we&&(T.currentOption=we)},Z=()=>{const{zIndex:we}=e;we?T.panelIndex=we:T.panelIndex<fs()&&(T.panelIndex=hi())},$e=()=>{const{placement:we}=e,{panelIndex:qe}=T,It=m.value,$t=M.value,Ht=I.value,Rt=()=>{const ht=cE(It,$t,{placement:we,teleportTo:Ht}),wt=Object.assign(ht.style,{zIndex:qe});T.panelStyle=wt,T.panelPlacement=ht.placement};return Rt(),pe().then(Rt)},ce=()=>{pe(()=>{const{isAniVisible:we,visiblePanel:qe}=T,{optFullValMaps:It}=N,$t=Q.value;if($t.length&&we&&qe){const Ht=T.reactFlag?It[`${$t[0]}`]:null;Ht&&H(Ht.item)}})},Ne=()=>{const{loading:we,filterable:qe,remote:It}=e,{fullData:$t,hpTimeout:Ht}=N,Rt=B.value,ht=X.value;!we&&!Rt&&(Ht&&(clearTimeout(Ht),N.hpTimeout=void 0),T.initialized||(T.initialized=!0),T.isActivated=!0,T.isAniVisible=!0,qe&&(It&&ht.enabled&&ht.autoLoad&&!$t.length?_e():(rt(),ge())),setTimeout(()=>{T.visiblePanel=!0,_t(),Ce().then(()=>{ce(),Te()})},10),setTimeout(()=>{Ce().then(()=>Te())},100),Z(),$e(),Me("visible-change",{visible:!0},null))},Ke=()=>{T.searchValue="",T.searchLoading=!1,T.visiblePanel=!1,N.hpTimeout=setTimeout(()=>{T.isAniVisible=!1},350),Me("visible-change",{visible:!1},null)},dt=(we,qe,It)=>{Se(qe),qe!==e.modelValue&&(Me("change",{value:qe,option:It},we),b&&f&&b.triggerItemEvent(we,f.itemConfig.field,qe))},ft=(we,qe)=>{N.remoteValMaps={},dt(we,qe,null),Me("clear",{value:qe},we)},Vt=we=>{const{$event:qe}=we;ft(qe,null),Ke()},bt=we=>{const{$event:qe}=we,{multiple:It,max:$t}=e,{optList:Ht}=T,Rt=_.value;if(It){const wt=Q.value.slice(0);for(let Ft=0;Ft<Ht.length;Ft++){const to=Ht[Ft][Rt];if(Oe(wt)){Ee&&Ee.modal.message({content:oo("vxe.select.overSizeErr",[$t]),status:"warning"});break}wt.some(qt=>qt===to)||wt.push(to)}dt(qe,wt,Ht[0]),Me("all-change",{value:wt},qe)}},vt=we=>{const{$event:qe}=we;ft(qe,null),Ke()},Ot=(we,qe)=>{const{multiple:It}=e,{remoteValMaps:$t}=N,Ht=_.value,Rt=qe[Ht],ht=$t[Rt];if(T.visiblePanel){if(ht?ht.item=qe:$t[Rt]={key:fe(qe),item:qe,_index:-1},It){let wt=[];const Ft=Q.value;l.findIndexOf(Ft,to=>to===Rt)===-1?wt=Ft.concat([Rt]):wt=Ft.filter(to=>to!==Rt),dt(we,wt,qe)}else dt(we,Rt,qe),Ke();T.reactFlag++}},lt=we=>{const{visiblePanel:qe}=T;if(!B.value&&qe){const $t=M.value;ar(we,$t).flag?$e():Ke()}},Et=we=>{const{visiblePanel:qe}=T;if(!B.value){const $t=m.value,Ht=M.value;T.isActivated=ar(we,$t).flag||ar(we,Ht).flag,qe&&!T.isActivated&&Ke()}},Xt=we=>{const qe=we.disabled,It=fe(we);return!qe&&!Ue(It)},jt=(we,qe)=>{const{allowCreate:It}=e,{optList:$t}=T,{optFullValMaps:Ht,optAddMaps:Rt,afterVisibleList:ht}=N,wt=_.value;let Ft=ht,Tt=0;if(It&&$t.length){const ro=$t[0],ho=fe(ro);Rt[ho]&&(Tt=1,Ft=[Rt[ho]].concat(Ft))}if(!we)if(qe)for(let ro=0;ro<Ft.length;ro++){const ho=Ft[ro];if(Xt(ho))return ho}else for(let ro=Ft.length-1;ro>=0;ro--){const ho=Ft[ro];if(Xt(ho))return ho}let to=0;const qt=we?Ht[we[wt]]:null;if(qt&&(to=qt._index+Tt),to>-1){if(qe)for(let ro=to+1;ro<=Ft.length-1;ro++){const ho=Ft[ro];if(Xt(ho))return ho}else if(to>0)for(let ro=to-1;ro>=0;ro--){const ho=Ft[ro];if(Xt(ho))return ho}}return null},Gt=we=>{const{clearable:qe}=e,{visiblePanel:It,currentOption:$t}=T;if(!B.value){const Rt=Qt.hasKey(we,Oo.TAB),ht=Qt.hasKey(we,Oo.ENTER),wt=Qt.hasKey(we,Oo.ESCAPE),Ft=Qt.hasKey(we,Oo.ARROW_UP),Tt=Qt.hasKey(we,Oo.ARROW_DOWN),to=Qt.hasKey(we,Oo.DELETE);if(Rt&&(T.isActivated=!1),It){if(wt||Rt)Ke();else if(ht)$t&&(we.preventDefault(),we.stopPropagation(),Ot(we,$t));else if(Ft||Tt){we.preventDefault();let qt=jt($t,Tt);qt||(qt=jt(null,Tt)),qt&&(ze(qt),H(qt,Tt))}}else(Ft||Tt||ht)&&T.isActivated&&(we.preventDefault(),Ne());T.isActivated&&to&&qe&&ft(we,null)}},Ct=()=>{const{visiblePanel:we,isActivated:qe}=T;if(we&&Ke(),qe&&(T.isActivated=!1),we||qe){const It=w.value;It&&It.blur()}},Nt=()=>{const{visiblePanel:we}=T;we&&$e()},_t=()=>{e.filterable&&pe(()=>{const we=D.value;we&&we.focus()})},ke=we=>{B.value||T.visiblePanel||(T.triggerFocusPanel=!0,Ne(),setTimeout(()=>{T.triggerFocusPanel=!1},500)),Me("focus",{},we)},Fe=we=>{Qe(we),Me("click",{triggerButton:!1,visible:T.visiblePanel},we)},je=we=>{T.isActivated=!1,Me("blur",{},we)},nt=we=>{Qe(we),Me("click",{triggerButton:!0,visible:T.visiblePanel},we)},mt=we=>{T.searchValue=we},te=()=>{T.isActivated=!0},_e=()=>{const{modelValue:we,remote:qe,remoteMethod:It}=e,{searchValue:$t}=T,Ht=X.value,Rt=Ht.queryMethod||It;qe&&Rt&&Ht.enabled?(T.searchLoading=!0,Promise.resolve(Rt({$select:j,searchValue:$t,value:we})).then(()=>pe()).catch(()=>pe()).finally(()=>{T.searchLoading=!1,rt(),ge()})):(rt(),ge())},Be=l.debounce(_e,350,{trailing:!0}),Qe=we=>{const{$event:qe}=we;qe.preventDefault(),T.triggerFocusPanel?T.triggerFocusPanel=!1:T.visiblePanel?Ke():Ne()},at=(we,qe)=>!!(qe.disabled||ye.value&&!we),yt=()=>{const{scrollYLoad:we}=T,{scrollYStore:qe,afterVisibleList:It}=N;T.bodyHeight=we?It.length*qe.rowHeight:0,T.topSpaceHeight=we?Math.max(qe.startIndex*qe.rowHeight,0):0},Xe=()=>{const{filterable:we,allowCreate:qe}=e,{scrollYLoad:It,searchValue:$t}=T,{optAddMaps:Ht,scrollYStore:Rt,afterVisibleList:ht}=N,wt=U.value,Ft=_.value,Tt=It?ht.slice(Rt.startIndex,Rt.endIndex):ht.slice(0);if(we&&qe&&$t&&!Tt.some(to=>to[wt]===$t)){const to=Ht[$t]||un({[xe()]:$t,[wt]:$t,[Ft]:$t});Ht[$t]=to,Tt.unshift(to)}return T.optList=Tt,pe()},ge=()=>{Xe(),yt()},P=()=>pe().then(()=>{const{scrollYLoad:we}=T,{scrollYStore:qe}=N,It=v.value,$t=Y.value;let Ht=0,Rt;if(It&&(Rt||(Rt=It.children[0])),Rt&&(Ht=Rt.offsetHeight),Ht=Math.max(20,Ht),qe.rowHeight=Ht,we){const ht=C.value,wt=Math.max(8,ht?Math.ceil(ht.clientHeight/Ht):0),Ft=Math.max(0,Math.min(2,l.toNumber($t.oSize)));qe.offsetSize=Ft,qe.visibleSize=wt,qe.endIndex=Math.max(qe.startIndex,wt+Ft,qe.endIndex),ge()}else yt()}),H=(we,qe)=>{const{scrollYLoad:It}=T,{optFullValMaps:$t,scrollYStore:Ht}=N,Rt=_.value,ht=$t[we[Rt]];if(ht){const wt=ht.key,Ft=ht._index;if(Ft>-1){const Tt=C.value,to=M.value;if(!to)return;const qt=to.querySelector(`[optid='${wt}']`);if(Tt)if(qt){const ro=Tt.offsetHeight,ho=1;qe?qt.offsetTop+qt.offsetHeight-Tt.scrollTop>ro?Tt.scrollTop=qt.offsetTop+qt.offsetHeight-ro:(qt.offsetTop+ho<Tt.scrollTop||qt.offsetTop+ho>Tt.scrollTop+Tt.clientHeight)&&(Tt.scrollTop=qt.offsetTop-ho):qt.offsetTop+ho<Tt.scrollTop||qt.offsetTop+ho>Tt.scrollTop+Tt.clientHeight?Tt.scrollTop=qt.offsetTop-ho:qt.offsetTop+qt.offsetHeight-Tt.scrollTop>ro&&(Tt.scrollTop=qt.offsetTop+qt.offsetHeight-ro)}else It&&(qe?Tt.scrollTop=Ft*Ht.rowHeight-Tt.clientHeight+Ht.rowHeight:Tt.scrollTop=Ft*Ht.rowHeight)}}},ne=(we,qe)=>{const It=C.value;return It&&(l.isNumber(we)&&(It.scrollLeft=we),l.isNumber(qe)&&(It.scrollTop=qe)),T.scrollYLoad?new Promise($t=>{setTimeout(()=>{pe(()=>{$t()})},50)}):pe()},Te=()=>{const{lastScrollLeft:we,lastScrollTop:qe}=N;return ot().then(()=>{if(we||qe)return N.lastScrollLeft=0,N.lastScrollTop=0,ne(we,qe)})},Ce=()=>{const we=m.value;return we&&we.clientWidth&&we.clientHeight?P():Promise.resolve()},He=we=>{const{scrollYStore:qe}=N,{startIndex:It,endIndex:$t,visibleSize:Ht,offsetSize:Rt,rowHeight:ht}=qe,Ft=we.target.scrollTop,Tt=Math.floor(Ft/ht),to=Math.max(0,Tt-1-Rt),qt=Tt+Ht+Rt;(Tt<=It||Tt>=$t-Ht-1)&&(It!==to||$t!==qt)&&(qe.startIndex=to,qe.endIndex=qt,ge())},Ze=()=>{const{lastScrollTime:qe}=N;return!!(qe&&Date.now()<qe+250)},ct=we=>{const qe=we.target,It=qe.scrollTop,$t=qe.scrollLeft,Ht=$t!==N.lastScrollLeft,Rt=It!==N.lastScrollTop;N.lastScrollTop=It,N.lastScrollLeft=$t,T.scrollYLoad&&He(we),N.lastScrollTime=Date.now(),Me("scroll",{scrollLeft:$t,scrollTop:It,isX:Ht,isY:Rt},we)},st=we=>{Je(we||[]);const{isLoaded:qe,fullData:It,scrollYStore:$t}=N,Ht=V.value,Rt=Y.value,ht=_.value;if(Object.assign($t,{startIndex:0,endIndex:1,visibleSize:0}),N.synchData=we||[],T.scrollYLoad=!!Rt.enabled&&Rt.gt>-1&&(Rt.gt===0||Rt.gt<=It.length),Xe(),!qe){const{selectMode:wt}=Ht;if(we.length>0&&l.eqNull(e.modelValue)){if(wt==="first"||wt==="last"){const Ft=l[wt](we);Ft&&pe(()=>{l.eqNull(e.modelValue)&&Se(Ft[ht])})}N.isLoaded=!0}}return P().then(()=>{Te()})},ot=()=>{const we=C.value;return we&&(we.scrollTop=0,we.scrollLeft=0),N.lastScrollTop=0,N.lastScrollLeft=0,pe()},Ue=we=>{const{optGroupKeyMaps:qe}=N;return!!qe[we]};Object.assign(j,{dispatchEvent:Me,loadData:st,reloadData(we){return N.isLoaded=!1,ot(),st(we)},isPanelVisible(){return T.visiblePanel},togglePanel(){return T.visiblePanel?Ke():Ne(),pe()},hidePanel(){return T.visiblePanel&&Ke(),pe()},showPanel(){return T.visiblePanel||Ne(),pe()},refreshOption(){return rt(),ge(),pe()},focus(){const we=w.value;return we&&we.blur(),T.isActivated=!0,pe()},blur(){const we=w.value;return we&&we.blur(),T.isActivated=!1,pe()},recalculate:Ce,clearScroll:ot});const mo=we=>{const{allowCreate:qe,optionKey:It}=e,{currentOption:$t}=T,{optAddMaps:Ht}=N,Rt=Re.value,ht=U.value,wt=_.value,Ft=z.value,Tt=Q.value,{useKey:to,height:qt}=Rt,ro=o.option;return we.map((ho,Ho)=>{const{slots:an,className:yn}=ho,Uo=fe(ho),Yo=ho[wt],on=Ue(Uo),bn=!!(qe&&Ht[Uo]),qo=!bn&&Tt.indexOf(Yo)>-1,Fo=bn||!on||Rs(ho),Qo=!bn&&at(qo,ho),wn=an?an.default:null,Sn={option:ho,group:on?ho:null,$select:j};let xn="",Io=[];return ro?Io=De(ro,Sn):wn?Io=De(wn,Sn):(xn=Mr(ho[on?Ft:ht]||Yo),Io=xn),Fo?u("div",{key:to||It?Uo:Ho,class:["vxe-select-option",yn?l.isFunction(yn)?yn(Sn):yn:"",{"vxe-select-optgroup":on,"is--disabled":Qo,"is--selected":qo,"is--add":bn,"is--hover":$t&&fe($t)===Uo}],optid:Uo,title:xn||null,style:qt?{height:Zn(qt)}:void 0,onMousedown:uo=>{uo.button===0&&uo.stopPropagation()},onClick:uo=>{!Qo&&!on&&Ot(uo,ho)},onMouseenter:()=>{!Qo&&!on&&!Ze()&&ze(ho)}},qe?[u("span",{key:1,class:"vxe-select-option--label"},Io),bn?u("span",{key:2,class:"vxe-select-option--add-icon"},[u("i",{class:vo().SELECT_ADD_OPTION})]):yo()]:Io):yo()})},Eo=()=>{const{optList:we,searchLoading:qe}=T;return qe?[u("div",{class:"vxe-select--search-loading"},[u("i",{class:["vxe-select--search-icon",vo().SELECT_LOADED]}),u("span",{class:"vxe-select--search-text"},oo("vxe.select.loadingText"))])]:we.length?mo(we):[u("div",{class:"vxe-select--empty-placeholder"},e.emptyText||oo("vxe.select.emptyText"))]},_o=()=>{const{className:we,popupClassName:qe,multiple:It,loading:$t,filterable:Ht,showTotalButoon:Rt,showCheckedButoon:ht,showClearButton:wt}=e,{initialized:Ft,isActivated:Tt,isAniVisible:to,optList:qt,visiblePanel:ro,bodyHeight:ho,topSpaceHeight:Ho}=T,an=p.value,yn=B.value,Uo=Ie.value,Yo=be.value,on=I.value,bn=J.value,qo=F.value,Fo=o.default,Qo=o.header,wn=o.footer,Sn=o.prefix;if(bn)return u("div",{ref:m,class:["vxe-select--readonly",we]},[u("div",{class:"vxe-select-slots",ref:"hideOption"},Fo?Fo({}):[]),u("span",{class:"vxe-select-label",title:Yo},Uo)]);const xn=Q.value;return u("div",{ref:m,class:["vxe-select",we?l.isFunction(we)?we({$select:j}):we:"",{[`size--${an}`]:an,"is--visible":ro,"is--disabled":yn,"is--filter":Ht,"is--loading":$t,"is--active":Tt}]},[u("div",{class:"vxe-select-slots",ref:"hideOption"},Fo?Fo({}):[]),u(ci,{ref:w,clearable:e.clearable,placeholder:qo,readonly:!0,disabled:yn,type:"text",prefixIcon:e.prefixIcon,suffixIcon:$t?vo().SELECT_LOADED:ro?vo().SELECT_OPEN:vo().SELECT_CLOSE,autoFocus:!1,title:Yo,modelValue:Uo,onClear:Vt,onClick:Fe,onFocus:ke,onBlur:je,onSuffixClick:nt},Sn?{prefix:()=>Sn({})}:{}),u(ca,{to:"body",disabled:on?!Ft:!0},[u("div",{ref:M,class:["vxe-table--ignore-clear vxe-select--panel",qe?l.isFunction(qe)?qe({$select:j}):qe:"",{[`size--${an}`]:an,"is--transfer":on,"ani--leave":!$t&&to,"ani--enter":!$t&&ro}],placement:T.panelPlacement,style:T.panelStyle},Ft&&(ro||to)?[u("div",{class:"vxe-select--panel-wrapper"},[Ht?u("div",{class:"vxe-select--panel-search"},[u(ci,{ref:D,class:"vxe-select-search--input",modelValue:T.searchValue,type:"text",clearable:!0,disabled:!1,readonly:!1,placeholder:oo("vxe.select.search"),prefixIcon:vo().INPUT_SEARCH,"onUpdate:modelValue":mt,onFocus:te,onChange:Be,onSearch:Be})]):yo(),Rt||ht&&It||wt||Qo?u("div",{class:"vxe-select--panel-header"},Qo?De(Qo,{}):[u("div",{class:"vxe-select--header-button"},[Rt?u("div",{class:"vxe-select--header-total"},oo("vxe.select.total",[xn.length,qt.length])):yo(),u("div",{class:"vxe-select--header-btns"},[ht&&It?u(lr,{content:oo("vxe.select.allChecked"),mode:"text",onClick:bt}):yo(),wt?u(lr,{content:oo("vxe.select.clear"),mode:"text",onClick:vt}):yo()])])]):yo(),u("div",{class:"vxe-select--panel-body"},[u("div",{ref:C,class:"vxe-select-option--wrapper",onScroll:ct},[u("div",{class:"vxe-select--y-space",style:{height:ho?`${ho}px`:""}}),u("div",{ref:v,class:"vxe-select--body",style:{transform:`translateY(${Ho}px)`}},Eo())])]),wn?u("div",{class:"vxe-select--panel-footer"},De(wn,{})):yo()])]:[])])])};return no(()=>T.staticOptions,we=>{st(we)}),no(()=>e.options,we=>{st(we||[])}),no(()=>e.optionGroups,we=>{st(we||[])}),sr(()=>{pe(()=>{const{options:we,optionGroups:qe}=e;qe?st(qe):we&&st(we)}),Qt.on(j,"mousewheel",lt),Qt.on(j,"mousedown",Et),Qt.on(j,"keydown",Gt),Qt.on(j,"blur",Ct),Qt.on(j,"resize",Nt)}),mr(()=>{Qt.off(j,"mousewheel"),Qt.off(j,"mousedown"),Qt.off(j,"keydown"),Qt.off(j,"blur"),Qt.off(j,"resize"),l.assign(N,lC())}),ir("$xeSelect",j),j.renderVN=_o,j},render(){return this.renderVN()}}),Us=dr({name:"VxePager",props:{size:{type:String,default:()=>Ge().pager.size||Ge().size},layouts:{type:Array,default:()=>Ge().pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>Ge().pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>Ge().pager.pagerCount||7},pageSizes:{type:Array,default:()=>Ge().pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>Ge().pager.align},border:{type:Boolean,default:()=>Ge().pager.border},background:{type:Boolean,default:()=>Ge().pager.background},perfect:{type:Boolean,default:()=>Ge().pager.perfect},autoHidden:{type:Boolean,default:()=>Ge().pager.autoHidden},transfer:{type:Boolean,default:()=>Ge().pager.transfer},className:[String,Function],pageSizePlacement:{type:String,default:()=>Ge().pager.pageSizePlacement},iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:o,emit:r}=t,s=l.uniqueId(),{computeSize:i}=ur(e),d=Co("$xeGrid",null),b=un({inpCurrPage:e.currentPage}),f=xt(),E={refElem:f},m=ae(()=>p(e.total,e.pageSize)),w=ae(()=>{const{pagerCount:fe}=e,Pe=m.value>fe?fe-2:fe,tt=[];for(let Je=0;Je<Pe;Je++)tt.push(Je);return tt}),D=ae(()=>Math.floor((e.pagerCount-2)/2)),C=ae(()=>e.pageSizes.map(fe=>l.isNumber(fe)?{value:fe,label:`${oo("vxe.pager.pagesize",[fe])}`}:Object.assign({value:"",label:""},fe))),M={xID:s,props:e,context:t,getRefMaps:()=>E},v=(fe,Oe,Pe)=>{r(fe,Jn(Pe,{$pager:M},Oe))},p=(fe,Oe)=>Math.max(Math.ceil(fe/Oe),1),T=(fe,Oe)=>{r("update:currentPage",Oe),fe&&Oe!==e.currentPage&&v("page-change",{type:"current",pageSize:e.pageSize,currentPage:Oe},fe)},N=(fe,Oe)=>{r("update:currentPage",fe),Oe&&fe!==e.currentPage&&v("page-change",{type:"current",pageSize:e.pageSize,currentPage:fe},Oe)},k=fe=>{const{$event:Oe}=fe,Pe=Oe.target,tt=l.toInteger(Pe.value),Je=m.value,rt=tt<=0?1:tt>=Je?Je:tt,ze=l.toValueString(rt);Pe.value=ze,b.inpCurrPage=ze,N(rt,Oe)},j=fe=>{const{currentPage:Oe}=e;Oe>1&&N(1,fe)},J=fe=>{const{currentPage:Oe}=e,Pe=m.value;Oe<Pe&&N(Pe,fe)},B=fe=>{const{currentPage:Oe}=e,Pe=m.value;Oe>1&&N(Math.min(Pe,Math.max(Oe-1,1)),fe)},I=fe=>{const{currentPage:Oe}=e,Pe=m.value;Oe<Pe&&N(Math.min(Pe,Oe+1),fe)},F=fe=>{const Oe=w.value;N(Math.max(e.currentPage-Oe.length,1),fe)},V=fe=>{const Oe=m.value,Pe=w.value;N(Math.min(e.currentPage+Pe.length,Oe),fe)},W=fe=>{const{value:Oe,$event:Pe}=fe,tt=l.toNumber(Oe),Je=p(e.total,tt);let rt=e.currentPage;rt>Je&&(rt=Je,r("update:currentPage",Je)),r("update:pageSize",tt),Pe&&v("page-change",{type:"size",pageSize:tt,currentPage:rt},Pe)},ie=fe=>{const{$event:Oe}=fe;Qt.hasKey(Oe,Oo.ENTER)?k(fe):Qt.hasKey(Oe,Oo.ARROW_UP)?(Oe.preventDefault(),I(Oe)):Qt.hasKey(Oe,Oo.ARROW_DOWN)&&(Oe.preventDefault(),B(Oe))},U=()=>{const{currentPage:fe,total:Oe}=e,Pe=o.home,tt=m.value;return Pe?u("span",{class:"vxe-pager--custom-home-btn"},Pe({$pager:M,total:Oe,currentPage:fe,pageCount:tt})):u("button",{class:["vxe-pager--home-btn",{"is--disabled":fe<=1}],type:"button",title:oo("vxe.pager.homePageTitle"),onClick:j},[u("i",{class:["vxe-pager--btn-icon",e.iconHomePage||vo().PAGER_HOME]})])},_=()=>{const{currentPage:fe,total:Oe}=e,Pe=o.prevPage||o["prev-page"],tt=m.value;return Pe?u("span",{class:"vxe-pager--custom-prev-btn"},Pe({$pager:M,total:Oe,currentPage:fe,pageCount:tt})):u("button",{class:["vxe-pager--prev-btn",{"is--disabled":fe<=1}],type:"button",title:oo("vxe.pager.prevPageTitle"),onClick:B},[u("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||vo().PAGER_PREV_PAGE]})])},z=fe=>{const{currentPage:Oe,total:Pe}=e,tt=o.prevJump||o["prev-jump"],Je=m.value;return tt?u("span",{class:"vxe-pager--custom-jump-prev"},tt({$pager:M,total:Pe,currentPage:Oe,pageCount:Je})):u(fe||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!fe,"is--disabled":Oe<=1}],type:"button",title:oo("vxe.pager.prevJumpTitle"),onClick:F},[fe?u("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||vo().PAGER_JUMP_MORE]}):null,u("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||vo().PAGER_JUMP_PREV]})])},se=fe=>{const{currentPage:Oe,total:Pe}=e,tt=o.nextJump||o["next-jump"],Je=m.value;return tt?u("span",{class:"vxe-pager--custom-jump-next"},tt({$pager:M,total:Pe,currentPage:Oe,pageCount:Je})):u(fe||"button",{class:["vxe-pager--jump-next",{"is--fixed":!fe,"is--disabled":Oe>=Je}],type:"button",title:oo("vxe.pager.nextJumpTitle"),onClick:V},[fe?u("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||vo().PAGER_JUMP_MORE]}):null,u("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||vo().PAGER_JUMP_NEXT]})])},ye=()=>{const{currentPage:fe,total:Oe}=e,Pe=o.nextPage||o["next-page"],tt=m.value;return Pe?u("span",{class:"vxe-pager--custom-next-btn"},Pe({$pager:M,total:Oe,currentPage:fe,pageCount:tt})):u("button",{class:["vxe-pager--next-btn",{"is--disabled":fe>=tt}],type:"button",title:oo("vxe.pager.nextPageTitle"),onClick:I},[u("i",{class:["vxe-pager--btn-icon",e.iconNextPage||vo().PAGER_NEXT_PAGE]})])},Y=()=>{const{currentPage:fe,total:Oe}=e,Pe=o.end,tt=m.value;return Pe?u("span",{class:"vxe-pager--custom-end-btn"},Pe({$pager:M,total:Oe,currentPage:fe,pageCount:tt})):u("button",{class:["vxe-pager--end-btn",{"is--disabled":fe>=tt}],type:"button",title:oo("vxe.pager.endPageTitle"),onClick:J},[u("i",{class:["vxe-pager--btn-icon",e.iconEndPage||vo().PAGER_END]})])},X=fe=>{const{currentPage:Oe,total:Pe,pagerCount:tt}=e,Je=fe?o.numberJump||o["number-jump"]:o.number,rt=[],ze=m.value,Z=w.value,$e=D.value,ce=ze>tt,Ne=ce&&Oe>$e+1,Ke=ce&&Oe<ze-$e,dt=[];let ft=1;return ce&&(Oe>=ze-$e?ft=Math.max(ze-Z.length+1,1):ft=Math.max(Oe-$e,1)),fe&&Ne&&(dt.push(1),rt.push(u("button",{class:"vxe-pager--num-btn",type:"button",onClick:Vt=>T(Vt,1)},"1"),z("span"))),Z.forEach((Vt,bt)=>{const vt=ft+bt;vt<=ze&&(dt.push(vt),rt.push(u("button",{key:vt,class:["vxe-pager--num-btn",{"is--active":Oe===vt}],type:"button",onClick:Ot=>T(Ot,vt)},`${vt}`)))}),fe&&Ke&&(dt.push(ze),rt.push(se("button"),u("button",{class:"vxe-pager--num-btn",type:"button",onClick:Vt=>T(Vt,ze)},ze))),Je?u("span",{class:"vxe-pager--custom-btn-wrapper"},Je({$pager:M,total:Pe,numList:dt,currentPage:Oe,pageCount:ze})):u("span",{class:"vxe-pager--btn-wrapper"},rt)},Re=()=>X(!0),ue=()=>{const{total:fe,currentPage:Oe,pageSize:Pe,pageSizePlacement:tt,transfer:Je}=e,rt=o.sizes,ze=C.value,Z=m.value;return rt?u("span",{class:"vxe-pager--custom-sizes"},rt({$pager:M,total:fe,currentPage:Oe,pageCount:Z,pageSize:Pe,options:ze})):u(Zi,{class:"vxe-pager--sizes",modelValue:Pe,placement:tt,transfer:Je,options:ze,onChange:W})},Q=fe=>{const{total:Oe}=e,{inpCurrPage:Pe}=b,tt=fe?o.fullJump||o["full-jump"]:o.jump,Je=m.value;return tt?u("span",{class:"vxe-pager--custom-jump"},tt({$pager:M,total:Oe,currentPage:Pe,pageCount:Je})):u("span",{class:"vxe-pager--jump"},[fe?u("span",{class:"vxe-pager--goto-text"},oo("vxe.pager.goto")):null,u(Xi,{class:"vxe-pager--goto",modelValue:b.inpCurrPage,placeholder:oo("vxe.pager.gotoTitle"),align:"center",type:"integer",max:Je,min:1,controls:!1,onKeydown:ie,onBlur:k,"onUpdate:modelValue"(rt){b.inpCurrPage=rt}}),fe?u("span",{class:"vxe-pager--classifier-text"},oo("vxe.pager.pageClassifier")):null])},be=()=>Q(!0),Ie=()=>{const{currentPage:fe,total:Oe}=e,Pe=o.pageCount||o["page-count"],tt=m.value;return Pe?u("span",{class:"vxe-pager--custom-count"},Pe({$pager:M,total:Oe,currentPage:fe,pageCount:tt})):u("span",{class:"vxe-pager--count"},[u("span",{class:"vxe-pager--separator"}),u("span",tt)])},De=()=>{const{currentPage:fe,total:Oe}=e,Pe=o.total,tt=m.value;return Pe?u("span",{class:"vxe-pager--custom-total"},Pe({$pager:M,total:Oe,currentPage:fe,pageCount:tt})):u("span",{class:"vxe-pager--total"},oo("vxe.pager.total",[Oe]))};Object.assign(M,{dispatchEvent:v,setPageSize(fe){return W({value:fe}),pe()},setPageSizeByEvent(fe,Oe){W({value:Oe,$event:fe})},homePage(){return j(),pe()},homePageByEvent(fe){j(fe)},endPage(){return J(),pe()},endPageByEvent(fe){J(fe)},prevPage(){return B(),pe()},prevPageByEvent(fe){B(fe)},nextPage(){return I(),pe()},nextPageByEvent(fe){I(fe)},prevJump(){return F(),pe()},prevJumpByEvent(fe){F(fe)},nextJump(){return V(),pe()},nextJumpByEvent(fe){V(fe)},setCurrentPage(fe){const Oe=l.toNumber(fe)||1;return b.inpCurrPage=Oe,N(Oe),pe()},setCurrentPageByEvent(fe,Oe){const Pe=l.toNumber(Oe)||1;b.inpCurrPage=Pe,N(Pe,fe)},jumpPage(fe){return Pl("vxe.error.delFunc",["[pager] jumpPage","setCurrentPage"]),M.setCurrentPage(fe)}},{handlePrevPage:B,handleNextPage:I,handlePrevJump:F,handleNextJump:V}),no(()=>e.currentPage,fe=>{b.inpCurrPage=fe});const xe=()=>{const{align:fe,layouts:Oe,className:Pe}=e,tt=[],Je=i.value,rt=m.value;return o.left&&tt.push(u("span",{class:"vxe-pager--left-wrapper"},o.left({$grid:d}))),Oe.forEach(ze=>{let Z;switch(ze){case"Home":Z=U;break;case"PrevJump":Z=z;break;case"PrevPage":Z=_;break;case"Number":Z=X;break;case"JumpNumber":Z=Re;break;case"NextPage":Z=ye;break;case"NextJump":Z=se;break;case"End":Z=Y;break;case"Sizes":Z=ue;break;case"FullJump":Z=be;break;case"Jump":Z=Q;break;case"PageCount":Z=Ie;break;case"Total":Z=De;break}Z?tt.push(Z()):Jg("vxe.error.notProp",[`[pager] layouts -> ${ze}`])}),o.right&&tt.push(u("span",{class:"vxe-pager--right-wrapper"},o.right({$grid:d}))),u("div",{ref:f,class:["vxe-pager",Pe?l.isFunction(Pe)?Pe({$pager:M}):Pe:"",{[`size--${Je}`]:Je,[`align--${fe}`]:fe,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&rt===1,"is--loading":e.loading}]},[u("div",{class:"vxe-pager--wrapper"},tt)])};return M.renderVN=xe,M},render(){return this.renderVN()}}),mE=Object.assign(Us,{install:function(e){e.component(Us.name,Us)}});Cr.use(mE);Ee.component(Us);const FT=dr({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],checkedValue:{type:[String,Number,Boolean],default:void 0},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},name:String,strict:{type:Boolean,default:()=>Ge().radio.strict},size:{type:String,default:()=>Ge().radio.size||Ge().size},label:{type:[String,Number,Boolean],default:null}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:r}=t,s=Co("$xeForm",null),i=Co("xeFormItemInfo",null),d=Co("$xeRadioGroup",null),b=l.uniqueId(),f=un({}),E={xID:b,props:e,context:t,reactData:f},{computeSize:m}=ur(e),w=ae(()=>{const{disabled:B}=e;if(B===null&&d){const{computeIsDisabled:I}=d.getComputeMaps();return I.value}return B}),D=ae(()=>d?d.name:e.name),C=ae(()=>d?d.props.strict:e.strict),M=ae(()=>{const{label:B,checkedValue:I}=e,F=l.isUndefined(I)?B:I;return d?d.props.modelValue===F:e.modelValue===F}),v=(B,I)=>{d?d.handleChecked({label:B,checkedValue:B},I):(r("update:modelValue",B),N("change",{value:B,label:B,checkedValue:B},I),s&&i&&s.triggerItemEvent(I,i.itemConfig.field,B))},p=B=>{if(!w.value){const{label:F,checkedValue:V}=e,W=l.isUndefined(V)?F:V;v(W,B)}},T=B=>{const I=w.value,F=C.value;if(!I&&!F){const{label:V,checkedValue:W}=e;(l.isUndefined(W)?V:W)===(d?d.props.modelValue:e.modelValue)&&v(null,B)}},N=(B,I,F)=>{r(B,Jn(F,{$radio:E},I))};Object.assign(E,{dispatchEvent:N},{});const J=()=>{const{label:B,checkedValue:I}=e,F=l.isUndefined(I)?B:I,V=m.value,W=w.value,ie=D.value,U=M.value;return u("label",{key:F,class:["vxe-radio vxe-radio--default",{[`size--${V}`]:V,"is--checked":U,"is--disabled":W}],title:e.title},[u("input",{class:"vxe-radio--input",type:"radio",name:ie,checked:U,disabled:W,onChange:p,onClick:T}),u("span",{class:["vxe-radio--icon",U?vo().RADIO_CHECKED:W?vo().RADIO_DISABLED_UNCHECKED:vo().RADIO_UNCHECKED]}),u("span",{class:"vxe-radio--label"},o.default?o.default({}):Mr(e.content))])};return E.renderVN=J,E},render(){return this.renderVN()}}),AT=dr({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],checkedValue:{type:[String,Number,Boolean],default:void 0},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},strict:{type:Boolean,default:()=>Ge().radioButton.strict},size:{type:String,default:()=>Ge().radioButton.size||Ge().size},label:{type:[String,Number,Boolean],default:null}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:r}=t,s=Co("$xeForm",null),i=Co("xeFormItemInfo",null),d=Co("$xeRadioGroup",null),b=l.uniqueId(),f=un({}),{computeSize:E}=ur(e),m={xID:b,props:e,context:t,reactData:f},w=ae(()=>{const{disabled:J}=e;if(J===null&&d){const{computeIsDisabled:B}=d.getComputeMaps();return B.value}return J}),D=ae(()=>d?d.name:null),C=ae(()=>d?d.props.strict:e.strict),M=ae(()=>{const{label:J,checkedValue:B}=e,I=l.isUndefined(B)?J:B;return d?d.props.modelValue===I:e.modelValue===I}),v={dispatchEvent(J,B,I){r(J,Jn(I,{$radioButton:m},B))}};Object.assign(m,v,{});const T=(J,B)=>{d?d.handleChecked({label:J,checkedValue:J},B):(r("update:modelValue",J),v.dispatchEvent("change",{value:J,label:J},B),s&&i&&s.triggerItemEvent(B,i.itemConfig.field,J))},N=J=>{if(!w.value){const{label:I,checkedValue:F}=e,V=l.isUndefined(F)?I:F;T(V,J)}},k=J=>{const B=w.value,I=C.value;if(!B&&!I){const{label:F,checkedValue:V}=e;(l.isUndefined(V)?F:V)===(d?d.props.modelValue:e.modelValue)&&T(null,J)}},j=()=>{const{label:J,checkedValue:B}=e,I=l.isUndefined(B)?J:B,F=E.value,V=w.value,W=D.value,ie=M.value;return u("label",{key:I,class:["vxe-radio vxe-radio--button",{[`size--${F}`]:F,"is--disabled":V}],title:e.title},[u("input",{class:"vxe-radio--input",type:"radio",name:W,checked:ie,disabled:V,onChange:N,onClick:k}),u("span",{class:"vxe-radio--label"},o.default?o.default({}):Mr(e.content))])};return m.renderVN=j,j}}),Ys=dr({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>Ge().radioGroup.strict},size:{type:String,default:()=>Ge().radioGroup.size||Ge().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:o,emit:r}=t,s=Co("$xeForm",null),i=Co("xeFormItemInfo",null),d=l.uniqueId(),{computeSize:b}=ur(e),f=un({}),m={computeIsDisabled:ae(()=>{const{disabled:j}=e;return j===null?s?s.props.readonly||s.props.disabled:!1:j})},w={xID:d,props:e,context:t,reactData:f,name:l.uniqueId("xe_group_"),getComputeMaps:()=>m},D=ae(()=>Object.assign({},e.optionProps)),C=ae(()=>D.value.label||"label"),M=ae(()=>D.value.value||"value"),v=ae(()=>D.value.disabled||"disabled"),p=(j,J,B)=>{r(j,Jn(B,{$radioGroup:w},J))};Object.assign(w,{dispatchEvent:p},{handleChecked(j,J){const B=j.checkedValue;r("update:modelValue",B),p("change",{value:B,label:B,checkedValue:B},J),s&&i&&s.triggerItemEvent(J,i.itemConfig.field,B)}});const k=()=>{const{options:j,type:J}=e,B=b.value,I=o.default,F=M.value,V=C.value,W=v.value,ie=J==="button"?AT:FT;return u("div",{class:["vxe-radio-group",{[`size--${B}`]:B}]},I?I({}):j?j.map(U=>u(ie,{key:U[F],checkedValue:U[F],content:U[V],disabled:U[W]})):[])};return ir("$xeRadioGroup",w),w.renderVN=k,w},render(){return this.renderVN()}}),vE=Object.assign(Ys,{install:function(e){e.component(Ys.name,Ys)}});Cr.use(vE);Ee.component(Ys);const bE=Object.assign(Zi,{install:function(e){e.component(Zi.name,Zi)}});Cr.use(bE);Ee.component(Zi);const xE=Object.assign({},Yi,{install(e){e.component(Yi.name,Yi)}});Cr.use(xE);Ee.component(Yi);let qa=null,Ml=null;function PT(e){const t=e.name,o=l.lastIndexOf(t,"."),r=t.substring(o+1,t.length).toLowerCase();return{filename:t.substring(0,o),type:r}}const CE=e=>{const t=Object.assign({},e);return new Promise((o,r)=>{Ml||(Ml=document.createElement("input"),Ml.name="file",Ml.type="file"),qa||(qa=document.createElement("form"),qa.style.display="none",qa.appendChild(Ml),document.body.appendChild(qa));const s=t.types||[],i=!s.length||s.some(d=>d==="*");Ml.multiple=!!t.multiple,Ml.accept=i?"":`.${s.join(", .")}`,Ml.onchange=d=>{const b=d.target,f=Array.from(b.files||[]),E=f[0];let m="";if(!i)for(let w=0;w<f.length;w++){const{type:D}=PT(f[w]);if(!l.includes(s,D)){m=D;break}}m?(t.message!==!1&&Ee.modal&&Ee.modal.message({content:oo("vxe.error.notType",[m]),status:"error"}),r({status:!1,files:f,file:E})):o({status:!0,files:f,file:E})},qa.reset(),Ml.click()})};function kT(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}const LT=e=>{const t=Object.assign({type:""},e),{filename:o,type:r,content:s}=t,i=r?`${o}.${r}`:`${o}`;if(window.Blob){const d=s instanceof Blob?s:kT(l.toValueString(s),t),b=window.navigator;if(b.msSaveBlob)b.msSaveBlob(d,i);else{const f=URL.createObjectURL(d),E=document.createElement("a");E.target="_blank",E.download=i,E.href=f,document.body.appendChild(E),E.click(),requestAnimationFrame(()=>{E.parentNode&&E.parentNode.removeChild(E),URL.revokeObjectURL(f)})}return Promise.resolve()}return Promise.reject(new Error(oo("vxe.error.notExp")))},Ks=dr({name:"VxeUpload",props:{modelValue:[Array,String,Object],showList:{type:Boolean,default:()=>Ge().upload.showList},moreConfig:Object,readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},autoSubmit:{type:Boolean,default:()=>Ge().upload.autoSubmit},mode:{type:String,default:()=>Ge().upload.mode},imageTypes:{type:Array,default:()=>l.clone(Ge().upload.imageTypes,!0)},imageConfig:{type:Object,default:()=>l.clone(Ge().upload.imageConfig,!0)},imageStyle:{type:Object,default:()=>l.clone(Ge().upload.imageStyle,!0)},fileTypes:{type:Array,default:()=>l.clone(Ge().upload.fileTypes,!0)},dragSort:Boolean,dragToUpload:{type:Boolean,default:()=>l.clone(Ge().upload.dragToUpload,!0)},pasteToUpload:{type:Boolean,default:()=>l.clone(Ge().upload.pasteToUpload,!0)},keyField:String,singleMode:Boolean,urlMode:Boolean,urlArgs:{type:Boolean,default:()=>Ge().upload.urlArgs},multiple:Boolean,limitSize:{type:[String,Number],default:()=>Ge().upload.limitSize},showLimitSize:{type:Boolean,default:()=>Ge().upload.showLimitSize},limitSizeText:{type:[String,Number,Function],default:()=>Ge().upload.limitSizeText},limitCount:{type:[String,Number],default:()=>Ge().upload.limitCount},showLimitCount:{type:Boolean,default:()=>Ge().upload.showLimitCount},limitCountText:{type:[String,Number,Function],default:()=>Ge().upload.limitCountText},nameField:{type:String,default:()=>Ge().upload.nameField},typeField:{type:String,default:()=>Ge().upload.typeField},urlField:{type:String,default:()=>Ge().upload.urlField},sizeField:{type:String,default:()=>Ge().upload.sizeField},showErrorStatus:{type:Boolean,default:()=>Ge().upload.showErrorStatus},showProgress:{type:Boolean,default:()=>Ge().upload.showProgress},progressText:{type:[String,Number,Function],default:()=>Ge().upload.progressText},showSubmitButton:Boolean,autoHiddenButton:{type:Boolean,default:()=>Ge().upload.autoHiddenButton},showUploadButton:{type:Boolean,default:()=>Ge().upload.showUploadButton},buttonText:{type:[String,Number,Function],default:()=>Ge().upload.buttonText},buttonIcon:{type:String,default:()=>Ge().upload.buttonIcon},showButtonText:{type:Boolean,default:()=>Ge().upload.showButtonText},showButtonIcon:{type:Boolean,default:()=>Ge().upload.showButtonIcon},showRemoveButton:{type:Boolean,default:()=>Ge().upload.showRemoveButton},showDownloadButton:{type:Boolean,default:()=>Ge().upload.showDownloadButton},showPreview:{type:Boolean,default:()=>Ge().upload.showPreview},showTip:{type:Boolean,default:()=>null},maxSimultaneousUploads:{type:Number,default:()=>Ge().upload.maxSimultaneousUploads},tipText:[String,Number,Function],hintText:String,previewMethod:Function,uploadMethod:Function,beforeRemoveMethod:Function,removeMethod:Function,beforeDownloadMethod:Function,downloadMethod:Function,getUrlMethod:Function,getThumbnailUrlMethod:Function,size:{type:String,default:()=>Ge().upload.size||Ge().size}},emits:["update:modelValue","add","remove","remove-fail","download","download-fail","upload-success","upload-error","sort-dragend","more-visible"],setup(e,t){const{emit:o,slots:r}=t,s=Co("$xeForm",null),i=Co("xeFormItemInfo",null),d=Co("$xeTable",null),b=l.uniqueId(),{computeSize:f}=ur(e),E=xt(),m=xt(),w=xt(),D=xt(),C=un({isDragUploadStatus:!1,showMorePopup:!1,isActivated:!1,fileList:[],fileCacheMaps:{},isDragMove:!1,dragIndex:-1,dragTipText:""}),M={moreId:l.uniqueId("upload"),imagePreviewTypes:["jpg","jpeg","png","gif"],prevDragIndex:-1},v={refElem:E},p=ae(()=>{const{readonly:ge}=e;return ge===null?s?s.props.readonly:!1:ge}),T=ae(()=>{const{disabled:ge}=e;return ge===null?s?s.props.disabled:!1:ge}),N=ae(()=>e.keyField||"_X_KEY"),k=ae(()=>e.mode==="image"),j=ae(()=>e.nameField||"name"),J=ae(()=>e.typeField||"type"),B=ae(()=>e.urlField||"url"),I=ae(()=>e.sizeField||"size"),F=ae(()=>l.toNumber(e.limitSize)*1024*1024),V=ae(()=>e.multiple?l.toNumber(e.limitCount):1),W=ae(()=>{const{multiple:ge}=e,{fileList:P}=C,H=V.value;return ge?H?P.length>=H:!0:P.length>=1}),ie=ae(()=>{const ge=l.toNumber(e.limitSize);return ge?ge>1048576?`${ge/1048576}T`:ge>1024?`${ge/1024}G`:`${ge}M`:""}),U=ae(()=>{const{showTip:ge,tipText:P}=e;if(l.isBoolean(ge))return ge;const H=Ge().upload.showTip;return l.isBoolean(H)?H:!!P}),_=ae(()=>{const{limitSize:ge,fileTypes:P,multiple:H,limitCount:ne}=e,Te=e.tipText||e.hintText,Ce=k.value,He=ie.value;if(l.isString(Te))return Te;if(l.isFunction(Te))return`${Te({})}`;const Ze=[];return Ce?(H&&ne&&Ze.push(oo("vxe.upload.imgCountHint",[ne])),ge&&He&&Ze.push(oo("vxe.upload.imgSizeHint",[He]))):(P&&P.length&&Ze.push(oo("vxe.upload.fileTypeHint",[P.join("/")])),ge&&He&&Ze.push(oo("vxe.upload.fileSizeHint",[He])),H&&ne&&Ze.push(oo("vxe.upload.fileCountHint",[ne]))),Ze.join(oo("vxe.base.comma"))}),z=ae(()=>Object.assign({},e.imageConfig||e.imageStyle)),se=ae(()=>{const ge=z.value,{width:P,height:H}=ge,ne={};return P&&(ne.width=Zn(P)),H&&(ne.height=Zn(H)),ne}),ye=ae(()=>Object.assign({showMoreButton:!0},e.moreConfig)),Y={},X={xID:b,props:e,context:t,reactData:C,internalData:M,getRefMaps:()=>v,getComputeMaps:()=>Y},Re=()=>l.uniqueId(),ue=ge=>{const P=N.value;return ge[P]},Q=()=>{const{modelValue:ge,multiple:P}=e,H=p.value,ne=N.value,Te=j.value,Ce=J.value,He=B.value,Ze=I.value,ct=ge?(ge?l.isArray(ge)?ge:[ge]:[]).map(st=>{if(!st||l.isString(st)){const Ue=`${st||""}`,zt=l.parseUrl(st),mo=(zt?zt.searchQuery[Te]:"")||be(Ue);return{[Te]:mo,[Ce]:(zt?zt.searchQuery[Ce]:"")||Ie(mo),[He]:Ue,[Ze]:l.toNumber(zt?zt.searchQuery[Ze]:0)||0,[ne]:Re()}}const ot=st[Te]||"";return st[Te]=ot,st[Ce]=st[Ce]||Ie(ot),st[He]=st[He]||"",st[Ze]=st[Ze]||0,st[ne]=st[ne]||Re(),st}):[];C.fileList=H||P?ct:ct.slice(0,1)},be=ge=>decodeURIComponent(`${ge||""}`).split("/").pop()||"",Ie=ge=>{const P=ge.lastIndexOf(".");return P>0?ge.substring(P+1).toLowerCase():""},De=(ge,P,H)=>{o(ge,Jn(H,{$upload:X},P))},Me=ge=>{o("update:modelValue",ge)},Se=ge=>{const{singleMode:P,urlArgs:H}=e,ne=B.value,Te=j.value;let Ce=ge?ge.slice(0):[];H&&(Ce=Ce.map(He=>{const Ze=He[ne];return Ze&&!l.parseUrl(Ze).searchQuery[Te]&&Ze.indexOf("blob:")===-1?`${Ze}${Ze.indexOf("?")===-1?"?":"&"}${Te}=${encodeURIComponent(He[Te]||"")}`:Ze})),Me(P?Ce[0]||null:Ce)},xe=ge=>{const P=e.getThumbnailUrlMethod||Ge().upload.getThumbnailUrlMethod;return P?P({$upload:X,option:ge}):fe(ge)},fe=ge=>{const P=e.getUrlMethod||Ge().upload.getUrlMethod,H=B.value;return P?P({$upload:X,option:ge}):ge[H]},Oe=ge=>{const{imageTypes:P,showDownloadButton:H}=e,ne=J.value,Te=e.beforeDownloadMethod||Ge().upload.beforeDownloadMethod,{imagePreviewTypes:Ce}=M;Ce.concat(P||[]).some(He=>`${He}`.toLowerCase()===`${ge[ne]}`.toLowerCase())&&Ee.previewImage&&Ee.previewImage({urlList:[fe(ge)],showDownloadButton:H,beforeDownloadMethod:Te?()=>Te({$upload:X,option:ge}):void 0})},Pe=(ge,P)=>{const H=e.previewMethod||Ge().upload.previewMethod;e.showPreview&&(H?H({$upload:X,option:P}):Oe(P))},tt=(ge,P,H)=>{const{showDownloadButton:ne}=e,{fileList:Te}=C,Ce=e.beforeDownloadMethod||Ge().upload.beforeDownloadMethod;e.showPreview&&Ee.previewImage&&Ee.previewImage({urlList:Te.map(He=>fe(He)),activeIndex:H,showDownloadButton:ne,beforeDownloadMethod:Ce?({index:He})=>Ce({$upload:X,option:Te[He]}):void 0})},Je=(ge,P)=>{const{showErrorStatus:H}=e,ne=ue(ge),Te=e.uploadMethod||Ge().upload.uploadMethod;if(Te)return Promise.resolve(Te({$upload:X,file:P,option:ge,updateProgress(Ce){const{fileCacheMaps:He}=C,Ze=He[ue(ge)];Ze&&(Ze.percent=Math.max(0,Math.min(99,l.toNumber(Ce))))}})).then(Ce=>{const{fileCacheMaps:He}=C,Ze=He[ne];Ze&&(Ze.percent=100,Ze.status="success"),Object.assign(ge,Ce),De("upload-success",{option:ge,data:Ce},null)}).catch(Ce=>{const{fileCacheMaps:He}=C,Ze=He[ne];Ze&&(Ze.status="error"),H?Object.assign(ge,Ce):C.fileList=C.fileList.filter(ct=>ue(ct)!==ne),De("upload-error",{option:ge,data:Ce},null)}).finally(()=>{const{fileCacheMaps:Ce}=C,He=Ce[ne];He&&(He.loading=!1)});{const{fileCacheMaps:Ce}=C,He=Ce[ne];He&&(He.loading=!1)}return Promise.resolve()},rt=ge=>{const{uploadMethod:P,urlMode:H}=e,{fileCacheMaps:ne}=C,Te=ue(ge),Ce=ne[Te];if((P||Ge().upload.uploadMethod)&&Ce){const Ze=Ce.file;Ce.loading=!0,Ce.status="pending",Ce.percent=0,Je(ge,Ze).then(()=>{H&&Se(C.fileList)})}},ze=(ge,P)=>{const{multiple:H,urlMode:ne,showLimitSize:Te,limitSizeText:Ce,showLimitCount:He,limitCountText:Ze,autoSubmit:ct}=e,{fileList:st}=C,ot=e.uploadMethod||Ge().upload.uploadMethod,Ue=N.value,zt=j.value,mo=J.value,Eo=B.value,_o=I.value,we=F.value,qe=V.value,It=ie.value;let $t=ge;if(H&&qe){if(He&&st.length>=qe){Ee.modal&&Ee.modal.notification({title:oo("vxe.modal.errTitle"),status:"error",content:Ze?`${l.isFunction(Ze)?Ze({maxCount:qe}):Ze}`:oo("vxe.upload.overCountErr",[qe])});return}const wt=$t.length-(qe-st.length);if(He&&wt>0){const Ft=$t.slice(qe-st.length);Ze?Ee.modal.notification({title:oo("vxe.modal.errTitle"),status:"error",content:`${l.isFunction(Ze)?Ze({maxCount:qe}):Ze}`}):Ee.modal&&Ee.modal.notification({title:oo("vxe.modal.errTitle"),status:"error",width:null,slots:{default(){return u("div",{class:"vxe-upload--file-message-over-error"},[u("div",{},oo("vxe.upload.overCountExtraErr",[qe,wt])),u("div",{class:"vxe-upload--file-message-over-extra"},Ft.map((Tt,to)=>u("div",{key:to,class:"vxe-upload--file-message-over-extra-item"},Tt.name)))])}}})}$t=$t.slice(0,qe-st.length)}if(Te&&we){for(let wt=0;wt<ge.length;wt++)if(ge[0].size>we){Ee.modal&&Ee.modal.notification({title:oo("vxe.modal.errTitle"),status:"error",content:Ce?`${l.isFunction(Ce)?Ce({maxSize:we}):Ce}`:oo("vxe.upload.overSizeErr",[It])});return}}const Ht=Object.assign({},C.fileCacheMaps),Rt=H?st:[],ht=[];$t.forEach(wt=>{const{name:Ft}=wt,Tt=Re(),to={[zt]:Ft,[mo]:Ie(Ft),[_o]:wt.size,[Eo]:URL.createObjectURL(wt),[Ue]:Tt};ot&&(Ht[Tt]={file:wt,loading:!!ct,status:"pending",percent:0});const qt=un(to);ot&&ct&&ht.push(Je(qt,wt)),Rt.push(qt)}),C.fileList=Rt,C.fileCacheMaps=Ht,Rt.forEach(wt=>{De("add",{option:wt},P)}),Promise.all(ne?ht:[]).then(()=>{Se(Rt),s&&i&&s.triggerItemEvent(P,i.itemConfig.field,Rt)})},Z=ge=>{const{multiple:P,imageTypes:H,fileTypes:ne}=e,Te=T.value,Ce=k.value;return Te?Promise.resolve({status:!1,files:[],file:null}):CE({multiple:P,types:Ce?H:ne}).then(He=>(ze(He.files,ge),He))},$e=ge=>{Z(ge).catch(()=>{})},ce=(ge,P,H)=>{const{fileList:ne}=C;ne.splice(H,1),Se(ne),s&&i&&s.triggerItemEvent(ge,i.itemConfig.field,ne),De("remove",{option:P},ge)},Ne=(ge,P,H)=>{const ne=e.beforeRemoveMethod||Ge().upload.beforeRemoveMethod,Te=e.removeMethod||Ge().upload.removeMethod;Promise.resolve(ne?ne({$upload:X,option:P}):!0).then(Ce=>{Ce?Te?Promise.resolve(Te({$upload:X,option:P})).then(()=>{ce(ge,P,H)}).catch(He=>He):ce(ge,P,H):De("remove-fail",{option:P},ge)})},Ke=(ge,P)=>{De("download",{option:P},ge)},dt=(ge,P)=>{const H=e.beforeDownloadMethod||Ge().upload.beforeDownloadMethod,ne=e.downloadMethod||Ge().upload.downloadMethod;Promise.resolve(H?H({$upload:X,option:P}):!0).then(Te=>{Te?ne?Promise.resolve(ne({$upload:X,option:P})).then(()=>{Ke(ge,P)}).catch(Ce=>Ce):Ke(ge,P):De("download-fail",{option:P},ge)})},ft=ge=>{const P=ge.currentTarget,{clientX:H,clientY:ne}=ge;if(P){const{x:Te,y:Ce,height:He,width:Ze}=P.getBoundingClientRect();(H<Te||H>Te+Ze||ne<Ce||ne>Ce+He)&&(C.isDragUploadStatus=!1)}},Vt=ge=>{const P=ge.dataTransfer;if(P){const{items:H}=P;H&&H.length&&(ge.preventDefault(),C.isDragUploadStatus=!0)}},bt=(ge,P)=>{const{imageTypes:H,fileTypes:ne}=e,{imagePreviewTypes:Te}=M;if(k.value){const He=Te.concat(H&&H.length?H:[]);P=P.filter(Ze=>{const ct=`${Ze.type.split("/")[1]||""}`.toLowerCase();return!!He.some(st=>`${st}`.toLowerCase()===ct)})}else if(ne&&ne.length){const He=[];if(P.forEach(Ze=>{const ct=Ie(Ze.name);ne.some(st=>`${st}`.toLowerCase()===ct)||He.push(ct)}),He.length){Ee.modal&&Ee.modal.message({content:oo("vxe.error.notType",[He.join(", ")]),status:"error"});return}}if(!P.length){Ee.modal&&Ee.modal.notification({title:oo("vxe.modal.errTitle"),status:"error",content:oo("vxe.upload.uploadTypeErr")});return}ze(P,ge)},vt=ge=>{const P=ge.dataTransfer;if(P){const{items:H}=P;if(H&&H.length){ge.preventDefault();const ne=Ot(H);ne.length&&bt(ge,ne)}}C.isDragUploadStatus=!1},Ot=ge=>{const P=[];return l.arrayEach(ge,H=>{const ne=H.getAsFile();ne&&P.push(ne)}),P},lt=ge=>{const P=p.value,H=k.value,ne=ge.$event;Ee.modal&&(Ee.modal.open({id:M.moreId,title:oo(P?"vxe.upload.morePopup.readTitle":`vxe.upload.morePopup.${H?"imageTitle":"fileTitle"}`),width:660,height:500,escClosable:!0,showMaximize:!0,resize:!0,maskClosable:!0,slots:{default(){const{showErrorStatus:Te,dragToUpload:Ce,dragSort:He}=e,{isActivated:Ze,isDragMove:ct,isDragUploadStatus:st,dragIndex:ot}=C,{fileList:Ue}=C,zt=T.value,mo=r.moreContent||r["more-content"],Eo={};return Ce&&ot===-1&&(Eo.onDragover=Vt,Eo.onDragleave=ft,Eo.onDrop=vt),u("div",Object.assign({ref:m,class:["vxe-upload--more-popup",{"is--readonly":P,"is--disabled":zt,"is--active":Ze,"show--error":Te,"is--drag":st}]},Eo),mo?Vo(mo({options:Ue})):[H?He?u(oi,{name:`vxe-upload--drag-list${ct?"":"-disabled"}`,tag:"div",class:"vxe-upload--image-more-list"},{default:()=>Be(Ue,!0).concat(Qe(!0))}):u("div",{class:"vxe-upload--image-more-list"},Be(Ue,!0).concat(Qe(!0))):u("div",{class:"vxe-upload--file-more-list"},[te(!0),He?u(oi,{name:`vxe-upload--drag-list${ct?"":"-disabled"}`,tag:"div",class:"vxe-upload--file-list"},{default:()=>mt(Ue,!1)}):u("div",{class:"vxe-upload--file-list"},mt(Ue,!0))]),He?u("div",{ref:D,class:"vxe-upload--drag-line"}):yo(),st?u("div",{class:"vxe-upload--drag-placeholder"},oo("vxe.upload.dragPlaceholder")):yo()])}},onShow(){C.showMorePopup=!0},onHide({$event:Te}){C.showMorePopup=!1,Te&&De("more-visible",{visible:!1},Te)}}),ne&&De("more-visible",{visible:!0},ne))},Et=(ge,P,H)=>{const{showMorePopup:ne}=C,Te=E.value,Ce=m.value,He=ne?Ce:Te;if(!He)return;const Ze=He.getBoundingClientRect(),ct=w.value,st=D.value,ot=ne?st:ct;if(ot){const Ue=P.getBoundingClientRect();ot.style.display="block",ot.style.top=`${Math.max(1,Ue.y-Ze.y)}px`,ot.style.left=`${Math.max(1,Ue.x-Ze.x)}px`,ot.style.height=`${Ue.height}px`,ot.style.width=`${Ue.width-1}px`,ot.setAttribute("drag-pos",H)}},Xt=()=>{const ge=w.value,P=D.value;ge&&(ge.style.display=""),P&&(P.style.display="")},jt=ge=>{ge.stopPropagation(),ge.dataTransfer&&ge.dataTransfer.setDragImage(mT(),0,0);const P=ge.currentTarget,H=P.parentElement,ne=l.findIndexOf(Array.from(H.children),Te=>P===Te);C.isDragMove=!0,C.dragIndex=ne,setTimeout(()=>{C.isDragMove=!1},500)},Gt=ge=>{ge.stopPropagation(),ge.preventDefault();const{dragIndex:P}=C;if(P===-1)return;const H=k.value,ne=ge.currentTarget,Te=ne.parentElement,Ce=l.findIndexOf(Array.from(Te.children),Ze=>ne===Ze);let He="";if(H?He=ge.clientX-ne.getBoundingClientRect().x<ne.clientWidth/2?"left":"right":He=ge.clientY-ne.getBoundingClientRect().y<ne.clientHeight/2?"top":"bottom",P===Ce){Et(ge,ne,He);return}Et(ge,ne,He),M.prevDragIndex=Ce,M.prevDragPos=He},Ct=ge=>{const{fileList:P,dragIndex:H}=C,{prevDragIndex:ne,prevDragPos:Te}=M,Ce=H,He=ne,Ze=Te==="bottom"||Te==="right"?1:0,ct=P[Ce],st=P[He];if(ct&&st){P.splice(Ce,1);const Ue=l.findIndexOf(P,zt=>st===zt)+Ze;P.splice(Ue,0,ct),De("sort-dragend",{oldItem:ct,newItem:st,dragPos:Te,offsetIndex:Ze,_index:{newIndex:Ue,oldIndex:Ce}},ge)}Xt(),C.dragIndex=-1},Nt=ge=>{d&&ge.stopPropagation(),C.isActivated=!0},_t=ge=>{const{pasteToUpload:P}=e,{isActivated:H}=C;if(!H||!P)return;const ne=ge.clipboardData||ge.originalEvent.clipboardData;if(!ne)return;const{items:Te}=ne;if(!Te)return;const Ce=Ot(Te);Ce.length&&(ge.preventDefault(),bt(ge,Ce))},ke=ge=>{const P=E.value,H=m.value;let ne=ar(ge,P).flag;if(!ne&&H){const Te=H.parentElement||H,Ce=Te&&Te.parentElement;ne=ar(ge,Ce).flag}C.isActivated=ne},Fe=()=>{C.isActivated=!1};Object.assign(X,{dispatchEvent:De,choose(){return Z(null)},submit(ge){const{maxSimultaneousUploads:P}=e,H=l.toNumber(P||1)||1,{fileList:ne,fileCacheMaps:Te}=C,Ce=ne.filter(ct=>{const st=ue(ct),ot=Te[st];return ot&&(ot.status==="pending"||ge&&ot.status==="error")}),He=ct=>{const st=ue(ct),ot=Te[st];if(ot){const Ue=ot.file;if(Ue&&(ot.status==="pending"||ge&&ot.status==="error"))return ot.loading=!0,ot.percent=0,Je(ct,Ue).then(Ze)}return Ze()},Ze=()=>{if(Ce.length){const ct=Ce[0];return Ce.splice(0,1),He(ct).then(Ze)}return Promise.resolve()};return Promise.all(Ce.splice(0,H).map(He)).then(()=>{})},getMoreVisible(){return C.showMorePopup},openMore(){return lt({$event:new Event("click")}),pe()},openMoreByEvent(ge){return lt({$event:ge}),pe()},closeMore(){return Ee.modal&&Ee.modal.close(M.moreId),pe()}},{});const mt=(ge,P)=>{const{showRemoveButton:H,showDownloadButton:ne,showProgress:Te,progressText:Ce,showPreview:He,showErrorStatus:Ze,dragSort:ct,autoSubmit:st,showSubmitButton:ot}=e,{fileList:Ue,fileCacheMaps:zt}=C,mo=T.value,Eo=p.value,_o=j.value,we=J.value,qe=r.option,It=r.action,$t=r.corner,Ht=r.name,Rt={};return ct&&ge.length>1&&(Rt.onDragstart=jt,Rt.onDragover=Gt,Rt.onDragend=Ct),ge.map((ht,wt)=>{const Ft=ue(ht),Tt=zt[Ft];let to=!1,qt=!1,ro=!1;const ho=`${ht[_o]||""}`;return Tt&&(to=Tt.loading,qt=Tt.status==="error",ro=Tt.status==="pending"),u("div",Object.assign({key:ct?Ft:wt,class:["vxe-upload--file-item",{"is--preview":He,"is--loading":to,"is--pending":ro,"is--error":qt}],fileid:Ft,draggable:ct?!0:null},Rt),qe?Vo(qe({option:ht,isMoreView:P,options:Ue})):[u("div",{class:"vxe-upload--file-item-icon"},[u("i",{class:vo()[`UPLOAD_FILE_TYPE_${`${ht[we]}`.toLocaleUpperCase()}`]||vo().UPLOAD_FILE_TYPE_DEFAULT})]),u("div",{class:"vxe-upload--file-item-name",title:ho,onClick(Ho){!to&&!qt&&Pe(Ho,ht)}},Ht?Vo(Ht({option:ht,isMoreView:P,options:Ue})):ho),to?u("div",{class:"vxe-upload--file-item-loading-icon"},[u("i",{class:vo().UPLOAD_LOADING})]):yo(),Te&&to&&Tt?u("div",{class:"vxe-upload--file-item-loading-text"},Ce?l.toFormatString(`${l.isFunction(Ce)?Ce({}):Ce}`,{percent:Tt.percent}):oo("vxe.upload.uploadProgress",[Tt.percent])):yo(),!to&&(qt&&Ze||ro&&ot&&!st)?u("div",{class:"vxe-upload--file-item-rebtn"},[u(lr,{icon:qt?vo().UPLOAD_IMAGE_RE_UPLOAD:vo().UPLOAD_IMAGE_UPLOAD,mode:"text",status:"primary",content:oo(qt?"vxe.upload.reUpload":"vxe.upload.manualUpload"),onClick(){rt(ht)}})]):yo(),u("div",{class:"vxe-upload--file-item-btn-wrapper"},It?Vo(It({option:ht,isMoreView:P,options:Ue,readonly:Eo})):[$t?u("div",{class:"vxe-upload--file-item-action"},Vo($t({option:ht,isMoreView:P,options:Ue,readonly:Eo}))):yo(),ne&&!(to||ro)?u("div",{class:"vxe-upload--file-item-download-btn",onClick(Ho){dt(Ho,ht)}},[u("i",{class:vo().UPLOAD_FILE_DOWNLOAD})]):yo(),H&&!Eo&&!mo&&!to?u("div",{class:"vxe-upload--file-item-remove-btn",onClick(Ho){Ne(Ho,ht,wt)}},[u("i",{class:vo().UPLOAD_FILE_REMOVE})]):yo()])])})},te=ge=>{const{showUploadButton:P,buttonText:H,buttonIcon:ne,showButtonText:Te,showButtonIcon:Ce,autoHiddenButton:He}=e,{fileList:Ze}=C,ct=T.value,st=p.value,ot=U.value,Ue=_.value,zt=W.value,mo=r.default,Eo=r.tip||r.hint;return st||!P?yo():u("div",{class:"vxe-upload--file-action"},[He&&zt?yo():u("div",{class:"vxe-upload--file-action-btn",onClick:$e},mo?Vo(mo({isMoreView:ge,options:Ze,$upload:X})):[u(lr,{class:"vxe-upload--file-action-button",content:ge||Te?H?`${l.isFunction(H)?H({}):H}`:oo("vxe.upload.fileBtnText"):"",icon:Ce?ne||vo().UPLOAD_FILE_ADD:"",disabled:ct})]),ot&&(Ue||Eo)?u("div",{class:"vxe-upload--file-action-tip"},Eo?Vo(Eo({isMoreView:ge,options:Ze,$upload:X})):`${Ue}`):yo()])},_e=()=>{const{showList:ge,moreConfig:P,dragSort:H}=e,{fileList:ne,isDragMove:Te}=C,Ce=ye.value,{maxCount:He,showMoreButton:Ze,layout:ct}=Ce,st=ct==="horizontal",ot=r.moreButton||r["more-button"];let Ue=ne,zt=0;return He&&ne.length>He&&(zt=ne.length-He,Ue=ne.slice(0,He)),u("div",{key:"all",class:"vxe-upload--file-wrapper"},ge?[Ze&&P&&st?yo():te(!0),Ue.length||Ze&&st?u("div",{class:["vxe-upload--file-list-wrapper",{"is--horizontal":st}]},[Ue.length?H?u(oi,{name:`vxe-upload--drag-list${Te?"":"-disabled"}`,tag:"div",class:"vxe-upload--file-list"},{default:()=>mt(Ue,!1)}):u("div",{class:"vxe-upload--file-list"},mt(Ue,!1)):yo(),Ze&&zt?u("div",{class:"vxe-upload--file-over-more"},ot?Vo(ot({options:ne})):[u(lr,{mode:"text",content:oo("vxe.upload.moreBtnText",[ne.length]),status:"primary",onClick:lt})]):yo(),Ze&&P&&st?te(!1):yo()]):yo()]:[te(!1)])},Be=(ge,P)=>{const{showRemoveButton:H,showProgress:ne,progressText:Te,showPreview:Ce,showErrorStatus:He,dragSort:Ze,autoSubmit:ct,showSubmitButton:st}=e,{fileList:ot,fileCacheMaps:Ue}=C,zt=T.value,mo=p.value,Eo=z.value,_o=se.value,we=r.option,qe=r.action,It=r.corner,$t={onMousedown:Nt};return Ze&&ge.length>1&&($t.onDragstart=jt,$t.onDragover=Gt,$t.onDragend=Ct),ge.map((Ht,Rt)=>{const ht=ue(Ht),wt=Ue[ht];let Ft=!1,Tt=!1,to=!1;return wt&&(Ft=wt.loading,Tt=wt.status==="error",to=wt.status==="pending"),u("div",Object.assign({key:Ze?ht:Rt,class:["vxe-upload--image-item",{"is--preview":Ce,"is--circle":Eo.circle,"is--loading":Ft,"is--pending":to,"is--error":Tt}],fileid:ht,draggable:Ze?!0:null},$t),we?Vo(we({option:Ht,isMoreView:P,options:ot})):[u("div",{class:"vxe-upload--image-item-box",style:P?null:_o,onClick(qt){!Ft&&!Tt&&tt(qt,Ht,Rt)}},[Ft&&wt?u("div",{class:"vxe-upload--image-item-loading"},[u("div",{class:"vxe-upload--image-item-loading-icon"},[u("i",{class:vo().UPLOAD_LOADING})]),ne?u("div",{class:"vxe-upload--image-item-loading-text"},Te?l.toFormatString(`${l.isFunction(Te)?Te({}):Te}`,{percent:wt.percent}):oo("vxe.upload.uploadProgress",[wt.percent])):yo()]):yo(),u("div",{class:"vxe-upload--image-item-img-wrapper",title:oo("vxe.upload.viewItemTitle")},[u("img",{class:"vxe-upload--image-item-img",src:xe(Ht)})]),!Ft&&(Tt&&He||to&&st&&!ct)?u("div",{class:"vxe-upload--image-item-rebtn"},[u(lr,{icon:Tt?vo().UPLOAD_IMAGE_RE_UPLOAD:vo().UPLOAD_IMAGE_UPLOAD,mode:"text",status:"primary",content:oo(Tt?"vxe.upload.reUpload":"vxe.upload.manualUpload"),onClick(){rt(Ht)}})]):yo(),u("div",{class:"vxe-upload--image-item-btn-wrapper",onClick(qt){qt.stopPropagation()}},qe?Vo(qe({option:Ht,isMoreView:P,options:ot,readonly:mo})):[It?u("div",{class:"vxe-upload--file-item-action"},Vo(It({option:Ht,isMoreView:P,options:ot,readonly:mo}))):yo(),H&&!mo&&!zt&&!Ft?u("div",{class:"vxe-upload--image-item-remove-btn",onClick(qt){qt.stopPropagation(),Ne(qt,Ht,Rt)}},[u("i",{class:vo().UPLOAD_IMAGE_REMOVE})]):yo()])])])})},Qe=ge=>{const{showUploadButton:P,buttonText:H,buttonIcon:ne,showButtonText:Te,showButtonIcon:Ce,autoHiddenButton:He}=e,{fileList:Ze}=C,ct=p.value,st=U.value,ot=_.value,Ue=W.value,zt=se.value,mo=r.default,Eo=r.tip||r.hint;return ct||!P||He&&Ue?yo():u("div",{key:"action",class:"vxe-upload--image-action"},[u("div",{class:"vxe-upload--image-action-btn",onClick:$e},mo?mo({isMoreView:ge,options:Ze,$upload:X}):[u("div",{class:"vxe-upload--image-action-box",style:ge?null:zt},[Ce?u("div",{class:"vxe-upload--image-action-icon"},[u("i",{class:ne||vo().UPLOAD_IMAGE_ADD})]):yo(),ge||Te?u("div",{class:"vxe-upload--image-action-content"},H?`${l.isFunction(H)?H({}):H}`:oo("vxe.upload.imgBtnText")):yo(),st&&(ot||Eo)?u("div",{class:"vxe-upload--image-action-hint"},Eo?Vo(Eo({isMoreView:ge,options:Ze,$upload:X})):`${ot}`):yo()])])])},at=()=>{const{showList:ge,dragSort:P}=e,{fileList:H,isDragMove:ne}=C,Te=ye.value,Ce=r.moreButton||r["more-button"],{maxCount:He,showMoreButton:Ze}=Te;let ct=H,st=0;return He&&H.length>He&&(st=H.length-He,ct=H.slice(0,He)),u("div",{key:"image",class:"vxe-upload--image-wrapper"},ge?[P?u(oi,{name:`vxe-upload--drag-list${ne?"":"-disabled"}`,tag:"div",class:"vxe-upload--image-list"},{default:()=>Be(ct,!1).concat([Ze&&st?u("div",{key:"om",class:"vxe-upload--image-over-more"},Ce?Vo(Ce({options:H})):[u(lr,{mode:"text",content:oo("vxe.upload.moreBtnText",[H.length]),status:"primary",onClick:lt})]):yo(),Qe(!1)])}):u("div",{class:"vxe-upload--image-list"},Be(ct,!1).concat([Ze&&st?u("div",{class:"vxe-upload--image-over-more"},Ce?Vo(Ce({options:H})):[u(lr,{mode:"text",content:oo("vxe.upload.moreBtnText",[H.length]),status:"primary",onClick:lt})]):yo(),Qe(!1)]))]:[u("div",{class:"vxe-upload--image-list"},[Qe(!1)])])},yt=()=>{const{showErrorStatus:ge,dragToUpload:P,pasteToUpload:H,dragSort:ne}=e,{isDragUploadStatus:Te,showMorePopup:Ce,isActivated:He,dragIndex:Ze}=C,ct=f.value,st=T.value,ot=p.value,Ue=k.value,zt={onMousedown:Nt};return P&&Ze===-1&&(zt.onDragover=Vt,zt.onDragleave=ft,zt.onDrop=vt),u("div",Object.assign({ref:E,class:["vxe-upload",{[`size--${ct}`]:ct,"is--active":He,"is--readonly":ot,"is--disabled":st,"is--paste":H,"show--error":ge,"is--drag":Te}]},zt),[Ue?at():_e(),ne?u("div",{ref:w,class:"vxe-upload--drag-line"}):yo(),Te&&!Ce?u("div",{class:"vxe-upload--drag-placeholder"},oo("vxe.upload.dragPlaceholder")):yo()])},Xe=xt(0);return no(()=>e.modelValue?e.modelValue.length:0,()=>{Xe.value++}),no(()=>e.modelValue,()=>{Xe.value++}),no(Xe,()=>{Q()}),sr(()=>{e.multiple&&e.singleMode&&Jg("vxe.error.errConflicts",["[upload] multiple","single-mode"]),e.imageStyle&&Pl("vxe.error.delProp",["[upload] image-style","image-config"]),e.dragSort&&aE(),Qt.on(X,"paste",_t),Qt.on(X,"mousedown",ke),Qt.on(X,"blur",Fe)}),mr(()=>{C.isDragUploadStatus=!1,Qt.off(X,"paste"),Qt.off(X,"mousedown"),Qt.off(X,"blur")}),Q(),X.renderVN=yt,X},render(){return this.renderVN()}}),yE=Object.assign({},Ks,{install(e){e.component(Ks.name,Ks)}});Cr.use(yE);Ee.component(Ks);Ee.saveFile=LT;Ee.readFile=CE;var Li={},aC;function NT(){return aC||(aC=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.default=void 0,Li.default={vxe:{base:{pleaseInput:"Please enter",pleaseSelect:"Please select",comma:"",fullStop:""},loading:{text:"Loading..."},error:{downErr:"Download failed",errLargeData:"When the amount of bound data is too large, please use {0}, otherwise it may cause lag",groupFixed:"If using grouped headers, the frozen column must be set by group",groupMouseRange:'The grouping header cannot be used at the same time as "{0}" and this may cause an error',groupTag:'Grouping column headers should use "{0}" instead of "{1}", which may cause errors',scrollErrProp:'This parameter "{0}" is not supported after virtual scrolling is enabled',errConflicts:'Parameter "{0}" conflicts with "{1}"',modelConflicts:'The bound field values "{0}" and "{1}" conflict, an error will occur.',notSupportProp:'"{1}" is not supported when the parameter "{0}" is enabled, it should be "{2}", otherwise an error will occur',reqSupportProp:'When using "{0}", "{1}" should be set; otherwise, an error may occur.',notConflictProp:'When using "{0}", "{1}" should be set, otherwise there may be functional conflicts',unableInsert:"Cannot be inserted into the specified location, please check whether the parameters are correct",useErr:'An error occurred while installing the "{0}" module. The order may be incorrect. The dependent module needs to be installed before Table',barUnableLink:"The toolbar cannot associate tables",expandContent:'The slot for the expanded line should be "content", please check if it is correct',reqComp:'The "{0}" component is missing, please check if it is installed correctly. https://vxeui.com/#/start/useGlobal',reqModule:'Missing "{0}" module',reqProp:'The necessary "{0}" parameter is missing, which may cause an error',emptyProp:'Parameter "{0}" is not allowed to be empty',errProp:'Unsupported parameter "{0}", possibly "{1}"',colRepet:'column.{0}="{1}" is repeated, which may cause some functions to become unusable',notFunc:'Method "{0}" does not exist',errFunc:'Parameter "{0}" is not a method',notValidators:'Global verification "{0}" does not exist',notFormats:'Global formatting "{0}" does not exist',notCommands:'The global directive "{0}" does not exist',notSlot:'Slot "{0}" does not exist',noTree:'"{0}" is not supported in the tree structure',noGroup:'"{0}" is not supported in the aggregation grouping',notProp:'Unsupported parameter "{0}"',checkProp:'When the data volume is too large, the check box may be stuttered. It is recommended to set the parameter "{0}" to improve rendering speed',coverProp:'The parameter "{1}" of "{0}" is repeatedly defined, which may cause an error',uniField:'The field name "{0}" is repeatedly defined, which may cause an error',repeatKey:'Repeat the primary key {0}="{1}", which may cause an error',repeatProp:'Repeat parameters {0}="{1}", which may cause an error',delFunc:'Method "{0}" is deprecated, please use "{1}"',delProp:'Parameter "{0}" is deprecated, please use "{1}"',delEvent:'Event "{0}" is deprecated, please use "{1}"',removeProp:'Parameter "{0}" is deprecated and is not recommended, which may cause an error',errFormat:'Global formatted content should be defined using "VXETable.formats" and the method of mounting "formatter={0}" is no longer recommended.',notType:'Unsupported file type "{0}"',notExp:"This browser does not support import/export function",impFields:"The import failed. Please check whether the field name and data format are correct.",treeNotImp:"Tree tables do not support import",treeCrossDrag:"Only drag the first level",treeDragChild:"Parents cannot drag to their own children",reqPlugin:'"{1}" is not installed at https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"Exceeding the maximum supported data volume {0} rows, this may cause an error",useNew:"It is not recommended to use {0}. Please use {1} instead.",errorVersion:"Version mismatch. Current version is {0}, while the minimum supported version is {1}."},table:{emptyText:"No data yet",allTitle:"Select all/cancel",seqTitle:"No.",actionTitle:"Operate",confirmFilter:"Filter",resetFilter:"Reset",allFilter:"All",sortAsc:"Ascending order: lowest to highest",sortDesc:"Descending order: highest to lowest",filter:"Enable filtering for selected columns",impSuccess:"Successfully imported {0} records",expLoading:"Exporting",expSuccess:"Export successfully",expError:"Export failed",expFilename:"Export_{0}",expOriginFilename:"Export_source_{0}",customTitle:"Column settings",customAll:"All",customConfirm:"Confirm",customClose:"Closure",customCancel:"Cancel",customRestore:"Restore default",maxFixedCol:"The maximum number of frozen columns cannot exceed {0}",maxGroupCol:"The maximum number of grouping fields cannot exceed {0}",dragTip:"Move: {0}",resizeColTip:"Width: {0} pixels",resizeRowTip:"Height: {0} pixels",rowGroupContentTotal:"{0} ({1})",menuLoading:"..."},grid:{selectOneRecord:"Please select at least one record!",deleteSelectRecord:"Are you sure you want to delete the selected record?",removeSelectRecord:"Are you sure you want to remove the selected record?",dataUnchanged:"Data not changed!",delSuccess:"The selected record was successfully deleted!",saveSuccess:"Save successfully!",operError:"An error occurred and the operation failed!"},select:{clear:"Clear",allChecked:"All",total:"{0} / {1}",search:"Search",loadingText:"Loading",emptyText:"No data yet",maxOpt:"The maximum number that can be selected cannot exceed {0}.",overSizeErr:"The maximum selectable quantity of {0} has been exceeded. The excess part will be ignored!",searchEmpty:"No matching data found!"},tree:{searchEmpty:""},treeSelect:{clearChecked:"Clear",allChecked:"Check all",allExpand:"Expand all",clearExpand:"Collapse all",total:"Selected {0}",search:"Search",emptyText:"No data yet"},pager:{goto:"Go",gotoTitle:"Number of pages",pagesize:"{0} items/page",total:"Total {0} records",pageClassifier:"Page",homePage:"front page",homePageTitle:"front page",prevPage:"Previous page",prevPageTitle:"Previous page",nextPage:"Next page",nextPageTitle:"Next page",prevJump:"Jump up page",prevJumpTitle:"Jump up page",nextJump:"Jump down page",nextJumpTitle:"Jump down page",endPage:"Last page",endPageTitle:"Last page"},alert:{title:"System prompts"},button:{confirm:"Confirm",cancel:"Cancel",clear:"Clear"},filter:{search:"search"},custom:{cstmTitle:"Column settings",cstmRestore:"Restore default",cstmCancel:"Cancel",cstmConfirm:"Sure",cstmConfirmRestore:"Please confirm whether it is restored to the default column configuration?",cstmDragTarget:"Move: {0}",setting:{colSort:"Sort",sortHelpTip:"Click and drag the icons to adjust the order.",colTitle:"Column title",colResizable:"Column width (pixels)",colVisible:"Whether to display",colFixed:"Freeze column",colFixedMax:"Freeze columns (up to {0} columns)",fixedLeft:"Left side",fixedUnset:"Not set",fixedRight:"Right side"}},import:{modes:{covering:"Overwrite method (directly overwrite table data)",insert:"Append at the bottom (append new data at the bottom of the table)",insertTop:"Append at the top (append new data at the top of the table)",insertBottom:"Append at the bottom (append new data at the bottom of the table)"},impTitle:"Import data",impFile:"File name",impSelect:"Select file",impType:"File type",impOpts:"Parameter settings",impMode:"Import mode",impConfirm:"Import",impCancel:"Cancel"},export:{types:{csv:"CSV (comma separated)(*.csv)",html:"Web page (*.html)",xml:"XML data (*.xml)",txt:"Text file (tab separated)(*.txt)",xls:"Excel 97-2003 Workbook (*.xls)",xlsx:"Excel workbook (*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"Empty data",current:"Current data (data on the current page)",selected:"Selected data (data selected on the current page)",all:"Full data (including all paged data)"},printTitle:"Print data",expTitle:"Export data",expName:"File name",expNamePlaceholder:"Please enter a file name",expSheetName:"Title",expSheetNamePlaceholder:"Please enter a title",expType:"Save type",expMode:"Select data",expCurrentColumn:"All fields",expColumn:"Select field",expOpts:"Parameter settings",expOptHeader:"Header",expHeaderTitle:"Is the table header required",expOptFooter:"End of table",expFooterTitle:"Is the end of the table required?",expOptColgroup:"Grouping header",expOptTitle:"Column title",expTitleTitle:"Whether it is the column title, otherwise it will be displayed as the column's field name",expColgroupTitle:"If present, a header with a grouping structure is supported",expOptMerge:"merge",expMergeTitle:"If present, cells with merged structures are supported",expOptAllExpand:"Expand the tree",expAllExpandTitle:"If it exists, it is supported to expand all data with hierarchical structures",expOptUseStyle:"style",expUseStyleTitle:"If present, cells with style are supported",expOptOriginal:"Source data",expOriginalTitle:"If it is source data, import into tables is supported",expPrint:"Print",expConfirm:"Export",expCancel:"Cancel"},modal:{errTitle:"Error message",zoomMin:"Minimize",zoomIn:"maximize",zoomOut:"reduction",close:"closure",miniMaxSize:"The number of minimized windows cannot exceed {0}",footPropErr:"show-footer is only used to enable the table tail, and must be used with show-confirm-button | show-cancel-button | slots"},drawer:{close:"closure"},form:{folding:"Close",unfolding:"Expand"},toolbar:{import:"Import",export:"Export",print:"Print",refresh:"Refresh",zoomIn:"Full screen",zoomOut:"reduction",custom:"Column settings",customAll:"All",customConfirm:"Confirm",customRestore:"Reset",fixedLeft:"Freeze left",fixedRight:"Freeze right",cancelFixed:"Unfreeze"},datePicker:{yearTitle:"{0} years"},dateRangePicker:{pleaseRange:"Please select the date time and the end date"},input:{date:{m1:"January",m2:"February",m3:"March",m4:"April",m5:"May",m6:"June",m7:"July",m8:"August",m9:"September",m10:"October",m11:"November",m12:"December",quarterLabel:"{0} years",monthLabel:"{0} years",dayLabel:"{0} year {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"Week WW of year yyyy",month:"yyyy-MM",quarter:"quarter q of year yyyy",year:"yyyy"},weeks:{w:"",w0:"Sun",w1:"Mon",w2:"Tue",w3:"Wed",w4:"Thu",w5:"Fri",w6:"Sat"},months:{m0:"January",m1:"February",m2:"March",m3:"April",m4:"May",m5:"June",m6:"July",m7:"August",m8:"September",m9:"October",m10:"November",m11:"December"},quarters:{q1:"First quarter",q2:"Second quarter",q3:"Third quarter",q4:"Fourth quarter"}}},numberInput:{currencySymbol:"$"},imagePreview:{popupTitle:"Preview",operBtn:{zoomOut:"Shrink",zoomIn:"enlarge",pctFull:"Scaling equally",pct11:"Show original size",rotateLeft:"Rotate left",rotateRight:"Rotate to the right",print:"Click to print the picture",download:"Click to download the picture"}},upload:{fileBtnText:"Click or drag to upload",imgBtnText:"Click or drag to upload",dragPlaceholder:"Please drag and drop the file to this area to upload",imgSizeHint:"Leaflet {0}",imgCountHint:"Maximum {0} pictures",fileTypeHint:"Support {0} file types",fileSizeHint:"A single file size does not exceed {0}",fileCountHint:"Up to {0} files can be uploaded",uploadTypeErr:"File type mismatch!",overCountErr:"Only {0} files can be selected at most!",overCountExtraErr:"The maximum number of {0} has been exceeded, and the excess {1} files will be ignored!",overSizeErr:"The maximum file size cannot exceed {0}!",manualUpload:"",reUpload:"Re-upload",uploadProgress:"Uploading {0}%",uploadErr:"Upload failed",uploadSuccess:"Upload successfully",moreBtnText:"More ({0})",viewItemTitle:"Click to view",morePopup:{readTitle:"View list",imageTitle:"Upload pictures",fileTitle:"Upload file"}},empty:{defText:"No data yet"},colorPicker:{clear:"Clear",confirm:"Confirm",copySuccess:"Copyed to clipboard: {0}",hex:"HEX"},formDesign:{formName:"Form name",defFormTitle:"Unnamed form",widgetPropTab:"Control Properties",widgetFormTab:"Form Properties",error:{wdFormUni:"This type of control is allowed to add only one in the form",wdSubUni:"This type of control is allowed to add only one in the subtable"},styleSetting:{btn:"Style settings",title:"Form style settings",layoutTitle:"Control layout",verticalLayout:"Top and bottom layout",horizontalLayout:"Horizontal layout",styleTitle:"Title style",boldTitle:"Title bold",fontBold:"Bold",fontNormal:"conventional",colonTitle:"Show colon",colonVisible:"show",colonHidden:"hide",alignTitle:"Alignment",widthTitle:"Title Width",alignLeft:"On the left",alignRight:"On the right",unitPx:"Pixels",unitPct:"percentage"},widget:{group:{base:"Basic controls",layout:"Layout Controls",system:"System Controls",module:"Module controls",chart:"Chart control",advanced:"Advanced Controls"},copyTitle:"Copy_{0}",component:{input:"Input box",textarea:"Text field",select:"Pull down to select",row:"One row and multiple columns",title:"title",text:"text",subtable:"Sub-table",VxeSwitch:"whether",VxeInput:"Input box",VxeNumberInput:"number",VxeDatePicker:"date",VxeTextarea:"Text field",VxeSelect:"Pull down to select",VxeTreeSelect:"Tree selection",VxeRadioGroup:"Radio button",VxeCheckboxGroup:"Checkbox",VxeUploadFile:"document",VxeUploadImage:"picture",VxeRate:"score",VxeSlider:"slider"}},widgetProp:{name:"Control name",placeholder:"Prompt",required:"Required verification",multiple:"Multiple choices are allowed",displaySetting:{name:"Display settings",pc:"PC",mobile:"Mobile",visible:"show",hidden:"hide"},dataSource:{name:"Data Source",defValue:"Option {0}",addOption:"Add options",batchEditOption:"Batch editing",batchEditTip:"Each row corresponds to an option, which supports direct copy and paste from tables, Excel, and WPS.",batchEditSubTip:"Each row corresponds to an option. If it is a group, the child items can start with a space or a tab key, and it supports direct copy and paste from tables, Excel, and WPS.",buildOption:"Build options"},rowProp:{colSize:"Number of columns",col2:"Two columns",col3:"Three columns",col4:"Four columns",col6:"Six columns",layout:"layout"},textProp:{name:"content",alignTitle:"Alignment",alignLeft:"On the left",alignCenter:"Center",alignRight:"On the right",colorTitle:"Font color",sizeTitle:"Font size",boldTitle:"Bold font",fontNormal:"conventional",fontBold:"Bold"},subtableProp:{seqTitle:"No.",showSeq:"Show serial number",showCheckbox:"Multiple choices are allowed",errSubDrag:"The subtable does not support this control, please use other controls",colPlace:"Drag the control in"},uploadProp:{limitFileCount:"File quantity limit",limitFileSize:"File size limit",multiFile:"Allow multiple files to be uploaded",limitImgCount:"Limit number of pictures",limitImgSize:"Image size limit",multiImg:"Allow multiple pictures to upload"}}},listDesign:{fieldSettingTab:"Field settings",listSettingTab:"Parameter settings",searchTitle:"Query criteria",listTitle:"List field",searchField:"Query fields",listField:"List field",activeBtn:{ActionButtonUpdate:"edit",ActionButtonDelete:"delete"},search:{addBtn:"edit",emptyText:"Query conditions not configured",editPopupTitle:"Edit query fields"},searchPopup:{colTitle:"title",saveBtn:"save"}},text:{copySuccess:"Copyed to clipboard",copyError:"The current environment does not support this operation"},countdown:{formats:{yyyy:"Year",MM:"moon",dd:"sky",HH:"hour",mm:"point",ss:"Second"}},gantt:{tFullFormat:{year:"{yy}",quarter:"Quarter {q} of year {yy}",month:"{yy}-{M}",week:"Week {W} of year {yy}",day:"{yy}-{M}-{d}",hour:"{yy}-{M}-{d} {H}",minute:"{yy}-{M}-{d} {H}:{m}"},tSimpleFormat:{year:"{yy}",quarter:"Quarter {q}",month:"{M}",week:"Week {W}",day:"{d}",hour:"{H}",minute:"{m}"},dayss:{w0:"Sun",w1:"Mon",w2:"Tue",w3:"Wed",w4:"Thu",w5:"Fri",w6:"Sat"}},plugins:{extendCellArea:{area:{mergeErr:"This operation cannot be performed on merged cells",multiErr:"This operation cannot be performed on multiple selection areas",selectErr:"Unable to operate on cells in the specified range",extendErr:"If the extended range contains merged cells, all merged cells must be the same size",pasteMultiErr:"Unable to paste, the copied and pasted areas need to be of the same size to perform this operation",cpInvalidErr:"The operation cannot be performed. There are prohibited columns ({0}) in the range you selected."},fnr:{title:"Find and replace",findLabel:"Find",replaceLabel:"replace",findTitle:"Find what:",replaceTitle:"Replace with:",tabs:{find:"Find",replace:"replace"},filter:{re:"Regular expressions",whole:"Full word matching",sensitive:"case sensitive"},btns:{findNext:"Find next",findAll:"Find all",replace:"replace",replaceAll:"Replace all",cancel:"Cancel"},header:{seq:"#",cell:"Cell",value:"value"},body:{row:"Row: {0}",col:"Column: {0}"},empty:"(Null value)",reError:"Invalid regular expression",recordCount:"{0} cells found",notCell:"The matching cell cannot be found",replaceSuccess:"Successfully replaced {0} cells"}},extendPivotTable:{aggregation:{grouping:"Group",values:"Values",groupPlaceholder:"Drag here to set row groups",valuesPlaceholder:"Drag here to aggregate",dragExistCol:"The column already exists",sortHelpTip:"Click and drag the icons to adjust the order."},aggFuncs:{sum:"Sum",count:"Count",avg:"Avg",min:"Min",max:"Max",first:"First",last:"Last"}},filterComplexInput:{menus:{fixedColumn:"Freeze column",fixedGroup:"Freeze group",cancelFixed:"Unfreeze",fixedLeft:"Freeze left",fixedRight:"Freeze right"},cases:{equal:"equal",gt:"Greater",lt:"Less",begin:"Start",endin:"End",include:"Include",isSensitive:"case sensitive"}},filterCombination:{menus:{sort:"Sort",clearSort:"Clear sort",sortAsc:"Ascending order",sortDesc:"descending order",fixedColumn:"Freeze column",fixedGroup:"Freeze group",cancelFixed:"Unfreeze",fixedLeft:"Freeze left",fixedRight:"Freeze right",clearFilter:"Clear Filter",textOption:"Text filter",numberOption:"Numerical filter"},popup:{title:"Custom filtering methods",currColumnTitle:"Current column:",and:"and",or:"or",describeHtml:"Available? Represents a single character<br/>Use * Represents any multiple characters"},cases:{equal:"equal",unequal:"Not equal",gt:"Greater",ge:"Greater or equal",lt:"Less",le:"Less or equal",begin:"Start",notbegin:"It's not at the beginning",endin:"End",notendin:"The ending is not",include:"Include",exclude:"Not included",between:"Between",custom:"Custom filter",insensitive:"Case insensitive",isSensitive:"case sensitive"},empty:"(blank)",notData:"No match"}},pro:{area:{mergeErr:"This operation cannot be performed on merged cells",multiErr:"This operation cannot be performed on multiple selection areas",extendErr:"If the extended range contains merged cells, all merged cells must be the same size",pasteMultiErr:"Unable to paste, the copied and pasted areas need to be of the same size to perform this operation"},fnr:{title:"Find and replace",findLabel:"Find",replaceLabel:"replace",findTitle:"Find content:",replaceTitle:"Replace with:",tabs:{find:"Find",replace:"replace"},filter:{re:"Regular expressions",whole:"Full word matching",sensitive:"case sensitive"},btns:{findNext:"Find next",findAll:"Find all",replace:"replace",replaceAll:"Replace all",cancel:"Cancel"},header:{seq:"#",cell:"Cell",value:"value"},empty:"(Null value)",reError:"Invalid regular expression",recordCount:"{0} cells found",notCell:"No matching cell found",replaceSuccess:"Successfully replaced {0} cells"}},renderer:{search:"search",cases:{equal:"equal",unequal:"Not equal",gt:"Greater",ge:"Greater or equal",lt:"Less",le:"Less or equal",begin:"Start",notbegin:"It's not at the beginning",endin:"End",notendin:"The ending is not",include:"Include",exclude:"Not included",between:"Between",custom:"Custom filter",insensitive:"Case insensitive",isSensitive:"case sensitive"},combination:{menus:{sort:"Sort",clearSort:"Clear sort",sortAsc:"Ascending order",sortDesc:"descending order",fixedColumn:"Freeze column",fixedGroup:"Freeze group",cancelFixed:"Unfreeze",fixedLeft:"Freeze left",fixedRight:"Freeze right",clearFilter:"Clear Filter",textOption:"Text filtering",numberOption:"Numerical filtering"},popup:{title:"Custom filtering methods",currColumnTitle:"Current column:",and:"and",or:"or",describeHtml:"Available? Represents a single character<br/>Use * Represents any multiple characters"},empty:"(blank)",notData:"No match"}}}}),Li}var $T=NT();const _T=Ag($T);var Ni={},iC;function HT(){return iC||(iC=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.default=void 0,Ni.default={vxe:{base:{pleaseInput:"",pleaseSelect:"",comma:"",fullStop:""},loading:{text:"..."},error:{downErr:"",errLargeData:" {0}",groupFixed:"",groupMouseRange:' "{0}" ',groupTag:' "{0}"  "{1}"',scrollErrProp:' "{0}"',errConflicts:' "{0}"  "{1}" ',modelConflicts:' "{0}"  "{1}" ',notSupportProp:' "{0}"  "{1}" "{2}"',reqSupportProp:' "{0}"  "{1}"',notConflictProp:' "{0}"  "{1}"',unableInsert:"",useErr:' "{0}"  Table ',barUnableLink:"",expandContent:' "content"',reqComp:' "{0}"  https://vxeui.com/#/start/useGlobal',reqModule:' "{0}" ',reqProp:' "{0}" ',emptyProp:' "{0}" ',errProp:' "{0}" "{1}"',colRepet:'column.{0}="{1}" ',notFunc:' "{0}" ',errFunc:' "{0}" ',notValidators:' "{0}" ',notFormats:' "{0}" ',notCommands:' "{0}" ',notSlot:' "{0}" ',noTree:' "{0}"',noGroup:' "{0}"',notProp:' "{0}"',checkProp:' "{0}" ',coverProp:'"{0}"  "{1}" ',uniField:' "{0}" ',repeatKey:' {0}="{1}"',repeatProp:' {0}="{1}"',delFunc:' "{0}"  "{1}"',delProp:' "{0}"  "{1}"',delEvent:' "{0}"  "{1}"',removeProp:' "{0}" ',errFormat:' "VXETable.formats"  "formatter={0}" ',notType:' "{0}"',notExp:"/",impFields:"",treeNotImp:"",treeCrossDrag:"",treeDragChild:"",reqPlugin:' "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:" {0} ",useNew:" {0} {1}",errorVersion:" {0} {1}"},table:{emptyText:"",allTitle:"/",seqTitle:"",actionTitle:"",confirmFilter:"",resetFilter:"",allFilter:"",sortAsc:"",sortDesc:"",filter:"",impSuccess:" {0} ",expLoading:"",expSuccess:"",expError:"",expFilename:"_{0}",expOriginFilename:"__{0}",customTitle:"",customAll:"",customConfirm:"",customClose:"",customCancel:"",customRestore:"",maxFixedCol:" {0} ",maxGroupCol:" {0} ",dragTip:"{0}",resizeColTip:"{0} ",resizeRowTip:"{0} ",rowGroupContentTotal:"{0}{1}",menuLoading:"..."},grid:{selectOneRecord:"",deleteSelectRecord:"",removeSelectRecord:"",dataUnchanged:"",delSuccess:"",saveSuccess:"",operError:""},select:{clear:"",allChecked:"",total:"{0} / {1}",search:"",loadingText:"",emptyText:"",maxSize:" {0} ",overSizeErr:" {0} ",searchEmpty:""},tree:{searchEmpty:""},treeSelect:{clearChecked:"",allChecked:"",allExpand:"",clearExpand:"",total:" {0}",search:"",emptyText:""},pager:{goto:"",gotoTitle:"",pagesize:"{0}/",total:" {0} ",pageClassifier:"",homePage:"",homePageTitle:"",prevPage:"",prevPageTitle:"",nextPage:"",nextPageTitle:"",prevJump:"",prevJumpTitle:"",nextJump:"",nextJumpTitle:"",endPage:"",endPageTitle:""},alert:{title:""},button:{confirm:"",cancel:"",clear:""},filter:{search:""},custom:{cstmTitle:"",cstmRestore:"",cstmCancel:"",cstmConfirm:"",cstmConfirmRestore:"",cstmDragTarget:"{0}",setting:{colSort:"",sortHelpTip:"",colTitle:"",colResizable:"",colVisible:"",colFixed:"",colFixedMax:" {0} ",fixedLeft:"",fixedUnset:"",fixedRight:""}},import:{modes:{covering:"",insert:"",insertTop:"",insertBottom:""},impTitle:"",impFile:"",impSelect:"",impType:"",impOpts:"",impMode:"",impConfirm:"",impCancel:""},export:{types:{csv:"CSV ()(*.csv)",html:"(*.html)",xml:"XML (*.xml)",txt:"()(*.txt)",xls:"Excel 97-2003 (*.xls)",xlsx:"Excel (*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"",current:"",selected:"",all:""},printTitle:"",expTitle:"",expName:"",expNamePlaceholder:"",expSheetName:"",expSheetNamePlaceholder:"",expType:"",expMode:"",expCurrentColumn:"",expColumn:"",expOpts:"",expOptHeader:"",expHeaderTitle:"",expOptFooter:"",expFooterTitle:"",expOptColgroup:"",expOptTitle:"",expTitleTitle:"",expColgroupTitle:"",expOptMerge:"",expMergeTitle:"",expOptAllExpand:"",expAllExpandTitle:"",expOptUseStyle:"",expUseStyleTitle:"",expOptOriginal:"",expOriginalTitle:"",expPrint:"",expConfirm:"",expCancel:""},modal:{errTitle:"",zoomMin:"",zoomIn:"",zoomOut:"",close:"",miniMaxSize:" {0} ",footPropErr:"show-footer  show-confirm-button | show-cancel-button | "},drawer:{close:""},form:{folding:"",unfolding:""},toolbar:{import:"",export:"",print:"",refresh:"",zoomIn:"",zoomOut:"",custom:"",customAll:"",customConfirm:"",customRestore:"",fixedLeft:"",fixedRight:"",cancelFixed:""},datePicker:{yearTitle:"{0} "},dateRangePicker:{pleaseRange:""},input:{date:{m1:"01 ",m2:"02 ",m3:"03 ",m4:"04 ",m5:"05 ",m6:"06 ",m7:"07 ",m8:"08 ",m9:"09 ",m10:"10 ",m11:"11 ",m12:"12 ",quarterLabel:"{0} ",monthLabel:"{0} ",dayLabel:"{0}  {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy  WW ",month:"yyyy-MM",quarter:"yyyy  q ",year:"yyyy"},weeks:{w:"",w0:"",w1:"",w2:"",w3:"",w4:"",w5:"",w6:""},months:{m0:"",m1:"",m2:"",m3:"",m4:"",m5:"",m6:"",m7:"",m8:"",m9:"",m10:"",m11:""},quarters:{q1:"",q2:"",q3:"",q4:""}}},numberInput:{currencySymbol:""},imagePreview:{popupTitle:"",operBtn:{zoomOut:"",zoomIn:"",pctFull:"",pct11:"",rotateLeft:"",rotateRight:"",print:"",download:""}},upload:{fileBtnText:"",imgBtnText:"",dragPlaceholder:"",imgSizeHint:"{0}",imgCountHint:"{0}",fileTypeHint:" {0} ",fileSizeHint:"{0}",fileCountHint:"{0}",uploadTypeErr:"",overCountErr:"{0}",overCountExtraErr:"{0}{1}",overSizeErr:"{0}",manualUpload:"",reUpload:"",uploadProgress:" {0}%",uploadErr:"",uploadSuccess:"",moreBtnText:"{0}",viewItemTitle:"",morePopup:{readTitle:"",imageTitle:"",fileTitle:""}},empty:{defText:""},colorPicker:{clear:"",confirm:"",copySuccess:"{0}",hex:""},formDesign:{formName:"",defFormTitle:"",widgetPropTab:"",widgetFormTab:"",error:{wdFormUni:"",wdSubUni:""},styleSetting:{btn:"",title:"",layoutTitle:"",verticalLayout:"",horizontalLayout:"",styleTitle:"",boldTitle:"",fontBold:"",fontNormal:"",colonTitle:"",colonVisible:"",colonHidden:"",alignTitle:"",widthTitle:"",alignLeft:"",alignRight:"",unitPx:"",unitPct:""},widget:{group:{base:"",layout:"",system:"",module:"",chart:"",advanced:""},copyTitle:"_{0}",component:{input:"",textarea:"",select:"",row:"",title:"",text:"",subtable:"",VxeSwitch:"/",VxeInput:"",VxeNumberInput:"",VxeDatePicker:"",VxeTextarea:"",VxeSelect:"",VxeTreeSelect:"",VxeRadioGroup:"",VxeCheckboxGroup:"",VxeUploadFile:"",VxeUploadImage:"",VxeRate:"",VxeSlider:""}},widgetProp:{name:"",placeholder:"",required:"",multiple:"",displaySetting:{name:"",pc:"",mobile:"",visible:"",hidden:""},dataSource:{name:"",defValue:"{0}",addOption:"",batchEditOption:"",batchEditTip:"ExcelWPS ",batchEditSubTip:"ExcelWPS ",buildOption:""},rowProp:{colSize:"",col2:"",col3:"",col4:"",col6:"",layout:""},textProp:{name:"",alignTitle:"",alignLeft:"",alignCenter:"",alignRight:"",colorTitle:"",sizeTitle:"",boldTitle:"",fontNormal:"",fontBold:""},subtableProp:{seqTitle:"",showSeq:"",showCheckbox:"",errSubDrag:"",colPlace:""},uploadProp:{limitFileCount:"",limitFileSize:"",multiFile:"",limitImgCount:"",limitImgSize:"",multiImg:""}}},listDesign:{fieldSettingTab:"",listSettingTab:"",searchTitle:"",listTitle:"",searchField:"",listField:"",activeBtn:{ActionButtonUpdate:"",ActionButtonDelete:""},search:{addBtn:"",emptyText:"",editPopupTitle:""},searchPopup:{colTitle:"",saveBtn:""}},text:{copySuccess:"",copyError:""},countdown:{formats:{yyyy:"",MM:"",dd:"",HH:"",mm:"",ss:""}},gantt:{tFullFormat:{year:"{yy}",quarter:"{yy}{q}",month:"{yy}{M}",week:"{yy}{W}",day:"{yy}{M}{E}",date:"{yy}{M}{d}",hour:"{yy} {M}{d}{H}",minute:"{yy}{M}{d}{H}{m}"},tSimpleFormat:{year:"{yy}",quarter:"{q}",month:"{M}",week:"{W}",day:"{d}",date:"{d}",hour:"{H}",minute:"{m}"},dayss:{w0:"",w1:"",w2:"",w3:"",w4:"",w5:"",w6:""}},plugins:{extendCellArea:{area:{mergeErr:"",multiErr:"",selectErr:"",extendErr:"",pasteMultiErr:"",cpInvalidErr:"{0}"},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},body:{row:"{0}",col:"{0}"},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},extendPivotTable:{aggregation:{grouping:"",values:"",groupPlaceholder:"",valuesPlaceholder:"",dragExistCol:"",sortHelpTip:""},aggFuncs:{sum:"",count:"",avg:"",min:"",max:"",first:"",last:""}},filterComplexInput:{menus:{fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:""},cases:{equal:"",gt:"",lt:"",begin:"",endin:"",include:"",isSensitive:""}},filterCombination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},empty:"()",notData:""}},pro:{area:{mergeErr:"",multiErr:"",extendErr:"",pasteMultiErr:""},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},renderer:{search:"",cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},combination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},empty:"()",notData:""}}}}),Ni}var BT=HT();const VT=Ag(BT),{getConfig:wE}=Ee;function co(e){return e&&e.enabled!==!1}function Yr(e){return e==null||e===""}function EE(e){const t=e.name,o=l.lastIndexOf(t,"."),r=t.substring(o+1,t.length).toLowerCase();return{filename:t.substring(0,o),type:r}}function SE(){return _a.getNext()}function RE(){return _a.getCurrent()}function ri(e){return e&&e.children&&e.children.length>0}function vl(e,t){if(l.eqNull(e))return"";const o=wE().translate;return`${o?o(""+e,t):e}`}function Ln(e,t){return""+(Yr(e)?t?wE().emptyCell:"":e)}function gl(e){return e===""||l.eqNull(e)}const DE="4.17.15";Ee.version=DE;Ee.tableVersion=DE;Ee.setConfig({emptyCell:"",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},headerTooltipConfig:{enterable:!0},footerTooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{autoOptions:{isCalcHeader:!0,isCalcBody:!0,isCalcFooter:!0},maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},menuConfig:{destroyOnClose:!0},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",storeOptions:{visible:!0,resizable:!0,sort:!0,fixed:!0},modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{destroyOnClose:!0,multiple:!0,showIcon:!0},floatingFilterConfig:{},aggregateConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0,maxGroupSize:4,showAggFuncTitle:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0,showRootLine:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isAll:!0,isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{x:{visible:!0},y:{visible:!0}}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showLoading:!0,showResponseMsg:!0,showActionMsg:!0,response:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},gantt:{}});const Do="vxe-table-icon-";Ee.setIcon({TABLE_SORT_ASC:Do+"caret-up",TABLE_SORT_DESC:Do+"caret-down",TABLE_FILTER_NONE:Do+"funnel",TABLE_FILTER_MATCH:Do+"funnel",TABLE_EDIT:Do+"edit",TABLE_TITLE_PREFIX:Do+"question-circle-fill",TABLE_TITLE_SUFFIX:Do+"question-circle-fill",TABLE_TREE_LOADED:Do+"spinner roll",TABLE_TREE_OPEN:Do+"caret-right rotate90",TABLE_TREE_CLOSE:Do+"caret-right",TABLE_EXPAND_LOADED:Do+"spinner roll",TABLE_EXPAND_OPEN:Do+"arrow-right rotate90",TABLE_EXPAND_CLOSE:Do+"arrow-right",TABLE_CHECKBOX_CHECKED:Do+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:Do+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:Do+"checkbox-indeterminate-fill",TABLE_CHECKBOX_DISABLED_UNCHECKED:Do+"checkbox-unchecked-fill",TABLE_RADIO_CHECKED:Do+"radio-checked-fill",TABLE_RADIO_UNCHECKED:Do+"radio-unchecked",TABLE_RADIO_DISABLED_UNCHECKED:Do+"radio-unchecked-fill",TABLE_CUSTOM_SORT:Do+"drag-handle",TABLE_MENU_OPTIONS:Do+"arrow-right",TABLE_MENU_OPTION_LOADING:Do+"repeat roll",TABLE_DRAG_ROW:Do+"drag-handle",TABLE_DRAG_COLUMN:Do+"drag-handle",TABLE_DRAG_STATUS_ROW:Do+"sort",TABLE_DRAG_STATUS_SUB_ROW:Do+"add-sub",TABLE_DRAG_STATUS_AGG_GROUP:Do+"grouping",TABLE_DRAG_STATUS_AGG_VALUES:Do+"values",TABLE_DRAG_STATUS_COLUMN:Do+"swap",TABLE_DRAG_DISABLED:Do+"no-drop",TABLE_ROW_GROUP_OPEN:Do+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:Do+"arrow-right",TABLE_AGGREGATE_GROUPING:Do+"grouping",TABLE_AGGREGATE_VALUES:Do+"values",TABLE_AGGREGATE_SORT:Do+"drag-handle",TABLE_AGGREGATE_DELETE:Do+"close",TOOLBAR_TOOLS_REFRESH:Do+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:Do+"repeat roll",TOOLBAR_TOOLS_IMPORT:Do+"upload",TOOLBAR_TOOLS_EXPORT:Do+"download",TOOLBAR_TOOLS_PRINT:Do+"print",TOOLBAR_TOOLS_FULLSCREEN:Do+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:Do+"minimize",TOOLBAR_TOOLS_CUSTOM:Do+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:Do+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Do+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:Do+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Do+"fixed-right-fill"});Ee.setTheme;Ee.getTheme;Ee.setConfig;Ee.getConfig;Ee.setIcon;Ee.getIcon;Ee.setLanguage;Ee.setI18n;Ee.getI18n;Ee.globalEvents;Ee.globalResize;Ee.renderer;Ee.validators;Ee.menus;Ee.formats;Ee.commands;Ee.interceptor;Ee.clipboard;Ee.log;Ee.hooks;Ee.use;const zT=e=>Ee.setConfig(e);Ee.setup=zT;const qT=e=>Ee.setConfig(e);Ee.config=qT;const GT=(e,t)=>Ee.getI18n(e,t);Ee.t=GT;const WT=(e,t)=>vl(e,t);Ee._t=WT;const Fr=Pa,{log:OE}=Ee,TE="table v4.17.15",Ut=OE.create("warn",TE),Bt=OE.create("error",TE),{getI18n:jT,formats:sC,renderer:UT}=Ee;class Tg{constructor(t,o,{renderHeader:r,renderCell:s,renderFooter:i,renderData:d}={}){const b=t.props,f=t.xeGrid,E=t.xeGantt,m=f||E,{field:w,editRender:D,filterRender:C,headerFormatter:M}=o,v=o.colId||l.uniqueId("col_"),p=o.formatter,T=l.isBoolean(o.visible)?o.visible:!0,N=co(C)?UT.get(C.name):null,k=N?N.createTableFilterOptions:null,j=tc(o.filters,v);M&&Bt("vxe.error.notProp",["header-formatter"]);const J=["seq","checkbox","radio","expand","html"];if(o.type&&J.indexOf(o.type)===-1&&Ut("vxe.error.errProp",[`type=${o.type}`,J.join(", ")]),(l.isBoolean(o.cellRender)||o.cellRender&&!l.isObject(o.cellRender))&&Ut("vxe.error.errProp",[`column.cell-render=${o.cellRender}`,"column.cell-render={}"]),(l.isBoolean(o.editRender)||o.editRender&&!l.isObject(o.editRender))&&Ut("vxe.error.errProp",[`column.edit-render=${o.editRender}`,"column.edit-render={}"]),o.type==="expand"){const{treeConfig:B}=b,{computeTreeOpts:I}=t.getComputeMaps(),F=I.value;B&&(F.showLine||F.line)&&Bt("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(p){if(l.isString(p)){const B=sC.get(p)||l[p];(!B||!l.isFunction(B.tableCellFormatMethod||B.cellFormatMethod))&&Bt("vxe.error.notFormats",[p])}else if(l.isArray(p)){const B=sC.get(p[0])||l[p[0]];(!B||!l.isFunction(B.tableCellFormatMethod||B.cellFormatMethod))&&Bt("vxe.error.notFormats",[p[0]])}}if(o.aggFunc&&!t.handlePivotTableAggregateData&&o.aggFunc!==!0&&Bt("vxe.error.errProp",[`column.agg-func=${o.aggFunc}`,"column.agg-func=true"]),w&&D&&(D.startField&&`${D.startField}`.indexOf(w)>=0&&Bt("vxe.error.modelConflicts",[`field=${w}`,`edit-render.startField=${D.startField}`]),D.endField&&`${D.endField}`.indexOf(w)>=0&&Bt("vxe.error.modelConflicts",[`field=${w}`,`edit-render.endField=${D.endField}`])),Object.assign(this,{type:o.type,property:o.field,field:w,title:o.title,width:o.width,minWidth:o.minWidth,maxWidth:o.maxWidth,resizable:o.resizable,fixed:o.fixed,align:o.align,headerAlign:o.headerAlign,footerAlign:o.footerAlign,showOverflow:o.showOverflow,showHeaderOverflow:o.showHeaderOverflow,showFooterOverflow:o.showFooterOverflow,className:o.className,headerClassName:o.headerClassName,footerClassName:o.footerClassName,formatter:p,headerFormatter:o.headerFormatter,footerFormatter:o.footerFormatter,padding:o.padding,verticalAlign:o.verticalAlign,sortable:o.sortable,sortBy:o.sortBy,sortType:o.sortType,filters:j,filterMultiple:l.isBoolean(o.filterMultiple)?o.filterMultiple:!0,filterMethod:o.filterMethod,filterResetMethod:o.filterResetMethod,filterRecoverMethod:o.filterRecoverMethod,filterRender:C,floatingFilters:o.floatingFilters,rowGroupNode:o.rowGroupNode,treeNode:o.treeNode,dragSort:o.dragSort,rowResize:o.rowResize,cellType:o.cellType,cellRender:o.cellRender,editRender:D,contentRender:o.contentRender,headerExportMethod:o.headerExportMethod,exportMethod:o.exportMethod,footerExportMethod:o.footerExportMethod,titleHelp:o.titleHelp,titlePrefix:o.titlePrefix,titleSuffix:o.titleSuffix,aggFunc:o.aggFunc,copyMethod:o.copyMethod,cutMethod:o.cutMethod,pasteMethod:o.pasteMethod,params:o.params,id:v,parentId:null,visible:T,defaultParentId:null,halfVisible:!1,defaultVisible:T,defaultFixed:o.fixed,defaultAggGroup:o.aggGroup,defaultAggFunc:o.aggFunc,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderAggFn:"",renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:r||o.renderHeader,renderCell:s||o.renderCell,renderFooter:i||o.renderFooter,renderData:d,slots:o.slots}),k&&(!j||!j.length)&&(this.filters=tc(k({$table:t,column:this}),v)),m){const{computeProxyOpts:B}=m.getComputeMaps(),I=B.value;I.beforeColumn&&I.beforeColumn({$table:t,$grid:f,$gantt:E,column:this})}}getTitle(){return vl(this.title||(this.type==="seq"?jT("vxe.table.seqTitle"):""))}getKey(){const{type:t}=this;return this.field||(t?`type=${t}`:null)}update(t,o){t!=="filters"&&(t==="field"&&(this.property=o),this[t]=o)}}const lg={};let li;function ME(){return li||(li=new Image,li.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),li}function Mg(){return li||ME()}function ra(e,t){return e?l.isFunction(e)?e(t):e:""}function IE(e){return lg[e]||(lg[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),lg[e]}function Ig(e){return e&&/^\d+(px)?$/.test(e)}function ei(e){return e&&/^\d+%$/.test(e)}function Al(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(IE(t)))}function Xn(e,t){e&&Al(e,t)&&(e.className=e.className.replace(IE(t),""))}function Dr(e,t){e&&!Al(e,t)&&(Xn(e,t),e.className=`${e.className} ${t}`)}function Ji(e){return e.ctrlKey||e.metaKey}function sa(e,t="px"){return l.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function Il(e,t){return e?e.querySelector(t):null}function vc(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function $i(e){return e?e.offsetHeight:0}function Fg(e){if(e){const t=getComputedStyle(e),o=l.toNumber(t.paddingTop),r=l.toNumber(t.paddingBottom);return o+r}return 0}function jo(e,t){e&&(e.scrollTop=t)}function Xo(e,t){e&&(e.scrollLeft=t)}function th(e,t){const o=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==o&&e.setAttribute("title",o)}function cC(e,t,o){let r=e;if(!t||!t.length)return!1;const[s,i,d]=t;for(;r;){if(s===r||i&&r===i||d&&r===d)return!0;if(o&&r===o)return!1;r=r.parentElement}return!1}function Po(e,t,o,r){let s,i=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;i&&i.nodeType&&i!==document;){if(o&&Al(i,o)&&(!r||r(i)))s=i;else if(i===t)return{flag:o?!!s:!0,container:t,targetElem:s};i=i.parentNode}return{flag:!1}}function Xs(e){const t=e.getBoundingClientRect(),o=t.top,r=t.left,{scrollTop:s,scrollLeft:i,visibleHeight:d,visibleWidth:b}=vc();return{boundingTop:o,top:s+o,boundingLeft:r,left:i+r,visibleHeight:d,visibleWidth:b}}const uC="scrollIntoViewIfNeeded",dC="scrollIntoView";function YT(e){e&&(e[uC]?e[uC]():e[dC]&&e[dC]())}function KT(e,t){e&&e.dispatchEvent(new Event(t))}function fC(){return{tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},footerFullDataRowData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeHeaderList:[],mergeHeaderMaps:{},mergeHeaderCellMaps:{},mergeBodyList:[],mergeBodyMaps:{},mergeBodyCellMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},tHeaderHeight:0,tBodyHeight:0,tFooterHeight:0,teleportToWrapperElem:null,popupToWrapperElem:null,inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1}}const FE=(e,t)=>{const o=[];return e.forEach(r=>{r.parentId=t?t.id:null,r.visible&&(r.children&&r.children.length&&r.children.some(s=>s.visible)?(o.push(r),o.push(...FE(r.children,r))):o.push(r))}),o},XT=e=>{let t=1;const o=(i,d)=>{if(d&&(i.level=d.level+1,t<i.level&&(t=i.level)),i.children&&i.children.length&&i.children.some(b=>b.visible)){let b=0;i.children.forEach(f=>{f.visible&&(o(f,i),b+=f.colSpan)}),i.colSpan=b}else i.colSpan=1};e.forEach(i=>{i.level=1,o(i)});const r=[];for(let i=0;i<t;i++)r.push([]);return FE(e).forEach(i=>{i.children&&i.children.length&&i.children.some(d=>d.visible)?i.rowSpan=1:i.rowSpan=t-i.level+1,r[i.level-1].push(i)}),r};function ZT(e){const t=e.length,o=e[0].reduce((i,d)=>i+d.colSpan,0),r=[],s=[];for(let i=0;i<t;i++){const d=[],b=[];for(let f=0;f<o;f++)d.push(!1),b.push("");r.push(d),s.push(b)}for(let i=0;i<t;i++){let d=0;for(const b of e[i]){const{colSpan:f,rowSpan:E}=b;let m=-1;for(let w=d;w<=o-f;w++){let D=!0;for(let C=0;C<f;C++)if(r[i][w+C]){D=!1;break}if(D){m=w;break}}if(m===-1){for(let w=0;w<=o-f;w++){let D=!0;for(let C=0;C<f;C++)if(r[i][w+C]){D=!1;break}if(D){m=w;break}}if(m===-1)break}for(let w=i;w<i+E;w++)for(let D=m;D<m+f;D++)r[w][D]=!0,s[w][D]=b;d=m+f}}return s}function _i(e,t,o){const r=e.internalData;return t||o?(r.intoRunScroll=!1,r.inVirtualScroll=!1,r.inWheelScroll=!1,r.inHeaderScroll=!1,r.inBodyScroll=!1,r.inFooterScroll=!1,r.scrollRenderType="",e.scrollTo(t,o)):e.clearScroll()}function Qi(){return l.uniqueId("row_")}function JT(e){return e.indexOf(".")>-1}function Ga(e){const{currKeyField:t}=e.internalData;return t}function Pt(e,t){const o=e.internalData,{isCurrDeepKey:r,currKeyField:s}=o;return t?bc((r?oh:nh)(t,s)):""}function pC(e){const t=e.internalData,{isCurrDeepKey:o,currKeyField:r}=t,s=o?QT:eM;return{rowKey:r,handleUpdateRowId(i){return i?s(i,r):""}}}function gn(e){const t=e.internalData,{isCurrDeepKey:o,currKeyField:r}=t,s=o?oh:nh;return{rowKey:r,handleGetRowId(i){return i?bc(s(i,r)):""}}}function bc(e){return l.eqNull(e)?"":encodeURIComponent(e)}function oh(e,t){return l.get(e,t)}function QT(e,t){let o=bc(oh(e,t));return gl(o)&&(o=Qi(),l.set(e,t,o)),o}function nh(e,t){return e[t]}function eM(e,t){let o=bc(nh(e,t));return gl(o)&&(o=Qi(),e[t]=o),o}function Jo(e,t){return t?l.isString(t)||l.isNumber(t)?e.getColumnByField(`${t}`):t:null}function gC(e,t){if(t){const o=l.isString(t)||l.isNumber(t)?t:Pt(e,t);return e.getRowById(o)}return null}function Rr(e,t,o,r){return e.resizeHeight||t.height||o.height||e.height||r}function hC(e){if(e){const t=getComputedStyle(e),o=l.toNumber(t.paddingLeft),r=l.toNumber(t.paddingRight);return o+r}return 0}function Zl(e){if(e){const t=getComputedStyle(e),o=l.toNumber(t.marginLeft),r=l.toNumber(t.marginRight);return e.offsetWidth+o+r}return 0}function tc(e,t){return e&&(l.isArray(e)?e.map(({label:o,value:r,data:s,resetValue:i,checked:d})=>({label:o,value:r,data:s,resetValue:i,checked:!!d,_checked:!!d,_colId:t})):[])}function mC(e){return e.map((t,o)=>o%2===0?Number(t)+1:".").join("")}function On(e,t){return l.get(e,t.field)}function Kr(e,t,o){return l.set(e,t.field,o)}function eo(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function os(e){return e==="unset"?0:e||0}function vC(e){const{$table:t,column:o,cell:r}=e,s=t.props,i=t.internalData,{computeResizableOpts:d}=t.getComputeMaps(),b=d.value,{minWidth:f}=b;if(f){const J=l.isFunction(f)?f(e):f;if(J!=="auto")return Math.max(1,l.toNumber(J))}const{elemStore:E}=i,{showHeaderOverflow:m}=s,{showHeaderOverflow:w,minWidth:D}=o,C=l.isUndefined(w)||l.isNull(w)?m:w,T=C==="title"||(C===!0||C==="tooltip")||C==="ellipsis",N=l.floor((l.toNumber(getComputedStyle(r).fontSize)||14)*1.8),k=hC(r)+hC(Il(r,".vxe-cell"));let j=N+k;if(T){const J=Zl(Il(r,".vxe-cell--drag-handle")),B=Zl(Il(r,".vxe-cell--checkbox")),I=Zl(Il(r,".vxe-cell--required-icon")),F=Zl(Il(r,".vxe-cell--edit-icon")),V=Zl(Il(r,".vxe-cell-title-prefix-icon")),W=Zl(Il(r,".vxe-cell-title-suffix-icon")),ie=Zl(Il(r,".vxe-cell--sort")),U=Zl(Il(r,".vxe-cell--filter"));j+=J+B+I+F+V+W+U+ie}if(D){const J=eo(E["main-body-scroll"]);if(J){if(ei(D)){const I=(J.clientWidth-1)/100;return Math.max(j,Math.floor(l.toInteger(D)*I))}else if(Ig(D))return Math.max(j,l.toInteger(D))}}return j}function Zs(e){return e&&(e.constructor===Tg||e instanceof Tg)}function es(e){const t=[];return e.forEach(o=>{t.push(...o.children&&o.children.length?es(o.children):[o])}),t}function tM(e,t,o){return Zs(t)?t:un(new Tg(e,t,o))}function AE(e,t,o){Object.keys(t).forEach(r=>{no(()=>t[r],s=>{o.update(r,s),e&&(r==="filters"?(e.setFilter(o,s),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(r)&&e.handleRefreshColumnQueue())})})}function PE(e,t,o,r){const{reactData:s}=e,{staticColumns:i}=s,d=t.parentNode,b=r?r.columnConfig:null,f=b?b.children:i;d&&f&&(o.defaultParentId=b?b.id:null,f.splice(l.arrayIndexOf(d.children,t),0,o),s.staticColumns=i.slice(0))}function kE(e,t){const{reactData:o}=e,{staticColumns:r}=o,s=l.findTree(r,i=>i.id===t.id,{children:"children"});s&&s.items.splice(s.index,1),o.staticColumns=r.slice(0)}function bC(e,t){const{internalData:o}=e,{fullColumnIdData:r}=o;if(!t)return null;let s=t.parentId;for(;r[s];){const i=r[s].column;if(s=i.parentId,!s)return i}return t}function LE(e){const{children:t}=e;return t&&t.length?LE(l.first(t)):e}function oM(e){const{children:t}=e;return t&&t.length?LE(l.last(t)):e}function nM(e){const{props:t,internalData:o}=e;o.initStatus=!1;const r=[e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow()];return e.clearFilter&&r.push(e.clearFilter()),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&r.push(e.clearSelected()),e.clearCellAreas&&t.mouseConfig&&r.push(e.clearCellAreas(),e.clearCopyCellArea()),Promise.all(r).then(()=>e.clearScroll())}function rM(e){return e.clearFilter&&e.clearFilter(),nM(e)}function xC(e,t){const o=e.props,r=e.reactData,s=e.internalData,{computeLeftFixedWidth:i,computeRightFixedWidth:d,computeRowOpts:b,computeCellOpts:f,computeDefaultRowHeight:E}=e.getComputeMaps(),{showOverflow:m}=o,{scrollYLoad:w,scrollYTop:D}=r,{elemStore:C,afterFullData:M,fullAllDataRowIdData:v,isResizeCellHeight:p}=s,T=b.value,N=f.value,k=E.value,j=i.value,J=d.value,B=eo(C["main-body-scroll"]),I=Pt(e,t);if(B){const F=B.clientHeight,V=B.scrollTop,W=B.querySelector(`[rowid="${I}"]`);if(W){const ie=W.offsetTop+(w?D:0),U=W.clientHeight;if(ie<V||ie>V+F)return e.scrollTo(null,ie);if(ie+U>=F+V)return e.scrollTo(null,V+U)}else if(w){if(!(p||N.height||T.height)&&m)return e.scrollTo(null,(e.findRowIndexOf(M,t)-1)*k);const U=v[I]||{},_=U.resizeHeight||N.height||T.height||U.height||k,z=U.oTop;return z<V?e.scrollTo(null,z-j-1):e.scrollTo(null,z+_-(F-J-1))}}return Promise.resolve()}function CC(e,t,o){const r=e.reactData,s=e.internalData,{computeLeftFixedWidth:i,computeRightFixedWidth:d}=e.getComputeMaps(),{scrollXLoad:b,scrollXLeft:f}=r,{elemStore:E,visibleColumn:m}=s,w=i.value,D=d.value,C=eo(E["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(C){const M=C.clientWidth,v=C.scrollLeft;let p=null;if(o){const T=Pt(e,o);p=C.querySelector(`[rowid="${T}"] .${t.id}`)}if(p||(p=C.querySelector(`.${t.id}`)),p){const T=p.offsetLeft+(b?f:0),N=p.clientWidth;if(T<v+w)return e.scrollTo(T-w-1);if(T+N-v>M-D)return e.scrollTo(T+N-(M-D-1))}else if(b){let T=0;const N=t.renderWidth;for(let k=0;k<m.length;k++){const j=m[k];if(j===t||j.id===t.id)break;T+=j.renderWidth}return T<v?e.scrollTo(T-w-1):e.scrollTo(T+N-(M-D-1))}}return Promise.resolve()}function Xr(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function NE(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function $E(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function lM(e){switch(e.name){case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return!0}return!1}function Cn(e){return e==null?[]:l.isArray(e)?e:[e]}const{getI18n:Hi,getIcon:Zo,renderer:Wi,renderEmptyElement:la}=Ee;function aM(e){const{$table:t,column:o}=e,r=o.titlePrefix||o.titleHelp;return r?u("span",{class:["vxe-cell-title-prefix-icon",r.iconStatus?`theme--${r.iconStatus}`:""],onMouseenter(s){t.triggerHeaderTitleEvent(s,r,e)},onMouseleave(s){t.handleTargetLeaveEvent(s)}},[u("i",{class:r.icon||Zo().TABLE_TITLE_PREFIX})]):la(t)}function iM(e){const{$table:t,column:o}=e,r=o.titleSuffix;return r?u("span",{class:["vxe-cell-title-suffix-icon",r.iconStatus?`theme--${r.iconStatus}`:""],onMouseenter(s){t.triggerHeaderTitleEvent(s,r,e)},onMouseleave(s){t.handleTargetLeaveEvent(s)}},[u("i",{class:r.icon||Zo().TABLE_TITLE_SUFFIX})]):la(t)}function yC(e){const{$table:t,column:o}=e,{context:r}=t,s=r.slots,i=t.props,{slots:d}=o,{dragConfig:b}=i,{computeRowDragOpts:f}=t.getComputeMaps(),E=f.value,{icon:m,trigger:w,disabledMethod:D}=E,C=D||(b?b.rowDisabledMethod:null),M=C&&C(e),v=(d?d.rowDragIcon||d["row-drag-icon"]:null)||s.rowDragIcon||s["row-drag-icon"],p={};return w!=="cell"&&(p.onMousedown=T=>{M||t.handleCellDragMousedownEvent(T,e)},p.onMouseup=t.handleCellDragMouseupEvent),u("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":M}]},p),v?t.callSlot(v,e):[u("i",{class:m||(b?b.rowIcon:"")||Zo().TABLE_DRAG_ROW})])}function Pn(e,t){const{$table:o,column:r,level:s}=e,{dragSort:i}=r,d=o.props,{treeConfig:b,dragConfig:f}=d,{computeRowOpts:E,computeRowDragOpts:m,computeTreeOpts:w}=o.getComputeMaps(),D=E.value,C=m.value,M=w.value,{showIcon:v,isPeerDrag:p,isCrossDrag:T,visibleMethod:N}=C,k=N||(f?f.rowVisibleMethod:null),j=[];return i&&D.drag&&(v||f&&f.showRowIcon)&&(!k||k(e))&&(b?M.transform&&(p||T||!s)&&j.push(yC(e)):j.push(yC(e))),j.concat(l.isArray(t)?t:[t])}function sM(e){const{$table:t,column:o}=e,{context:r}=t,s=r.slots,{slots:i}=o,{computeColumnOpts:d,computeColumnDragOpts:b}=t.getComputeMaps(),f=d.value,E=b.value,{showIcon:m,icon:w,trigger:D,isPeerDrag:C,isCrossDrag:M,visibleMethod:v,disabledMethod:p}=E;if(f.drag&&m&&(!v||v(e))&&!o.fixed&&(C||M||!o.parentId)){const T=p&&p(e),N=(i?i.columnDragIcon||i["column-drag-icon"]:null)||s.columnDragIcon||s["column-drag-icon"],k={};return D!=="cell"&&(k.onMousedown=j=>{T||t.handleHeaderCellDragMousedownEvent(j,e)},k.onMouseup=t.handleHeaderCellDragMouseupEvent),u("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":T}]},k),N?t.callSlot(N,e):[u("i",{class:w||Zo().TABLE_DRAG_COLUMN})])}return la(t)}function cl(e,t){return[aM(e),sM(e),...l.isArray(t)?t:[t],iM(e)]}function cM(e,t){return e.type==="html"&&l.isString(t)?u("span",{key:"ch",innerHTML:t}):u("span",{key:"ct"},Cn(t))}function Jl(e,t){const{$table:o,column:r}=e,s=o.props,i=o.reactData,{computeHeaderTooltipOpts:d}=o.getComputeMaps(),{showHeaderOverflow:b}=s,{isRowGroupStatus:f}=i,{showHeaderOverflow:E,slots:m}=r,w=m?m.title:null,C=d.value.showAll,M=l.eqNull(E)?b:E,v=M==="title",p=M===!0||M==="tooltip",T={};(v||p||C)&&(T.onMouseenter=k=>{i.isDragResize||(v?th(k.currentTarget,r):(p||C)&&o.triggerHeaderTooltipEvent(k,e))}),(p||C)&&(T.onMouseleave=k=>{i.isDragResize||(p||C)&&o.handleTargetLeaveEvent(k)});const N=cM(r,t);return[u("span",Object.assign({class:"vxe-cell--title"},T),f&&r.aggFunc&&o.getPivotTableAggregateRenderColTitles?o.getPivotTableAggregateRenderColTitles(r,N):w?o.callSlot(w,e):[N])]}function uM(e){const{$table:t,column:o,row:r}=e,{slots:s,editRender:i,cellRender:d}=o,b=i||d,f=s?s.footer:null;if(f)return t.callSlot(f,e);const E=t.getFooterCellLabel(r,o);if(b){const m=Wi.get(b.name);if(m){const w=m.renderTableFooter||m.renderFooter;if(w){const D=Object.assign(e,{cellValue:E,itemValue:E});return Cn(w(b,D))}}}return[u("span",{class:"vxe-cell--label"},Ln(E,1))]}function wC(e){const{$table:t,row:o,column:r}=e;return Ln(t.getCellLabel(o,r),1)}function dM(e){const{column:t,row:o,$table:r}=e,s=r.props,i=r.reactData,{isRowGroupStatus:d}=i,{editConfig:b}=s,{type:f,treeNode:E,rowGroupNode:m,editRender:w}=t,{computeEditOpts:D,computeCheckboxOpts:C,computeAggregateOpts:M}=r.getComputeMaps(),v=M.value,{mode:p}=v,T=C.value,N=D.value,k=E||d&&(p==="column"?t.field===o.groupField:m);switch(f){case"seq":return k?so.renderDeepIndexCell(e):so.renderSeqCell(e);case"radio":return k?so.renderDeepRadioCell(e):so.renderRadioCell(e);case"checkbox":return T.checkField?k?so.renderDeepSelectionCellByProp(e):so.renderCheckboxCellByProp(e):k?so.renderDeepSelectionCell(e):so.renderCheckboxCell(e);case"expand":return so.renderExpandCell(e);case"html":return k?so.renderDeepHTMLCell(e):so.renderHTMLCell(e)}return b&&co(N)&&w?N.mode==="cell"?k?so.renderDeepCellEdit(e):so.renderCellEdit(e):k?so.renderDeepRowEdit(e):so.renderRowEdit(e):k?so.renderDeepCell(e):so.renderDefaultCell(e)}function fM(e){const{column:t,$table:o}=e,r=o.props,{computeEditOpts:s}=o.getComputeMaps(),{editConfig:i}=r,d=s.value,{type:b,filters:f,sortable:E,editRender:m}=t;switch(b){case"seq":return so.renderSeqHeader(e);case"radio":return so.renderRadioHeader(e);case"checkbox":return so.renderCheckboxHeader(e);case"html":if(f&&E)return so.renderSortAndFilterHeader(e);if(E)return so.renderSortHeader(e);if(f)return so.renderFilterHeader(e);break}return i&&co(d)&&m?so.renderEditHeader(e):f&&E?so.renderSortAndFilterHeader(e):E?so.renderSortHeader(e):f?so.renderFilterHeader(e):so.renderDefaultHeader(e)}function pM(e){return so.renderDefaultFooter(e)}const so={createColumn(e,t){const{type:o}=t,r={renderHeader:fM,renderCell:dM,renderFooter:pM};return o==="expand"&&(r.renderData=so.renderExpandData),tM(e,t,r)},renderHeaderTitle(e){const{$table:t,column:o}=e,{slots:r,editRender:s,cellRender:i}=o,d=s||i,b=r?r.header:null;if(b)return Jl(e,t.callSlot(b,e));if(d){const f=Wi.get(d.name);if(f){const E=f.renderTableHeader||f.renderHeader;if(E)return Jl(e,Cn(E(d,e)))}}return Jl(e,Ln(o.getTitle(),1))},renderDefaultHeader(e){return cl(e,so.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:o,column:r}=e,s=t.props,i=t.reactData,d=t.internalData,{isRowGroupStatus:b}=i,{editConfig:f}=s,{field:E,slots:m,editRender:w,cellRender:D,rowGroupNode:C,aggFunc:M,formatter:v}=r,p=f&&co(w)?w:co(D)?D:null,T=m?m.default:null,N=m?m.groupContent||m["group-content"]:null;let k="";if(b&&E&&o.isAggregate){const J=o,{fullColumnFieldData:B}=d,{computeAggregateOpts:I}=t.getComputeMaps(),F=I.value,{mode:V,showTotal:W,totalMethod:ie,countFields:U,contentMethod:_,mapChildrenField:z}=F,se=F.calcValuesMethod||F.countMethod||F.aggregateMethod,ye=J.groupField,Y=J.groupContent,X=z?J[z]||[]:[],Re=J.childCount,ue=B[ye]||{},Q={$table:t,groupField:ye,groupColumn:ue?ue.column:null,column:r,groupValue:Y,childList:X,childCount:Re,aggValue:null,children:X,totalValue:Re};if(N)return Pn(e,t.callSlot(N,Object.assign({groupField:ye,groupContent:Y,childList:X,childCount:Re},e)));(V==="column"?E===J.groupField:C)?(k=Y,_&&(k=`${_(Q)}`),W&&(k=Hi("vxe.table.rowGroupContentTotal",[k,ie?ie(Q):Re,Re]))):t.getPivotTableAggregateCellAggValue?k=t.getPivotTableAggregateCellAggValue(e):(M===!0||U&&U.includes(E))&&se&&(Q.aggValue=Re,k=`${se(Q)}`)}else{if(T)return Pn(e,t.callSlot(T,e));if(p&&!v){const J=Wi.get(p.name);if(J){const B=J.renderTableCell||J.renderCell,I=J.renderTableDefault||J.renderDefault,F=w?B:I;if(F)return Pn(e,Cn(F(p,Object.assign({$type:w?"edit":"cell"},e))))}}k=t.getCellLabel(o,r)}const j=w?w.placeholder:"";return Pn(e,[u("span",{class:"vxe-cell--label"},[w&&gl(k)?u("span",{class:"vxe-cell--placeholder"},Ln(vl(j),1)):u("span",Ln(k,1))])])},renderDeepCell(e){return so.renderDeepNodeBtn(e,so.renderDefaultCell(e))},renderDefaultFooter(e){return uM(e)},renderRowGroupBtn(e,t){const{$table:o}=e,r=o.reactData,s=o.internalData,{row:i,level:d}=e,{computeAggregateOpts:b}=o.getComputeMaps(),{rowGroupExpandedFlag:f}=r,{rowGroupExpandedMaps:E}=s,m=b.value,{mode:w,padding:D,indent:C}=m,M=Pt(o,i),v=!!f&&!!E[M];return u("div",{class:["vxe-row-group--tree-node",{"is--expanded":v}],style:w!=="column"&&D&&C?{paddingLeft:`${d*C}px`}:void 0},[i.isAggregate?u("span",{class:"vxe-row-group--node-btn",onClick(p){o.triggerRowGroupExpandEvent(p,e)}},[u("i",{class:v?Zo().TABLE_ROW_GROUP_OPEN:Zo().TABLE_ROW_GROUP_CLOSE})]):la(o),u("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:o,isHidden:r}=e,s=o.reactData,i=o.internalData,{row:d,column:b,level:f}=e,{slots:E}=b,m=E?E.icon:null;if(m)return o.callSlot(m,e);const{computeTreeOpts:w}=o.getComputeMaps(),{treeExpandedFlag:D}=s,{fullAllDataRowIdData:C,treeExpandedMaps:M,treeExpandLazyLoadedMaps:v}=i,p=w.value,{padding:T,indent:N,lazy:k,trigger:j,iconLoaded:J,showIcon:B,iconOpen:I,iconClose:F}=p,V=p.children||p.childrenField,W=p.hasChild||p.hasChildField,ie=d[V],U=ie&&ie.length;let _=!1,z=!1,se=!1,ye=!1;const Y={};if(!r){const X=Pt(o,d);if(z=!!D&&!!M[X],k){const Re=C[X];se=!!v[X],_=d[W],ye=!!Re.treeLoaded}}return(!j||j==="default")&&(Y.onClick=X=>{o.triggerTreeExpandEvent(X,e)}),u("div",{class:["vxe-cell--tree-node",{"is--active":z}],style:T&&N?{paddingLeft:`${f*N}px`}:void 0},[B&&(k?ye?U:U||_:U)?[u("div",Object.assign({class:"vxe-cell--tree-btn"},Y),[u("i",{class:se?J||Zo().TABLE_TREE_LOADED:z?I||Zo().TABLE_TREE_OPEN:F||Zo().TABLE_TREE_CLOSE})])]:null,u("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{$table:o,row:r,column:s}=e,{rowGroupNode:i}=s,d=o.reactData,{rowGroupList:b}=d;if(b.length){const{computeAggregateOpts:f}=o.getComputeMaps(),E=f.value,{mode:m}=E;if(m==="column"?s.field===r.groupField:i)return[so.renderRowGroupBtn(e,t)]}return[so.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:o}=e,{slots:r}=o,s=r?r.header:null;return cl(e,Jl(e,s?t.callSlot(s,e):Ln(o.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:o}=e,r=t.props,{treeConfig:s}=r,{computeSeqOpts:i}=t.getComputeMaps(),d=i.value,{slots:b}=o,f=b?b.default:null;if(f)return Pn(e,t.callSlot(f,e));const{seq:E}=e,m=d.seqMethod;return Pn(e,[u("span",`${Ln(m?m(e):s?E:(d.startIndex||0)+E,1)}`)])},renderDeepIndexCell(e){return so.renderDeepNodeBtn(e,so.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:o}=e,{slots:r}=o,s=r?r.header:null,i=r?r.title:null;return cl(e,Jl(e,s?t.callSlot(s,e):[u("span",{class:"vxe-radio--label"},i?t.callSlot(i,e):Ln(o.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:o,isHidden:r}=e,s=t.reactData,{computeRadioOpts:i}=t.getComputeMaps(),{selectRadioRow:d}=s,b=i.value,{slots:f}=o,{labelField:E,checkMethod:m,visibleMethod:w}=b,{row:D}=e,C=f?f.default:null,M=f?f.radio:null,v=t.eqRow(D,d),p=!w||w({$table:t,row:D});let T=!!m,N;r||(N={onClick(J){!T&&p&&t.triggerRadioRowEvent(J,e)}},m&&(T=!m({$table:t,row:D})));const k=Object.assign(Object.assign({},e),{checked:v,disabled:T,visible:p});if(M)return Pn(e,t.callSlot(M,k));const j=[];return p&&j.push(u("span",{class:["vxe-radio--icon",v?Zo().TABLE_RADIO_CHECKED:T?Zo().TABLE_RADIO_DISABLED_UNCHECKED:Zo().TABLE_RADIO_UNCHECKED]})),(C||E)&&j.push(u("span",{class:"vxe-radio--label"},C?t.callSlot(C,k):l.get(D,E))),Pn(e,[u("span",Object.assign({class:["vxe-cell--radio",{"is--checked":v,"is--disabled":T}]},N),j)])},renderDeepRadioCell(e){return so.renderDeepNodeBtn(e,so.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:o,isHidden:r}=e,s=t.reactData,{computeIsAllCheckboxDisabled:i,computeCheckboxOpts:d}=t.getComputeMaps(),{isAllSelected:b,isIndeterminate:f}=s,E=i.value,{slots:m}=o,w=m?m.header:null,D=m?m.title:null,C=d.value,{checkStrictly:M,showHeader:v,headerTitle:p}=C,T=o.getTitle(),N={};r||(N.onClick=j=>{E||t.triggerCheckAllEvent(j,!b)});const k=Object.assign(Object.assign({},e),{checked:b,disabled:E,indeterminate:f});return w?cl(e,Jl(k,t.callSlot(w,k))):(M?!v:v===!1)?cl(e,Jl(k,[u("span",{class:"vxe-checkbox--label"},D?t.callSlot(D,k):T)])):cl(e,Jl(k,[u("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":b,"is--disabled":E,"is--indeterminate":f}],title:l.eqNull(p)?Hi("vxe.table.allTitle"):`${p||""}`},N),[u("span",{class:["vxe-checkbox--icon",f?Zo().TABLE_CHECKBOX_INDETERMINATE:b?Zo().TABLE_CHECKBOX_CHECKED:E?Zo().TABLE_CHECKBOX_DISABLED_UNCHECKED:Zo().TABLE_CHECKBOX_UNCHECKED]})].concat(D||T?[u("span",{class:"vxe-checkbox--label"},D?t.callSlot(D,k):T)]:[]))]))},renderCheckboxCell(e){const{$table:t,row:o,column:r,isHidden:s}=e,i=t.props,d=t.reactData,b=t.internalData,{treeConfig:f}=i,{updateCheckboxFlag:E,isRowGroupStatus:m}=d,{selectCheckboxMaps:w,treeIndeterminateRowMaps:D}=b,{computeCheckboxOpts:C,computeAggregateOpts:M}=t.getComputeMaps(),v=M.value,{mapChildrenField:p}=v,T=C.value,{labelField:N,checkMethod:k,visibleMethod:j}=T,{slots:J}=r,B=J?J.default:null,I=J?J.checkbox:null;let F=!1,V=!1,W=!0,ie=!1;const U={};if(!s){const se=Pt(t,o);if(V=!!E&&!!w[se],k&&m&&t.isAggregateRecord(o)){const ye=o[p||""];(!ye||!ye.length||ye.every(Y=>!k({$table:t,row:Y})))&&(ie=!0)}else W=!j||j({$table:t,row:o}),ie=k?!k({$table:t,row:o}):!!k;(f||m)&&(F=!!D[se]),U.onClick=ye=>{!ie&&W&&t.triggerCheckRowEvent(ye,e,!V)}}const _=Object.assign(Object.assign({},e),{checked:V,disabled:ie,visible:W,indeterminate:F});if(I)return Pn(e,t.callSlot(I,_));const z=[];return W&&z.push(u("span",{class:["vxe-checkbox--icon",F?Zo().TABLE_CHECKBOX_INDETERMINATE:V?Zo().TABLE_CHECKBOX_CHECKED:ie?Zo().TABLE_CHECKBOX_DISABLED_UNCHECKED:Zo().TABLE_CHECKBOX_UNCHECKED]})),(B||N)&&z.push(u("span",{class:"vxe-checkbox--label"},B?t.callSlot(B,_):l.get(o,N))),Pn(e,[u("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":V,"is--disabled":ie,"is--indeterminate":F,"is--hidden":!W}]},U),z)])},renderDeepSelectionCell(e){return so.renderDeepNodeBtn(e,so.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:o,column:r,isHidden:s}=e,i=t.props,d=t.reactData,b=t.internalData,{treeConfig:f}=i,{updateCheckboxFlag:E,isRowGroupStatus:m}=d,{treeIndeterminateRowMaps:w}=b,{computeCheckboxOpts:D,computeAggregateOpts:C}=t.getComputeMaps(),M=C.value,{mapChildrenField:v}=M,p=D.value,{labelField:T,checkField:N,checkMethod:k,visibleMethod:j}=p,J=p.indeterminateField||p.halfField,{slots:B}=r,I=B?B.default:null,F=B?B.checkbox:null;let V=!1,W=!1,ie=!0,U=!1;const _={};if(!s){const ye=Pt(t,o);if(W=!!E&&l.get(o,N),k&&m&&t.isAggregateRecord(o)){const Y=o[v||""];(!Y||!Y.length||Y.every(X=>!k({$table:t,row:X})))&&(U=!0)}else ie=!j||j({$table:t,row:o}),U=k?!k({$table:t,row:o}):!!k;(f||m)&&(V=!!w[ye]),_.onClick=Y=>{!U&&ie&&t.triggerCheckRowEvent(Y,e,!W)}}const z=Object.assign(Object.assign({},e),{checked:W,disabled:U,visible:ie,indeterminate:V});if(F)return Pn(e,t.callSlot(F,z));const se=[];return ie&&(se.push(u("span",{class:["vxe-checkbox--icon",V?Zo().TABLE_CHECKBOX_INDETERMINATE:W?Zo().TABLE_CHECKBOX_CHECKED:U?Zo().TABLE_CHECKBOX_DISABLED_UNCHECKED:Zo().TABLE_CHECKBOX_UNCHECKED]})),(I||T)&&se.push(u("span",{class:"vxe-checkbox--label"},I?t.callSlot(I,z):l.get(o,T)))),Pn(e,[u("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":W,"is--disabled":U,"is--indeterminate":J&&!W?o[J]:V,"is--hidden":!ie}]},_),se)])},renderDeepSelectionCellByProp(e){return so.renderDeepNodeBtn(e,so.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:o,row:r,column:s}=e,i=t.reactData,d=t.internalData,{isRowGroupStatus:b}=i,{rowExpandedMaps:f,rowExpandLazyLoadedMaps:E}=d,{computeExpandOpts:m}=t.getComputeMaps(),w=m.value,{lazy:D,labelField:C,iconLoaded:M,showIcon:v,iconOpen:p,iconClose:T,visibleMethod:N}=w,{slots:k}=s,j=k?k.default:null,J=k?k.icon:null;let B=!1,I=!1;if(b&&r.isAggregate)return Pn(e,[]);if(J)return Pn(e,t.callSlot(J,e));if(!o){const F=Pt(t,r);B=!!f[F],D&&(I=!!E[F])}return Pn(e,[v&&(!N||N(e))?u("span",{class:["vxe-table--expanded",{"is--active":B}],onMousedown(F){F.stopPropagation()},onClick(F){t.triggerRowExpandEvent(F,e)}},[u("i",{class:["vxe-table--expand-btn",I?M||Zo().TABLE_EXPAND_LOADED:B?p||Zo().TABLE_EXPAND_OPEN:T||Zo().TABLE_EXPAND_CLOSE]})]):la(t),j||C?u("span",{class:"vxe-table--expand-label"},j?t.callSlot(j,e):l.get(r,C)):la(t)])},renderExpandData(e){const{$table:t,column:o}=e,{slots:r,contentRender:s}=o,i=r?r.content:null;if(i)return t.callSlot(i,e);if(s){const d=Wi.get(s.name);if(d){const b=d.renderTableExpand||d.renderExpand;if(b)return Cn(b(s,e))}}return[]},renderHTMLCell(e){const{$table:t,column:o}=e,{slots:r}=o,s=r?r.default:null;return s?Pn(e,t.callSlot(s,e)):Pn(e,[u("span",{class:"vxe-cell--html",innerHTML:wC(e)})])},renderDeepHTMLCell(e){return so.renderDeepNodeBtn(e,so.renderHTMLCell(e))},renderSortAndFilterHeader(e){return cl(e,so.renderHeaderTitle(e).concat(so.renderSortIcon(e).concat(so.renderFilterIcon(e))))},renderSortHeader(e){return cl(e,so.renderHeaderTitle(e).concat(so.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:o}=e,{computeSortOpts:r}=t.getComputeMaps(),s=r.value,{showIcon:i,allowBtn:d,ascTitle:b,descTitle:f,iconLayout:E,iconAsc:m,iconDesc:w,iconVisibleMethod:D}=s,{order:C,slots:M}=o;if(i&&(!D||D(e))){const v=M?M.sort:null;return v?Cn(t.callSlot(v,e)):[u("span",{class:["vxe-cell--sort",`vxe-cell--sort-${E}-layout`]},[u("i",{class:["vxe-sort--asc-btn",m||Zo().TABLE_SORT_ASC,{"sort--active":C==="asc"}],title:l.eqNull(b)?Hi("vxe.table.sortAsc"):`${b||""}`,onClick:d?p=>{p.stopPropagation(),t.triggerSortEvent(p,o,"asc")}:void 0}),u("i",{class:["vxe-sort--desc-btn",w||Zo().TABLE_SORT_DESC,{"sort--active":C==="desc"}],title:l.eqNull(f)?Hi("vxe.table.sortDesc"):`${f||""}`,onClick:d?p=>{p.stopPropagation(),t.triggerSortEvent(p,o,"desc")}:void 0})])]}return[]},renderFilterHeader(e){return cl(e,so.renderHeaderTitle(e).concat(so.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:t,column:o,hasFilter:r}=e,s=t.reactData,{filterStore:i}=s,{computeFilterOpts:d}=t.getComputeMaps(),b=d.value,{showIcon:f,iconNone:E,iconMatch:m,iconVisibleMethod:w}=b;return f&&(!w||w(e))?[u("span",{class:["vxe-cell--filter",{"is--active":i.visible&&i.column===o}],onClick(D){t.triggerFilterEvent&&t.triggerFilterEvent(D,e.column,e)}},[u("i",{class:["vxe-filter--btn",r?m||Zo().TABLE_FILTER_MATCH:E||Zo().TABLE_FILTER_NONE],title:Hi("vxe.table.filter")})])]:[]},renderEditHeader(e){const{$table:t,column:o}=e,r=t.props,{computeEditOpts:s}=t.getComputeMaps(),{editConfig:i,editRules:d}=r,b=s.value,{sortable:f,filters:E,editRender:m}=o;let w=!1;if(d){const C=l.get(d,o.field);C&&(w=C.some(M=>M.required))}let D=[];if(co(i)){const{showAsterisk:C,showIcon:M,icon:v}=b;D=[w&&C?u("span",{class:"vxe-cell--required-icon"},[u("i")]):la(t),co(m)&&M?u("span",{class:"vxe-cell--edit-icon"},l.isFunction(v)?Cn(v({})):[u("i",{class:v||Zo().TABLE_EDIT})]):la(t)]}return cl(e,D.concat(so.renderHeaderTitle(e)).concat(f?so.renderSortIcon(e):[]).concat(E?so.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:o}=e,r=t.reactData,{editStore:s}=r,{actived:i}=s,{editRender:d}=o;return so.runRenderer(e,co(d)&&i&&i.row===e.row)},renderDeepRowEdit(e){return so.renderDeepNodeBtn(e,so.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:o}=e,r=t.reactData,{editStore:s}=r,{actived:i}=s,{editRender:d}=o;return so.runRenderer(e,co(d)&&i&&i.row===e.row&&i.column===e.column)},renderDeepCellEdit(e){return so.renderDeepNodeBtn(e,so.renderCellEdit(e))},runRenderer(e,t){const{$table:o,row:r,column:s}=e,i=o.reactData,{isRowGroupStatus:d}=i,{slots:b,field:f,editRender:E,formatter:m}=s,w=b?b.default:null,D=b?b.groupContent||b["group-content"]:null,C=b?b.edit:null,M=Wi.get(E.name),v=M?M.renderTableEdit||M.renderEdit:null,p=Object.assign({$type:"",isEdit:t},e);if(t)return p.$type="edit",C?o.callSlot(C,p):v?Cn(v(E,p)):[];if(d&&f&&r.isAggregate){const T=r,{computeAggregateOpts:N}=o.getComputeMaps(),k=N.value,{mapChildrenField:j}=k,J=T.groupField,B=T.groupContent,I=j?T[j]||[]:[],F=T.childCount;if(D)return Pn(e,o.callSlot(D,Object.assign({groupField:J,groupContent:B,childList:I,childCount:F},e)))}else if(w)return Pn(e,o.callSlot(w,p));return m?Pn(e,[u("span",{class:"vxe-cell--label"},wC(p))]):so.renderDefaultCell(p)}},_E={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],headerFormatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,floatingFilters:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,aggFunc:[String,Boolean],copyMethod:Function,cutMethod:Function,pasteMethod:Function,params:Object},aa=Fr({name:"VxeColumn",props:_E,setup(e,{slots:t}){const o=xt(),r=Co("$xeTable",null),s=Co("$xeColgroup",null);if(!r)return()=>$o();const i=so.createColumn(r,e);i.slots=t;const d=()=>u("div",{ref:o}),b={columnConfig:i,renderVN:d};return AE(r,e,i),sr(()=>{const f=o.value;f&&PE(r,f,i,s)}),mr(()=>{kE(r,i)}),ir("$xeColumn",b),ir("$xeGrid",null),ir("$xeGantt",null),d}}),ia=Fr({name:"VxeColgroup",props:_E,setup(e,{slots:t}){const o=xt(),r=Co("$xeTable",null),s=Co("$xeColgroup",null);if(!r)return()=>$o();const i=so.createColumn(r,e),d={};t.header&&(d.header=t.header),i.slots=d,i.children=[],AE(r,e,i),sr(()=>{const E=o.value;E&&PE(r,E,i,s)}),mr(()=>{kE(r,i)});const b=()=>u("div",{ref:o},t.default?t.default():[]);return ir("$xeColgroup",{columnConfig:i}),ir("$xeGrid",null),ir("$xeGantt",null),b}}),gM=Object.assign({},ia,{install(e){e.component(ia.name,ia),e.component("VxeTableColgroup",ia)}});Ee.dynamicApp&&(Ee.dynamicApp.component(ia.name,ia),Ee.dynamicApp.component("VxeTableColgroup",ia));Ee.component(ia);const hM=Object.assign({},aa,{install(e){e.component(aa.name,aa),e.component("VxeTableColumn",aa)}});Ee.dynamicApp&&(Ee.dynamicApp.component(aa.name,aa),Ee.dynamicApp.component("VxeTableColumn",aa));Ee.component(aa);const{getConfig:vn}=Ee,oc={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>null},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>vn().table.resizable},stripe:{type:Boolean,default:()=>vn().table.stripe},border:{type:[Boolean,String],default:()=>vn().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>vn().table.round},size:{type:String,default:()=>vn().table.size||vn().size},fit:{type:Boolean,default:()=>vn().table.fit},loading:Boolean,align:{type:String,default:()=>vn().table.align},headerAlign:{type:String,default:()=>vn().table.headerAlign},footerAlign:{type:String,default:()=>vn().table.footerAlign},showHeader:{type:Boolean,default:()=>vn().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>vn().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>vn().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>vn().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>vn().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],showCustomHeader:{type:Boolean,default:()=>vn().table.showCustomHeader},mergeHeaderCells:Array,mergeCells:Array,mergeFooterCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>vn().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>vn().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>vn().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>vn().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>vn().table.emptyText},keepSource:{type:Boolean,default:()=>vn().table.keepSource},autoResize:{type:Boolean,default:()=>vn().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,aggregateConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,floatingFilterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,headerTooltipConfig:Object,footerTooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>vn().table.animat},delayHover:{type:Number,default:()=>vn().table.delayHover},params:Object},{getConfig:EC}=Ee,mM=Object.assign(Object.assign({},oc),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>EC().grid.size||EC().size}}),rh=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","columns-change","data-change","footer-data-change","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","row-remove-dragend","row-insert-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","custom-visible-change","custom-visible-all","custom-fixed-change","custom-sort-change","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-extension-fill","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],vM=[...rh,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],nc="row--drag-move",HE="col--drag-move";function Ds(e,t){l.arrayEach(e,o=>{o.style.transform=`translateY(${t}px)`}),requestAnimationFrame(()=>{l.arrayEach(e,o=>{Dr(o,nc),o.style.transform=""})})}function bM(e,t){setTimeout(()=>{e&&l.arrayEach(e.querySelectorAll(t.map(o=>`${o}.${nc}`).join(",")),o=>Xn(o,nc))},500)}function SC(e,t){l.arrayEach(e,o=>{o.style.transform=`translateX(${t}px)`}),requestAnimationFrame(()=>{l.arrayEach(e,o=>{Dr(o,HE),o.style.transform=""})})}function xM(e,t){setTimeout(()=>{e&&l.arrayEach(e.querySelectorAll(t.map(o=>`${o}.${nc}`).join(",")),o=>Xn(o,HE))},500)}const CM=un({row:null});function yM(){return CM}const{getI18n:wM,renderer:RC,renderEmptyElement:Bi}=Ee,DC="table",Os="body",OC=Fr({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const t=Co("$xeTable",{}),{xID:o,props:r,context:s,reactData:i,internalData:d}=t,{computeEditOpts:b,computeMouseOpts:f,computeCellOffsetWidth:E,computeAreaOpts:m,computeDefaultRowHeight:w,computeEmptyOpts:D,computeTooltipOpts:C,computeRadioOpts:M,computeExpandOpts:v,computeTreeOpts:p,computeCheckboxOpts:T,computeCellOpts:N,computeValidOpts:k,computeRowOpts:j,computeColumnOpts:J,computeRowDragOpts:B,computeResizableOpts:I,computeVirtualXOpts:F,computeVirtualYOpts:V,computeIsBodyRenderOptimize:W}=t.getComputeMaps(),ie=xt(),U=xt(),_=xt(),z=xt(),se=xt(),ye=xt(),Y=xt(),X=xt(),Re=()=>{const{delayHover:De}=r,{lastScrollTime:Me,isDragResize:Se}=i;return!!(Se||Me&&Date.now()<Me+De)},ue=(De,Me,Se)=>{const{column:xe}=Me,{treeConfig:fe}=r,Oe=N.value,Pe=j.value,tt=w.value,Je=p.value,{slots:rt,treeNode:ze}=xe,{fullAllDataRowIdData:Z}=d;if(fe&&ze&&(Je.showLine||Je.line)){if(rt&&rt.line)return t.callSlot(rt.line,Me);const $e=Z[De];let ce=0,Ne=null,Ke=null,dt="";if($e&&(ce=$e.level,Ne=$e.items[$e.treeIndex-1],Ke=$e.parent),!ce&&!Je.showRootLine)return[];if(Ne)dt=`${(Z[Pt(t,Ne)]||{}).lineHeight||0}px`;else if(ce&&Ke){const ft=Z[Pt(t,Ke)]||{};dt=`calc(-1em + ${Math.floor(Se/2+Rr(ft,Oe,Pe,tt)/2)}px)`}return[u("div",{key:"tl",class:"vxe-tree--line-wrapper"},[u("div",{class:"vxe-tree--line",style:{height:dt,bottom:`-${Math.floor(Se/2)}px`,left:`calc(${ce*Je.indent}px + 1em)`}})])]}return[]},Q=(De,Me,Se,xe,fe,Oe,Pe,tt,Je,rt,ze,Z,$e)=>{const ce=t.xeGrid,Ne=t.xeGantt,{columnKey:Ke,resizable:dt,showOverflow:ft,border:Vt,height:bt,treeConfig:vt,cellClassName:Ot,cellStyle:lt,align:Et,spanMethod:Xt,mouseConfig:jt,editConfig:Gt,editRules:Ct,tooltipConfig:Nt,padding:_t}=r,{tableData:ke,tableColumn:Fe,dragRow:je,overflowX:nt,overflowY:mt,currentColumn:te,scrollXLoad:_e,scrollYLoad:Be,mergeBodyFlag:Qe,calcCellHeightFlag:at,resizeHeightFlag:yt,resizeWidthFlag:Xe,editStore:ge,isAllOverflow:P,validErrorMaps:H}=i,{fullAllDataRowIdData:ne,fullColumnIdData:Te,mergeBodyCellMaps:Ce,visibleColumn:He,afterFullData:Ze,mergeBodyList:ct,scrollXStore:st,scrollYStore:ot}=d,Ue=N.value,zt=k.value,mo=T.value,Eo=b.value,_o=C.value,we=I.value,qe=F.value,It=V.value,{isAllColumnDrag:$t,isAllRowDrag:Ht}=we,Rt=j.value,ht=B.value,wt=w.value,Ft=at?Ue.height||Rt.height:0,{disabledMethod:Tt,isCrossDrag:to,isPeerDrag:qt}=ht,ro=J.value,ho=f.value,Ho=m.value,an=E.value,{selectCellToRow:yn}=Ho,{type:Uo,cellRender:Yo,editRender:on,align:bn,showOverflow:qo,className:Fo,treeNode:Qo,rowResize:wn,padding:Sn,verticalAlign:xn,slots:Io}=rt,{verticalAlign:uo}=Ue,{actived:Vn}=ge,Qn=ne[Me]||{},zn=rt.id,er=Te[zn]||{},yl=on||Yo,fr=yl?RC.get(yl.name):null,_l=fr?fr.tableCellClassName||fr.cellClassName:null,Qr=fr?fr.tableCellStyle||fr.cellStyle:"",el=_o.showAll,Hl=er.index,Vr=er._index,zr=co(on),Bl=yt?Qn.resizeHeight:0;let $n=nt&&(Se?rt.fixed!==Se:!!rt.fixed);const fa=l.eqNull(Sn)?_t===null?Ue.padding:_t:Sn,h=l.eqNull(qo)?ft:qo,tl=h==="ellipsis",yr=h==="title",Bo=h===!0||h==="tooltip",Wn=P||yr||Bo||tl,Vl=l.isBoolean(rt.resizable)?rt.resizable:ro.resizable||dt,zl=!!Ft,ol=Bl>0;let nl;const tr={},qr=bn||(fr?fr.tableCellAlign:"")||Et,wl=l.eqNull(xn)?uo:xn,pr=H[`${Me}:${zn}`],El=Ct&&zt.showMessage&&(zt.message==="default"?bt||ke.length>1:zt.message==="inline"),or={colid:zn},fn={$table:t,$grid:ce,$gantt:Ne,isEdit:!1,seq:De,rowid:Me,row:Oe,rowIndex:Pe,$rowIndex:tt,_rowIndex:Je,column:rt,columnIndex:Hl,$columnIndex:ze,_columnIndex:Vr,fixed:Se,source:DC,type:Os,isHidden:!!$n,level:fe,visibleData:Ze,data:ke,items:$e};let Gr=!1,ql=!1;Rt.drag&&(Gr=ht.trigger==="row"||rt.dragSort&&ht.trigger==="cell"),Gr&&(ql=!!(Tt&&Tt(fn))),(yr||Bo||el||Nt)&&(tr.onMouseover=St=>{Re()||(yr?th(St.currentTarget,rt):(Bo||el)&&t.triggerBodyTooltipEvent(St,fn)),t.dispatchEvent("cell-mouseenter",Object.assign({cell:St.currentTarget},fn),St)}),(Bo||el||Nt)&&(tr.onMouseleave=St=>{Re()||(Bo||el)&&t.handleTargetLeaveEvent(St),t.dispatchEvent("cell-mouseleave",Object.assign({cell:St.currentTarget},fn),St)}),(Gr||mo.range||jt)&&(tr.onMousedown=St=>{t.triggerCellMousedownEvent(St,fn)}),Gr&&(tr.onMouseup=t.triggerCellMouseupEvent),tr.onClick=St=>{t.triggerCellClickEvent(St,fn)},tr.onDblclick=St=>{t.triggerCellDblclickEvent(St,fn)};let Ar=!1,rl=1,ll=1;if(Qe&&ct.length){const St=Ce[`${Je}:${Vr}`];if(St){const{rowspan:At,colspan:Ve}=St;if(!At||!Ve)return Bi(t);At>1&&(Ar=!0,ll=At,or.rowspan=At),Ve>1&&(Ar=!0,rl=Ve,or.colspan=Ve)}}else if(Xt){const{rowspan:St=1,colspan:At=1}=Xt(fn)||{};if(!St||!At)return Bi(t);St>1&&(Ar=!0,ll=St,or.rowspan=St),At>1&&(Ar=!0,rl=At,or.colspan=At)}$n&&Ar&&(or.colspan>1||or.rowspan>1)&&($n=!1),!$n&&Gt&&(on||Yo)&&(Eo.showStatus||Eo.showUpdateStatus)&&(nl=t.isUpdateByRow(Oe,rt.field));const Ha=!Wn&&(Be||_e);let al=Rr(Qn,Ue,Rt,wt);const A=ze===Z.length-1,me=!rt.resizeWidth&&(rt.minWidth==="auto"||rt.width==="auto");let Ae=!1;if(Ar||(!je||Pt(t,je)!==Me)&&(mt&&Be&&ke.length>16&&!vt&&!It.immediate&&(Je<ot.visibleStartIndex-ot.preloadSize||Je>ot.visibleEndIndex+ot.preloadSize)||nt&&_e&&Fe.length>10&&!qe.immediate&&!rt.fixed&&(Vr<st.visibleStartIndex-st.preloadSize||Vr>st.visibleEndIndex+st.preloadSize))&&(Ae=!0),ll>1){const St=Ze[Je+ll-1];if(St){const At=ne[Pt(t,St)];At&&(al+=At.oTop+Rr(At,Ue,Rt,wt)-Qn.oTop-Rr(Qn,Ue,Rt,wt))}}const et={};if(Wn&&Xe){let St=0;if(rl>1)for(let At=1;At<rl;At++){const Ve=He[Hl+At];Ve&&(St+=Ve.renderWidth)}et.width=`${rt.renderWidth+St-an}px`}Be||_e||Wn||zl||ol?et.height=`${al}px`:et.minHeight=`${al}px`;const Dt=[];if($n&&P)Dt.push(u("div",{key:"tc",class:["vxe-cell",{"c--title":yr,"c--tooltip":Bo,"c--ellipsis":tl}],style:et}));else if(vt&&Dt.push(...ue(Me,fn,al)),Dt.push(u("div",{key:"tc",class:["vxe-cell",{"c--title":yr,"c--tooltip":Bo,"c--ellipsis":tl}],style:et,title:yr?t.getCellLabel(Oe,rt):null},Ae?[]:[u("div",{colid:zn,rowid:Me,class:"vxe-cell--wrapper vxe-body-cell--wrapper"},rt.renderCell(fn))])),El&&pr){const St=pr.rule,At=Io?Io.valid:null,Ve=Object.assign(Object.assign(Object.assign({},fn),pr),{rule:pr});Dt.push(u("div",{key:"tcv",class:["vxe-cell--valid-error-tip",ra(zt.className,Ve)],style:St&&St.maxWidth?{width:`${St.maxWidth}px`}:null},[u("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${zt.theme||"normal"}`},[At?t.callSlot(At,Ve):[u("span",{class:"vxe-cell--valid-error-msg"},pr.content)]])]))}let kt=!1;return jt&&ho.area&&!Vr&&yn&&(kt=!0),!$n&&Vl&&$t&&Dt.push(u("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!Vt||Vt==="none"}],onMousedown:St=>t.handleColResizeMousedownEvent(St,Se,fn),onDblclick:St=>t.handleColResizeDblclickEvent(St,fn)})),(wn||Ht)&&Rt.resizable&&Dt.push(u("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:St=>t.handleRowResizeMousedownEvent(St,fn),onDblclick:St=>t.handleRowResizeDblclickEvent(St,fn)})),u("td",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-body--column",zn,wl?`col--vertical-${wl}`:"",qr?`col--${qr}`:"",Uo?`col--${Uo}`:"",{"col--last":A,"col--tree-node":Qo,"col--edit":zr,"col--ellipsis":Wn,"col--cs-height":zl,"col--rs-height":ol,"col--to-row":kt,"col--auto-height":Ha,"fixed--width":!me,"fixed--hidden":$n,"is--padding":fa,"is--progress":$n&&P||Ae,"is--drag-cell":Gr&&(to||qt||!fe),"is--drag-disabled":ql,"col--dirty":nl,"col--active":Gt&&zr&&Vn.row===Oe&&(Vn.column===rt||Eo.mode==="row"),"col--valid-error":!!pr,"col--current":te===rt},ra(_l,fn),ra(Fo,fn),ra(Ot,fn)],key:Ke||_e||Be||ro.useKey||Rt.useKey||ro.drag?zn:ze},or),{style:Object.assign({},l.isFunction(Qr)?Qr(fn):Qr,l.isFunction(lt)?lt(fn):lt)}),tr),xe&&$n?[]:Dt)},be=(De,Me,Se,xe)=>{const fe=t.xeGrid,Oe=t.xeGantt,{stripe:Pe,rowKey:tt,highlightHoverRow:Je,rowClassName:rt,rowStyle:ze,editConfig:Z,treeConfig:$e}=r,{hasFixedColumn:ce,treeExpandedFlag:Ne,scrollXLoad:Ke,scrollYLoad:dt,isAllOverflow:ft,rowExpandedFlag:Vt,expandColumn:bt,selectRadioRow:vt,pendingRowFlag:Ot,rowExpandHeightFlag:lt,isRowGroupStatus:Et}=i,{fullAllDataRowIdData:Xt,fullColumnIdData:jt,treeExpandedMaps:Gt,pendingRowMaps:Ct,rowExpandedMaps:Nt}=d,_t=T.value,ke=M.value,Fe=p.value,je=b.value,nt=j.value,mt=J.value,{transform:te,seqMode:_e}=Fe,Be=Fe.children||Fe.childrenField,Qe=[],{handleGetRowId:at}=gn(t),yt=$e||Et;return Se.forEach((Xe,ge)=>{const P=at(Xe),H=Xt[P]||{};let ne=ge,Te=0,Ce=-1,He=-1;const Ze=Et&&Xe.isAggregate,ct={};(nt.isHover||Je)&&(ct.onMouseover=we=>{Re()||t.triggerHoverEvent(we,{row:Xe,rowIndex:ne})},ct.onMouseleave=()=>{Re()||t.clearHoverRow()}),H&&(ne=H.index,He=H._index,Te=H.level,Ce=H.seq,Ze||$e&&te&&_e==="increasing"?Ce=H._index+1:$e&&_e==="fixed"&&(Ce=H._tIndex+1));const st={$table:t,seq:Ce,rowid:P,fixed:De,type:Os,level:Te,row:Xe,rowIndex:ne,$rowIndex:ge,_rowIndex:He},ot=bt&&!!Vt&&!!Nt[P];let Ue=!1,zt=[],mo=!1;Z&&(mo=t.isInsertByRow(Xe)),$e&&!dt&&!te&&(zt=Xe[Be],Ue=!!Ne&&zt&&zt.length>0&&!!Gt[P]),nt.drag&&!Et&&(!$e||te)&&(ct.onDragstart=t.handleRowDragDragstartEvent,ct.onDragend=t.handleRowDragDragendEvent,ct.onDragover=t.handleRowDragDragoverEvent);const Eo=["vxe-body--row",yt?`row--level-${Te}`:"",{"row--stripe":Pe&&(He+1)%2===0,"is--new":mo,"is--expand-row":ot,"is--expand-tree":Ue,"row--new":mo&&(je.showStatus||je.showInsertStatus),"row--radio":ke.highlight&&t.eqRow(vt,Xe),"row--checked":_t.highlight&&t.isCheckedByCheckboxRow(Xe),"row--pending":!!Ot&&!!Ct[P],"row--group":Ze},ra(rt,st)],_o=xe.map((we,qe)=>Q(Ce,P,De,Me,Te,Xe,ne,ge,He,we,qe,xe,Se));if(Qe.push(u("tr",Object.assign({class:Eo,rowid:P,style:ze?l.isFunction(ze)?ze(st):ze:null,key:tt||Ke||dt||nt.useKey||nt.drag||mt.drag||Et||$e?P:ge},ct),_o)),ot){const we=v.value,{height:qe,padding:It,mode:$t}=we;if($t==="fixed")Qe.push(u("tr",{class:"vxe-body--row-expanded-place",key:`expand_${P}`,rowid:P},[u("td",{class:"vxe-body--row-expanded-place-column",colspan:xe.length,style:{height:`${lt?H.expandHeight||qe:0}px`}})]));else{const Ht={};qe&&(Ht.height=`${qe}px`),$e&&(Ht.paddingLeft=`${Te*Fe.indent+30}px`);const{showOverflow:Rt}=bt||{},ht=bt.id,wt=jt[ht]||{},Ft=l.eqNull(Rt)?ft:Rt;let Tt=-1,to=-1,qt=-1;wt&&(Tt=wt.index,to=wt.$index,qt=wt._index);const ro={$table:t,$grid:fe,$gantt:Oe,seq:Ce,column:bt,columnIndex:Tt,$columnIndex:to,_columnIndex:qt,fixed:De,source:DC,type:Os,level:Te,row:Xe,rowid:P,rowIndex:ne,$rowIndex:ge,_rowIndex:He,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};Qe.push(u("tr",{class:["vxe-body--expanded-row",{"is--padding":It}],key:`expand_${P}`},[u("td",{class:["vxe-body--expanded-column",{"fixed--hidden":De&&!ce,"col--ellipsis":Ft}],colspan:xe.length},[u("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":qe}],style:Ht},[bt.renderData(ro)])])]))}}Ue&&Qe.push(...be(De,Me,zt,xe))}),Qe};return sr(()=>{pe(()=>{const{fixedType:De}=e,{elemStore:Me}=d,Se=`${De||"main"}-body-`;Me[`${Se}wrapper`]=ie,Me[`${Se}scroll`]=U,Me[`${Se}table`]=_,Me[`${Se}colgroup`]=z,Me[`${Se}list`]=se,Me[`${Se}xSpace`]=ye,Me[`${Se}ySpace`]=Y,Me[`${Se}emptyBlock`]=X})}),mr(()=>{const{fixedType:De}=e,{elemStore:Me}=d,Se=`${De||"main"}-body-`;Me[`${Se}wrapper`]=null,Me[`${Se}scroll`]=null,Me[`${Se}table`]=null,Me[`${Se}colgroup`]=null,Me[`${Se}list`]=null,Me[`${Se}xSpace`]=null,Me[`${Se}ySpace`]=null,Me[`${Se}emptyBlock`]=null}),()=>{const{slots:De}=s,Me=t.xeGrid,Se=t.xeGantt,{fixedColumn:xe,fixedType:fe,tableColumn:Oe}=e,{mouseConfig:Pe}=r,{isGroup:tt,tableData:Je,isColLoading:rt,overflowX:ze,scrollXLoad:Z,scrollYLoad:$e,dragRow:ce,dragCol:Ne}=i,{visibleColumn:Ke,fullAllDataRowIdData:dt,fullColumnIdData:ft}=d,Vt=D.value,bt=f.value,vt=W.value;let Ot=Je,lt=Oe;const Et=vt;if(!rt&&(fe||!ze)&&(lt=Ke),fe&&Et&&(lt=xe||[]),$e&&ce&&Ot.length>2){const Ct=dt[Pt(t,ce)];if(Ct){const Nt=Ct._index,_t=Ot[0],ke=Ot[Ot.length-1],Fe=dt[Pt(t,_t)],je=dt[Pt(t,ke)];if(Fe&&je){const nt=Fe._index,mt=je._index;Nt<nt?Ot=[ce].concat(Ot):Nt>mt&&(Ot=Ot.concat([ce]))}}}if(!fe&&!tt&&Z&&Ne&&lt.length>2){const Ct=ft[Ne.id];if(Ct){const Nt=Ct._index,_t=lt[0],ke=lt[lt.length-1],Fe=ft[_t.id],je=ft[ke.id];if(Fe&&je){const nt=Fe._index,mt=je._index;Nt<nt?lt=[Ne].concat(lt):Nt>mt&&(lt=lt.concat([Ne]))}}}let Xt;const jt=De?De.empty:null,Gt={$table:t,$grid:Me,$gantt:Se};if(jt)Xt=t.callSlot(jt,Gt);else{const Ct=Vt.name?RC.get(Vt.name):null,Nt=Ct?Ct.renderTableEmpty||Ct.renderTableEmptyView||Ct.renderEmpty:null;Nt?Xt=Cn(Nt(Vt,Gt)):Xt=r.emptyText||wM("vxe.table.emptyText")}return u("div",{ref:ie,class:["vxe-table--body-wrapper",fe?`fixed-${fe}--wrapper`:"body--wrapper"],xid:o},[u("div",{ref:U,class:"vxe-table--body-inner-wrapper",onScroll(Ct){t.triggerBodyScrollEvent(Ct,fe)}},[fe?Bi(t):u("div",{ref:ye,class:"vxe-body--x-space"}),u("div",{ref:Y,class:"vxe-body--y-space"}),u("table",{ref:_,class:"vxe-table--body",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:Et?"1":null},[u("colgroup",{ref:z},lt.map((Ct,Nt)=>u("col",{name:Ct.id,key:Nt,style:{width:`${Ct.renderWidth}px`}}))),u("tbody",{ref:se},be(fe,Et,Ot,lt))]),u("div",{class:"vxe-table--checkbox-range"}),Pe&&bt.area?u("div",{class:"vxe-table--cell-area",xid:o},[u("span",{class:"vxe-table--cell-main-area"},bt.extension?[u("span",{class:"vxe-table--cell-main-area-btn",onMousedown(Ct){t.triggerCellAreaExtendMousedownEvent&&t.triggerCellAreaExtendMousedownEvent(Ct,{$table:t,fixed:fe,type:Os})}})]:[]),u("span",{class:"vxe-table--cell-clip-area"}),u("span",{class:"vxe-table--cell-extend-area"}),u("span",{class:"vxe-table--cell-multi-area"}),u("span",{class:"vxe-table--cell-active-area"}),u("span",{class:"vxe-table--cell-row-status-area"})]):Bi(t),fe?Bi(t):u("div",{class:"vxe-table--empty-block",ref:X},[u("div",{class:"vxe-table--empty-content"},Xt)])])])}}}),{renderer:ag,renderEmptyElement:ig}=Ee,TC="table",sg="header";function BE(e){const{children:t}=e;return t&&t.length?BE(t[0]):e}function VE(e){const{children:t}=e;return t&&t.length?VE(t[t.length-1]):e}const MC=Fr({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=Co("$xeTable",{}),{xID:o,props:r,reactData:s,internalData:i}=t,{computeColumnOpts:d,computeColumnDragOpts:b,computeCellOpts:f,computeMouseOpts:E,computeHeaderCellOpts:m,computeDefaultRowHeight:w,computeVirtualXOpts:D,computeFloatingFilterOpts:C,computeIsHeaderRenderOptimize:M}=t.getComputeMaps(),v=xt([]),p=xt(),T=xt(),N=xt(),k=xt(),j=xt(),J=xt(),B=xt(),I=()=>{const{showCustomHeader:U}=r,{collectColumn:_,visibleColumn:z}=i,{tableGroupColumn:se}=e,{isGroup:ye}=s;let Y=ye?XT(se):[],X=[];U&&Y.length>1&&(X=ZT(Y),Y=X),v.value=Y,t.dispatchEvent("columns-change",{visibleColgroups:X,collectColumn:_,visibleColumn:z},null)},F=(U,_,z,se,ye)=>{const Y=t.xeGrid,X=t.xeGantt,{fixedType:Re}=e,{resizable:ue,columnKey:Q,showCustomHeader:be,headerCellClassName:Ie,headerCellStyle:De,showHeaderOverflow:Me,headerAlign:Se,align:xe,mouseConfig:fe}=r,{currentColumn:Oe,dragCol:Pe,scrollXLoad:tt,scrollYLoad:Je,overflowX:rt,mergeHeadFlag:ze,tableColumn:Z}=s,{fullColumnIdData:$e,scrollXStore:ce,mergeHeaderList:Ne,mergeHeaderCellMaps:Ke}=i,dt=D.value,ft=d.value,Vt=b.value,bt=f.value,vt=w.value,Ot=m.value,lt=os(Ot.height)||vt,{disabledMethod:Et,isCrossDrag:Xt,isPeerDrag:jt}=Vt,Gt=se===z.length-1;return ye.map((Ct,Nt)=>{const{type:_t,showHeaderOverflow:ke,headerAlign:Fe,align:je,filters:nt,headerClassName:mt,editRender:te,cellRender:_e}=Ct,Be=Ct.id,Qe=$e[Be]||{},at=te||_e,yt=at?ag.get(at.name):null,Xe=Ct.children&&Ct.children.length,ge=rt&&!Xe&&(Re?Ct.fixed!==Re:!!Ct.fixed),P=l.isBoolean(Ot.padding)?Ot.padding:bt.padding,H=l.eqNull(ke)?Me:ke,ne=Fe||(yt?yt.tableHeaderCellAlign:"")||Se||je||(yt?yt.tableCellAlign:"")||xe,Te=H==="ellipsis",Ce=H==="title",He=H===!0||H==="tooltip",Ze=Ce||He||Te;let ct=!1,st=null;nt&&(st=nt[0],ct=nt.some(wt=>wt.checked));const ot=Qe.index,Ue=Qe._index,zt={$table:t,$grid:Y,$gantt:X,$rowIndex:se,column:Ct,columnIndex:ot,$columnIndex:Nt,_columnIndex:Ue,firstFilterOption:st,fixed:Re,source:TC,type:sg,isHidden:ge,hasFilter:ct},mo={colid:Be};let Eo=!1;if(be||(mo.colspan=Ct.colSpan>1?Ct.colSpan:null,mo.rowspan=Ct.rowSpan>1?Ct.rowSpan:null),ze&&Ne.length&&(be||Gt)){const wt=Ke[`${se}:${be?Nt:Ue}`];if(wt){const{rowspan:Ft,colspan:Tt}=wt;if(!Ft||!Tt)return null;Ft>1&&(Eo=!0,mo.rowspan=Ft),Tt>1&&(Eo=!0,mo.colspan=Tt)}}const _o={onClick:wt=>t.triggerHeaderCellClickEvent(wt,zt),onDblclick:wt=>t.triggerHeaderCellDblclickEvent(wt,zt)},we=ft.drag&&Vt.trigger==="cell";let qe=!1;we&&(qe=!!(Et&&Et(zt))),(fe||we)&&(_o.onMousedown=wt=>t.triggerHeaderCellMousedownEvent(wt,zt)),ft.drag&&(_o.onDragstart=t.handleHeaderCellDragDragstartEvent,_o.onDragend=t.handleHeaderCellDragDragendEvent,_o.onDragover=t.handleHeaderCellDragDragoverEvent,we&&(_o.onMouseup=t.handleHeaderCellDragMouseupEvent));const It=Nt===ye.length-1,$t=l.isBoolean(Ct.resizable)?Ct.resizable:ft.resizable||ue,Ht=!Ct.resizeWidth&&(Ct.minWidth==="auto"||Ct.width==="auto");let Rt=!1;_&&rt&&!U&&!Eo&&(!Pe||Pe.id!==Be)&&tt&&Z.length>10&&!Ct.fixed&&!dt.immediate&&(Ue<ce.visibleStartIndex-ce.preloadSize||Ue>ce.visibleEndIndex+ce.preloadSize)&&(Rt=!0);const ht={};if(Ze?ht.height=`${lt}px`:ht.minHeight=`${lt}px`,!be){if(Xe&&!Gt){const wt=BE(Ct),Ft=VE(Ct);if(wt&&Ft&&wt.id!==Ft.id){const Tt=$e[wt.id],to=$e[Ft.id];Tt&&to&&(ht.width=`${to.oLeft-Tt.oLeft+Ft.renderWidth}px`)}}}return u("th",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-header--column",Be,ge?"fixed--hidden":"fixed--visible",{[`col--${ne}`]:ne,[`col--${_t}`]:_t,"col--last":It,"col--fixed":Ct.fixed,"col--group":Xe,"col--ellipsis":Ze,"fixed--width":!Ht,"is--padding":P,"is--sortable":Ct.sortable,"col--filter":!!nt,"is--filter-active":ct,"is--drag-active":ft.drag&&!Ct.fixed&&!qe&&(Xt||jt||!Ct.parentId),"is--drag-disabled":ft.drag&&qe,"col--current":Oe===Ct},mt?l.isFunction(mt)?mt(zt):mt:"",Ie?l.isFunction(Ie)?Ie(zt):Ie:""],style:De?l.isFunction(De)?De(zt):De:null},mo),_o),{key:be?`${Be}${Nt}`:Q||tt||Je||ft.useKey||ft.drag||Xe?Be:Nt}),[u("div",{class:["vxe-cell",{"c--title":Ce,"c--tooltip":He,"c--ellipsis":Te}],style:ht},Rt||_&&ge?[]:[u("div",{colid:Be,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},Ct.renderHeader(zt))]),!ge&&$t&&(!be||Gt)?u("div",{class:"vxe-cell--col-resizable",onMousedown:wt=>t.handleColResizeMousedownEvent(wt,Re,zt),onDblclick:wt=>t.handleColResizeDblclickEvent(wt,zt)}):ig(t)])})},V=(U,_)=>{const z=t.xeGrid,se=t.xeGantt,{fixedType:ye}=e,{showHeaderOverflow:Y,headerAlign:X,align:Re}=r,{currentColumn:ue,overflowX:Q}=s,{fullColumnIdData:be}=i,Ie=f.value,De=w.value,Me=m.value,Se=os(Me.height)||De;return _.map((xe,fe)=>{const{type:Oe,showHeaderOverflow:Pe,headerAlign:tt,align:Je,filters:rt,editRender:ze,cellRender:Z,floatingFilters:$e,filterRender:ce,slots:Ne}=xe,Ke=xe.id,dt=be[Ke]||{},ft=ze||Z,Vt=Ne?Ne.floatingFilter||Ne["floating-filter"]:null,bt=ft?ag.get(ft.name):null,vt=co(ce)?ag.get(ce.name):null,Ot=vt?vt.renderTableFloatingFilter:null,lt=Q&&(ye?xe.fixed!==ye:!!xe.fixed),Et=l.isBoolean(Me.padding)?Me.padding:Ie.padding,Xt=l.eqNull(Pe)?Y:Pe,jt=tt||(bt?bt.tableHeaderCellAlign:"")||X||Je||(bt?bt.tableCellAlign:"")||Re,Gt=Xt==="ellipsis",Ct=Xt==="title",Nt=Xt===!0||Xt==="tooltip",_t=Ct||Nt||Gt;let ke=!1,Fe=null;rt&&(Fe=rt[0],ke=rt.some(at=>at.checked));const je=dt.index,nt=dt._index,mt={$table:t,$grid:z,$gantt:se,column:xe,columnIndex:je,$columnIndex:fe,_columnIndex:nt,option:Fe,fixed:ye,source:TC,type:sg,isHidden:lt,hasFilter:ke},te={colid:Ke},_e=fe===_.length-1,Be=!xe.resizeWidth&&(xe.minWidth==="auto"||xe.width==="auto"),Qe={};return _t?Qe.height=`${Se}px`:Qe.minHeight=`${Se}px`,u("th",Object.assign({class:["vxe-table--column vxe-header--column",Ke,lt?"fixed--hidden":"fixed--visible",{[`col--${jt}`]:jt,[`col--${Oe}`]:Oe,"col--last":_e,"col--fixed":xe.fixed,"col--ellipsis":_t,"fixed--width":!Be,"is--padding":Et,"is--sortable":xe.sortable,"col--current":ue===xe}],key:Ke},te),[u("div",{class:["vxe-cell",{"c--title":Ct,"c--tooltip":Nt,"c--ellipsis":Gt}],style:Qe},U&&lt&&!$e?[]:[u("div",{colid:Ke,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},Vt?t.callSlot(Vt,mt):Ot&&Fe?Cn(Ot(ce,mt)):[])])])})},W=(U,_,z)=>{const{fixedType:se}=e,{headerRowClassName:ye,headerRowStyle:Y}=r,X=C.value,Re=z.map((ue,Q)=>{const be={$table:t,$rowIndex:Q,fixed:se,type:sg};return u("tr",{key:Q,class:["vxe-header--row",ye?l.isFunction(ye)?ye(be):ye:""],style:Y?l.isFunction(Y)?Y(be):Y:null},F(U,_,z,Q,ue))});return X.enabled&&Re.push(u("tr",{key:"ff",class:["vxe-header--row"]},V(_,z[z.length-1]))),Re},ie=()=>{const{fixedType:U,fixedColumn:_,tableColumn:z}=e,{mouseConfig:se}=r,{isGroup:ye,isColLoading:Y,overflowX:X,scrollXLoad:Re,dragCol:ue}=s,{visibleColumn:Q,fullColumnIdData:be}=i,Ie=E.value,De=M.value;let Me=v.value||[],Se=z;const xe=De;if(ye?Se=Q:((!xe||!Y&&(U||!X))&&(Se=Q),U&&xe&&(Se=_||[]),Me=[Se]),!U&&!ye&&Re&&ue&&Se.length>2){const fe=be[ue.id];if(fe){const Oe=fe._index,Pe=Se[0],tt=Se[Se.length-1],Je=be[Pe.id],rt=be[tt.id];if(Je&&rt){const ze=Je._index,Z=rt._index;Oe<ze?(Se=[ue].concat(Se),Me=[[ue].concat(Me[0])].concat(Me.slice(1))):Oe>Z&&(Se=Se.concat([ue]),Me=[Me[0].concat([ue])].concat(Me.slice(1)))}}}return u("div",{ref:p,class:["vxe-table--header-wrapper",U?`fixed-${U}--wrapper`:"body--wrapper"],xid:o},[u("div",{ref:T,class:"vxe-table--header-inner-wrapper",onScroll(fe){t.triggerHeaderScrollEvent(fe,U)}},[U?ig(t):u("div",{ref:J,class:"vxe-body--x-space"}),u("table",{ref:N,class:"vxe-table--header",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:xe?"1":null},[u("colgroup",{ref:k},Se.map((fe,Oe)=>u("col",{name:fe.id,key:Oe,style:{width:`${fe.renderWidth}px`}}))),u("thead",{ref:j},W(ye,xe,Me))]),se&&Ie.area?u("div",{class:"vxe-table--cell-area",xid:o},[u("span",{class:"vxe-table--cell-main-area"}),u("span",{class:"vxe-table--cell-clip-area"}),u("span",{class:"vxe-table--cell-extend-area"}),u("span",{class:"vxe-table--cell-multi-area"}),u("span",{class:"vxe-table--cell-active-area"}),u("span",{class:"vxe-table--cell-col-status-area"})]):ig(t)])])};return no(()=>e.tableColumn,I),sr(()=>{pe(()=>{const{fixedType:U}=e,{internalData:_}=t,{elemStore:z}=_,se=`${U||"main"}-header-`;z[`${se}wrapper`]=p,z[`${se}scroll`]=T,z[`${se}table`]=N,z[`${se}colgroup`]=k,z[`${se}list`]=j,z[`${se}xSpace`]=J,z[`${se}repair`]=B,I()})}),mr(()=>{const{fixedType:U}=e,{internalData:_}=t,{elemStore:z}=_,se=`${U||"main"}-header-`;z[`${se}wrapper`]=null,z[`${se}scroll`]=null,z[`${se}table`]=null,z[`${se}colgroup`]=null,z[`${se}list`]=null,z[`${se}xSpace`]=null,z[`${se}repair`]=null}),ie}}),{renderer:EM,renderEmptyElement:IC}=Ee,SM="table",FC="footer",AC=Fr({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=Co("$xeTable",{}),{xID:o,props:r,reactData:s,internalData:i}=t,{computeFooterTooltipOpts:d,computeColumnOpts:b,computeCellOpts:f,computeFooterCellOpts:E,computeDefaultRowHeight:m,computeResizableOpts:w,computeVirtualXOpts:D,computeIsFooterRenderOptimize:C}=t.getComputeMaps(),M=xt(),v=xt(),p=xt(),T=xt(),N=xt(),k=xt(),j=(I,F,V,W,ie,U)=>{const _=t.xeGrid,z=t.xeGantt,{fixedType:se}=e,{resizable:ye,border:Y,footerCellClassName:X,footerCellStyle:Re,footerAlign:ue,footerSpanMethod:Q,align:be,columnKey:Ie,showFooterOverflow:De}=r,{scrollXLoad:Me,scrollYLoad:Se,overflowX:xe,currentColumn:fe,mergeFootFlag:Oe}=s,{fullColumnIdData:Pe,mergeFooterList:tt,mergeFooterCellMaps:Je,scrollXStore:rt}=i,ze=D.value,Z=d.value,$e=w.value,{isAllColumnDrag:ce}=$e,Ne=b.value,Ke=m.value,dt=f.value,ft=E.value,Vt=os(ft.height)||Ke;return F.map((bt,vt)=>{const{type:Ot,showFooterOverflow:lt,footerAlign:Et,align:Xt,footerClassName:jt,editRender:Gt,cellRender:Ct}=bt,Nt=bt.id,_t=Pe[Nt]||{},ke=Gt||Ct,Fe=ke?EM.get(ke.name):null,je=Z.showAll,nt=xe&&(se?bt.fixed!==se:!!bt.fixed),mt=l.isBoolean(ft.padding)?ft.padding:dt.padding,te=l.eqNull(lt)?De:lt,_e=Et||(Fe?Fe.tableFooterCellAlign:"")||ue||Xt||(Fe?Fe.tableCellAlign:"")||be,Be=te==="ellipsis",Qe=te==="title",at=te===!0||te==="tooltip",yt=Qe||at||Be,Xe=l.isBoolean(bt.resizable)?bt.resizable:Ne.resizable||ye,ge={colid:Nt},P={},H=_t.index,ne=_t._index,Ce={$table:t,$grid:_,$gantt:z,row:W,rowIndex:U,_rowIndex:U,$rowIndex:ie,column:bt,columnIndex:H,$columnIndex:vt,_columnIndex:ne,itemIndex:ne,items:W,fixed:se,source:SM,type:FC,data:V};(Qe||at||je)&&(P.onMouseenter=Ue=>{Qe?th(Ue.currentTarget,bt):(at||je)&&t.triggerFooterTooltipEvent(Ue,Ce)}),(at||je)&&(P.onMouseleave=Ue=>{(at||je)&&t.handleTargetLeaveEvent(Ue)}),P.onClick=Ue=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:Ue.currentTarget},Ce),Ue)},P.onDblclick=Ue=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:Ue.currentTarget},Ce),Ue)};let He=!1;if(Oe&&tt.length){const Ue=Je[`${U}:${ne}`];if(Ue){const{rowspan:zt,colspan:mo}=Ue;if(!zt||!mo)return null;zt>1&&(He=!0,ge.rowspan=zt),mo>1&&(He=!0,ge.colspan=mo)}}else if(Q){const{rowspan:Ue=1,colspan:zt=1}=Q(Ce)||{};if(!Ue||!zt)return null;Ue>1&&(ge.rowspan=Ue),zt>1&&(ge.colspan=zt)}const Ze=vt===F.length-1,ct=!bt.resizeWidth&&(bt.minWidth==="auto"||bt.width==="auto");let st=!1;I&&xe&&!He&&Me&&F.length>10&&!bt.fixed&&!ze.immediate&&(ne<rt.visibleStartIndex-rt.preloadSize||ne>rt.visibleEndIndex+rt.preloadSize)&&(st=!0);const ot={};return yt?ot.height=`${Vt}px`:ot.minHeight=`${Vt}px`,u("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-footer--column",bt.id,{[`col--${_e}`]:_e,[`col--${Ot}`]:Ot,"col--last":Ze,"fixed--width":!ct,"fixed--hidden":nt,"is--padding":mt,"col--ellipsis":yt,"col--current":fe===bt},ra(jt,Ce),ra(X,Ce)]},ge),{style:Re?l.isFunction(Re)?Re(Ce):Re:null}),P),{key:Ie||Me||Se||Ne.useKey||Ne.drag?bt.id:vt}),[u("div",{class:["vxe-cell",{"c--title":Qe,"c--tooltip":at,"c--ellipsis":Be}],style:ot},st?[]:[u("div",{colid:Nt,class:"vxe-cell--wrapper vxe-footer-cell--wrapper"},bt.renderFooter(Ce))]),!nt&&Xe&&ce?u("div",{class:["vxe-cell--col-resizable",{"is--line":!Y||Y==="none"}],onMousedown:Ue=>t.handleColResizeMousedownEvent(Ue,se,Ce),onDblclick:Ue=>t.handleColResizeDblclickEvent(Ue,Ce)}):IC(t)])})},J=(I,F)=>{const{fixedType:V,footerTableData:W}=e,{footerRowClassName:ie,footerRowStyle:U}=r;return W.map((_,z)=>{const se=z,ye={$table:t,row:_,_rowIndex:se,$rowIndex:z,fixed:V,type:FC};return u("tr",{key:z,class:["vxe-footer--row",ie?l.isFunction(ie)?ie(ye):ie:""],style:U?l.isFunction(U)?U(ye):U:null},j(I,F,W,_,z,se))})},B=()=>{const{fixedType:I,fixedColumn:F,tableColumn:V}=e,{visibleColumn:W,fullColumnIdData:ie}=i,{isGroup:U,isColLoading:_,overflowX:z,scrollXLoad:se,dragCol:ye}=s,Y=C.value;let X=V;const Re=Y;if((!Re||!_&&(I||!z))&&(X=W),I&&Re&&(X=F||[]),!I&&!U&&se&&ye&&X.length>2){const ue=ie[ye.id];if(ue){const Q=ue._index,be=X[0],Ie=X[X.length-1],De=ie[be.id],Me=ie[Ie.id];if(De&&Me){const Se=De._index,xe=Me._index;Q<Se?X=[ye].concat(X):Q>xe&&(X=X.concat([ye]))}}}return u("div",{ref:M,class:["vxe-table--footer-wrapper",I?`fixed-${I}--wrapper`:"body--wrapper"],xid:o},[u("div",{ref:v,class:"vxe-table--footer-inner-wrapper",onScroll(ue){t.triggerFooterScrollEvent(ue,I)}},[I?IC(t):u("div",{ref:k,class:"vxe-body--x-space"}),u("table",{ref:p,class:"vxe-table--footer",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:Re?"1":null},[u("colgroup",{ref:T},X.map((ue,Q)=>u("col",{name:ue.id,key:Q,style:{width:`${ue.renderWidth}px`}}))),u("tfoot",{ref:N},J(Re,X))])])])};return sr(()=>{pe(()=>{const{fixedType:I}=e,{elemStore:F}=i,V=`${I||"main"}-footer-`;F[`${V}wrapper`]=M,F[`${V}scroll`]=v,F[`${V}table`]=p,F[`${V}colgroup`]=T,F[`${V}list`]=N,F[`${V}xSpace`]=k})}),mr(()=>{const{fixedType:I}=e,{elemStore:F}=i,V=`${I||"main"}-footer-`;F[`${V}wrapper`]=null,F[`${V}scroll`]=null,F[`${V}table`]=null,F[`${V}colgroup`]=null,F[`${V}list`]=null,F[`${V}xSpace`]=null}),B}}),{getI18n:en,getIcon:En,renderEmptyElement:zo}=Ee;function PC(){return{}}const RM=Fr({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e,t){const o=l.uniqueId(),r=Ee.getComponent("VxeModal"),s=Ee.getComponent("VxeDrawer"),i=Ee.getComponent("VxeButton"),d=Ee.getComponent("VxeNumberInput"),b=Ee.getComponent("VxeRadioGroup"),f=Co("$xeTable",{}),{props:E,reactData:m,internalData:w}=f,{computeCustomOpts:D,computeColumnDragOpts:C,computeColumnOpts:M,computeIsMaxFixedColumn:v,computeResizableOpts:p}=f.getComputeMaps(),T=xt(),N=xt(),k=xt(),j=xt(),J=xt(),B=un({dragCol:null,dragGroupField:null,dragAggFnCol:null,dragTipText:""});let I=PC();const F={refElem:T,refBodyWrapperElem:N,refCustomBodyElem:k,refDragLineElem:j,refDragTipElem:J},V={},W=Z=>{const{customStore:$e}=e;$e.activeWrapper=!0,f.customOpenEvent(Z)},ie=Z=>{const{customStore:$e}=e;$e.activeWrapper=!1,setTimeout(()=>{!$e.activeBtn&&!$e.activeWrapper&&f.customCloseEvent(Z)},300)},U=({$event:Z})=>{m.isCustomStatus=!0,f.saveCustom(),f.closeCustom(),f.emitCustomEvent("confirm",Z),f.emitCustomEvent("close",Z)},_=({$event:Z})=>{f.closeCustom(),f.emitCustomEvent("close",Z)},z=({$event:Z})=>{f.cancelCustom(),f.closeCustom(),f.emitCustomEvent("cancel",Z),f.emitCustomEvent("close",Z)},se=Z=>{f.resetCustom(!0),f.closeCustom(),f.emitCustomEvent("reset",Z),f.emitCustomEvent("close",Z)},ye=({$event:Z})=>{Ee.modal?Ee.modal.confirm({content:en("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then($e=>{$e==="confirm"&&se(Z)}):se(Z)},Y=Z=>{const{customColumnList:$e}=m,ce=l.findTree($e,Ne=>Ne===Z);if(ce&&ce.parent){const{parent:Ne}=ce;Ne.children&&Ne.children.length&&(Ne.renderVisible=Ne.children.every(Ke=>Ke.renderVisible),Ne.halfVisible=!Ne.renderVisible&&Ne.children.some(Ke=>Ke.renderVisible||Ke.halfVisible),Y(Ne))}},X=(Z,$e)=>{const ce=!Z.renderVisible;D.value.immediate?(l.eachTree([Z],Ke=>{Ke.visible=ce,Ke.renderVisible=ce,Ke.halfVisible=!1}),m.isCustomStatus=!0,f.handleCustom(),f.saveCustomStore("update:visible")):l.eachTree([Z],Ke=>{Ke.renderVisible=ce,Ke.halfVisible=!1}),Y(Z),f.checkCustomStatus(),f.dispatchEvent("custom-visible-change",{column:Z,checked:ce},$e)},Re=Z=>{D.value.immediate&&Z.renderResizeWidth!==Z.renderWidth&&(Z.resizeWidth=Z.renderResizeWidth,Z.renderWidth=Z.renderResizeWidth,m.isCustomStatus=!0,f.handleCustom(),f.saveCustomStore("update:width"))},ue=(Z,$e,ce)=>{const Ne=v.value,Ke=D.value;let dt=null;Ke.immediate?(Z.renderFixed===$e?(dt="",l.eachTree([Z],ft=>{ft.fixed="",ft.renderFixed=""})):(!Ne||Z.renderFixed)&&(dt=$e,l.eachTree([Z],ft=>{ft.fixed=$e,ft.renderFixed=$e})),m.isCustomStatus=!0,f.handleCustom(),f.saveCustomStore("update:fixed")):Z.renderFixed===$e?(dt="",l.eachTree([Z],ft=>{ft.renderFixed=""})):(!Ne||Z.renderFixed)&&(dt=$e,l.eachTree([Z],ft=>{ft.renderFixed=$e})),dt!==null&&f.dispatchEvent("custom-fixed-change",{column:Z,fixed:dt},ce)},Q=Z=>{const{customStore:$e}=m,ce=!$e.isAll;f.toggleCustomAllCheckbox(),f.dispatchEvent("custom-visible-all",{checked:ce},Z)},be=(Z,$e,ce,Ne)=>{const Ke=N.value;if(!Ke)return;const dt=k.value;if(!dt)return;const{prevDragToChild:ft}=I,Vt=Ke.getBoundingClientRect(),bt=dt.getBoundingClientRect(),vt=j.value;if($e){if(vt)if(ce){const lt=$e.getBoundingClientRect();vt.style.display="block",vt.style.left=`${Math.max(0,bt.x-Vt.x)}px`,vt.style.top=`${Math.max(1,lt.y+Ke.scrollTop-Vt.y)}px`,vt.style.height=`${lt.height}px`,vt.style.width=`${lt.width}px`,vt.setAttribute("drag-pos",Ne),vt.setAttribute("drag-to-child",ft?"y":"n")}else vt.style.display=""}else vt&&(vt.style.display="node");const Ot=J.value;Ot&&(Ot.style.display="block",Ot.style.top=`${Math.min(Ke.clientHeight+Ke.scrollTop-Ot.clientHeight,Z.clientY+Ke.scrollTop-Vt.y)}px`,Ot.style.left=`${Math.min(Ke.clientWidth+Ke.scrollLeft-Ot.clientWidth,Z.clientX+Ke.scrollLeft-Vt.x)}px`,Ot.setAttribute("drag-status",ce?ft?"sub":"normal":"disabled"))},Ie=()=>{const{dragCol:Z}=B,$e=C.value,{tooltipMethod:ce}=$e;let Ne="";ce?Ne=`${ce({$table:f,column:Z})||""}`:Ne=en("vxe.custom.cstmDragTarget",[Z&&Z.type!=="html"?Z.getTitle():""]),B.dragTipText=Ne},De=()=>{const Z=J.value,$e=j.value;Z&&(Z.style.display=""),$e&&($e.style.display="")},Me=Z=>{const Ke=Z.currentTarget.parentElement.parentElement.parentElement,dt=Ke.getAttribute("colid"),ft=f.getColumnById(dt);Ke.draggable=!0,B.dragCol=ft,B.dragGroupField=null,B.dragAggFnCol=null,Ie(),Dr(Ke,"active--drag-origin")},Se=Z=>{const Ke=Z.currentTarget.parentElement.parentElement.parentElement;De(),Ke.draggable=!1,B.dragCol=null,B.dragGroupField=null,B.dragAggFnCol=null,Xn(Ke,"active--drag-origin")},xe=Z=>{Z.dataTransfer&&Z.dataTransfer.setDragImage(Mg(),0,0),I.prevDragGroupField=null,I.prevDragAggFnColid=null},fe=Z=>{const{mouseConfig:$e}=E,{customColumnList:ce}=m,{collectColumn:Ne}=w,Ke=D.value,{immediate:dt}=Ke,ft=Z.currentTarget,Vt=C.value,{isCrossDrag:bt,isSelfToChildDrag:vt,isToChildDrag:Ot,dragEndMethod:lt}=Vt,{dragCol:Et}=B,{prevDragCol:Xt,prevDragGroupField:jt,prevDragAggFnColid:Gt,prevDragPos:Ct,prevDragToChild:Nt}=I,_t=Ct==="bottom"?1:0;if(jt||Gt)f.handlePivotTableAggregatePanelDragendEvent&&f.handlePivotTableAggregatePanelDragendEvent(Z);else if(Xt&&Et&&Xt!==Et){const ke=Et,Fe=Xt;Promise.resolve(lt?lt({oldColumn:ke,newColumn:Fe,dragColumn:ke,dragPos:Ct,dragToChild:!!Nt,offsetIndex:_t}):!0).then(je=>{if(!je)return;let nt=-1,mt=-1;const te={};l.eachTree([ke],Qe=>{te[Qe.id]=Qe});let _e=!1;if(dt){if(ke.parentId&&Fe.parentId){if(!bt)return;if(te[Fe.id]&&(_e=!0,!(bt&&vt))){Ee.modal&&Ee.modal.message({status:"error",content:en("vxe.error.treeDragChild")});return}}else if(ke.parentId){if(!bt)return}else if(Fe.parentId){if(!bt)return;if(te[Fe.id]&&(_e=!0,!(bt&&vt))){Ee.modal&&Ee.modal.message({status:"error",content:en("vxe.error.treeDragChild")});return}}const Qe=l.findTree(Ne,yt=>yt.id===ke.id);if(_e&&bt&&vt){if(Qe){const{items:yt,index:Xe}=Qe,ge=ke.children||[];ge.forEach(P=>{P.parentId=ke.parentId}),yt.splice(Xe,1,...ge),ke.children=[]}}else if(Qe){const{items:yt,index:Xe,parent:ge}=Qe;yt.splice(Xe,1),ge||(nt=Xe)}const at=l.findTree(Ne,yt=>yt.id===Fe.id);if(at){const{items:yt,index:Xe,parent:ge}=at;bt&&Ot&&Nt?(ke.parentId=Fe.id,Fe.children=(Fe.children||[]).concat([ke])):(ke.parentId=Fe.parentId,yt.splice(Xe+_t,0,ke)),ge||(mt=Xe)}l.eachTree(Ne,(yt,Xe,ge,P,H)=>{if(!H){const ne=Xe+1;yt.renderSortNumber=ne}})}else nt=l.findIndexOf(ce,Qe=>Qe.id===ke.id),ce.splice(nt,1),mt=l.findIndexOf(ce,Qe=>Qe.id===Fe.id),ce.splice(mt+_t,0,ke);$e&&(f.clearSelected&&f.clearSelected(),f.clearCellAreas&&(f.clearCellAreas(),f.clearCopyCellArea()));const Be={oldColumn:ke,newColumn:Fe,dragColumn:ke,dragPos:Ct,offsetIndex:_t,_index:{newIndex:mt,oldIndex:nt}};f.dispatchEvent("custom-sort-change",Be,Z),f.dispatchEvent("column-dragend",Be,Z),dt&&(m.customColumnList=Ne.slice(0),f.handleColDragSwapColumn())}).catch(()=>{})}De(),B.dragCol=null,B.dragGroupField=null,B.dragAggFnCol=null,I.prevDragGroupField=null,I.prevDragAggFnColid=null,ft.draggable=!1,ft.removeAttribute("drag-pos"),Xn(ft,"active--drag-target"),Xn(ft,"active--drag-origin")},Oe=Z=>{const $e=D.value,{immediate:ce}=$e,Ne=C.value,{isCrossDrag:Ke,isToChildDrag:dt}=Ne,ft=Z.currentTarget,Vt=Ji(Z),bt=ft.getAttribute("colid"),vt=f.getColumnById(bt),{dragCol:Ot}=B;if(I.prevDragGroupField=null,I.prevDragAggFnColid=null,vt&&(Ke||vt.level===1)){Z.preventDefault();const Et=Z.clientY-ft.getBoundingClientRect().y<ft.clientHeight/2?"top":"bottom";if(!Ot||Ot&&Ot.id===vt.id||!Ke&&vt.level>1||!ce&&vt.level>1){be(Z,ft,!1,Et);return}I.prevDragToChild=!!(Ke&&dt&&Vt&&ce),I.prevDragCol=vt,I.prevDragPos=Et,be(Z,ft,!0,Et)}},Pe=()=>{const{dragTipText:Z}=B,$e=C.value;return u("div",{},[u("div",{ref:j,class:["vxe-table-custom-popup--drag-line",{"is--guides":$e.showGuidesStatus}]}),u("div",{ref:J,class:"vxe-table-custom-popup--drag-tip"},[u("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[u("div",{class:"vxe-table-custom-popup--drag-tip-status"},[u("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",En().TABLE_DRAG_STATUS_ROW]}),u("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",En().TABLE_DRAG_STATUS_SUB_ROW]}),u("span",{class:["vxe-table-custom-popup--drag-tip-group-status",En().TABLE_DRAG_STATUS_AGG_GROUP]}),u("span",{class:["vxe-table-custom-popup--drag-tip-values-status",En().TABLE_DRAG_STATUS_AGG_VALUES]}),u("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",En().TABLE_DRAG_DISABLED]})]),u("div",{class:"vxe-table-custom-popup--drag-tip-content"},`${Z||""}`)])])])},tt=()=>{const Z=f.xeGrid,$e=f.xeGantt,ce=f.props,{customStore:Ne}=e,{treeConfig:Ke,rowGroupConfig:dt,aggregateConfig:ft}=ce,{isCustomStatus:Vt,customColumnList:bt}=m,vt=D.value,{immediate:Ot}=vt,lt=C.value,{maxHeight:Et}=Ne,{checkMethod:Xt,visibleMethod:jt,allowVisible:Gt,allowSort:Ct,allowFixed:Nt,trigger:_t,placement:ke}=vt,Fe=v.value,{isCrossDrag:je}=lt,nt=vt.slots||{},mt=nt.header,te=nt.top,_e=nt.bottom,Be=nt.default,Qe=nt.footer,at=[],yt={},Xe=Ne.isAll,ge=Ne.isIndeterminate;_t==="hover"&&(yt.onMouseenter=W,yt.onMouseleave=ie);const P={$table:f,$grid:Z,$gantt:$e,columns:bt,isAllChecked:Xe,isAllIndeterminate:ge,isCustomStatus:Vt};return l.eachTree(bt,(H,ne,Te,Ce,He)=>{if(jt?jt({$table:f,column:H}):!0){const ct=H.renderVisible,st=H.halfVisible,ot=H.children&&H.children.length,Ue=Ln(H.getTitle(),1),zt=Xt?!Xt({$table:f,column:H}):!1,mo=!ct;at.push(u("li",{key:H.id,colid:H.id,class:["vxe-table-custom--option",`level--${H.level}`,{"is--hidden":zt||mo,"is--group":ot}],onDragstart:xe,onDragend:fe,onDragover:Oe},[Gt?u("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ct,"is--indeterminate":st,"is--disabled":zt}],title:en("vxe.custom.setting.colVisible"),onClick:Eo=>{zt||X(H,Eo)}},[u("span",{class:["vxe-checkbox--icon",st?En().TABLE_CHECKBOX_INDETERMINATE:ct?En().TABLE_CHECKBOX_CHECKED:En().TABLE_CHECKBOX_UNCHECKED]})]):zo(f),u("div",{class:"vxe-table-custom--name-option"},[Ct&&(je&&Ot||H.level===1)?u("div",{class:"vxe-table-custom--sort-option"},[u("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":zt||mo}],title:en("vxe.custom.setting.sortHelpTip")},zt||mo?{}:{onMousedown:Me,onMouseup:Se}),[u("i",{class:En().TABLE_CUSTOM_SORT})])]):zo(f),H.type==="html"?u("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:Ue}):u("div",{key:"0",class:"vxe-table-custom--checkbox-label"},Ue)]),!He&&Nt?u("div",{class:"vxe-table-custom--fixed-option"},[i?u(i,{mode:"text",icon:H.renderFixed==="left"?En().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:En().TOOLBAR_TOOLS_FIXED_LEFT,status:H.renderFixed==="left"?"primary":"",disabled:zt||mo||Fe&&!H.renderFixed,title:en(H.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:({$event:Eo})=>{ue(H,"left",Eo)}}):zo(f),i?u(i,{mode:"text",icon:H.renderFixed==="right"?En().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:En().TOOLBAR_TOOLS_FIXED_RIGHT,status:H.renderFixed==="right"?"primary":"",disabled:zt||mo||Fe&&!H.renderFixed,title:en(H.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:({$event:Eo})=>{ue(H,"right",Eo)}}):zo(f)]):zo(f)]))}}),u("div",{ref:T,key:"simple",class:["vxe-table-custom-wrapper",`placement--${ke}`,{"is--active":Ne.visible}],style:Et&&!["left","right"].includes(ke||"")?{maxHeight:`${Et}px`}:{}},Ne.visible?[u("div",{ref:N,class:"vxe-table-custom-simple--body-wrapper"},[!Ke&&(ft||dt)&&f.getPivotTableAggregateSimplePanel?u(f.getPivotTableAggregateSimplePanel(),{customStore:Ne}):zo(f),u("div",{ref:k,class:"vxe-table-custom--handle-wrapper"},[u("div",{class:"vxe-table-custom--header"},mt?f.callSlot(mt,P):[u("ul",{class:"vxe-table-custom--panel-list"},[u("li",{class:"vxe-table-custom--option"},[Gt?u("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Xe,"is--indeterminate":ge}],title:en("vxe.table.allTitle"),onClick:Q},[u("span",{class:["vxe-checkbox--icon",ge?En().TABLE_CHECKBOX_INDETERMINATE:Xe?En().TABLE_CHECKBOX_CHECKED:En().TABLE_CHECKBOX_UNCHECKED]}),u("span",{class:"vxe-checkbox--label"},en("vxe.toolbar.customAll"))]):u("span",{class:"vxe-checkbox--label"},en("vxe.table.customTitle"))])])]),u("div",{class:"vxe-table-custom--body"},[te?u("div",{class:"vxe-table-custom--panel-top"},f.callSlot(te,P)):zo(f),Be?u("div",{class:"vxe-table-custom--panel-body"},f.callSlot(Be,P)):u(oi,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},yt),{default:()=>at}),_e?u("div",{class:"vxe-table-custom--panel-bottom"},f.callSlot(_e,P)):zo(f)]),vt.showFooter?u("div",{class:"vxe-table-custom--footer"},Qe?f.callSlot(Qe,P):[u("div",{class:"vxe-table-custom--footer-buttons"},[i?u(i,{mode:"text",content:vt.resetButtonText||en("vxe.table.customRestore"),disabled:!Vt,onClick:ye}):zo(f),Ot?i?u(i,{mode:"text",content:vt.closeButtonText||en("vxe.table.customClose"),onClick:_}):zo(f):i?u(i,{mode:"text",content:vt.cancelButtonText||en("vxe.table.customCancel"),onClick:z}):zo(f),Ot?zo(f):i?u(i,{mode:"text",status:"primary",content:vt.confirmButtonText||en("vxe.table.customConfirm"),onClick:U}):zo(f)])]):null]),Pe()])]:[])},Je=()=>{const Z=f.xeGrid,$e=f.xeGantt,{customStore:ce}=e,{treeConfig:Ne,rowGroupConfig:Ke,aggregateConfig:dt,resizable:ft}=E,{isCustomStatus:Vt,customColumnList:bt}=m,vt=D.value,{immediate:Ot}=vt,lt=C.value,{mode:Et,modalOptions:Xt,drawerOptions:jt,allowVisible:Gt,allowSort:Ct,allowFixed:Nt,allowResizable:_t,checkMethod:ke,visibleMethod:Fe}=vt,je=M.value,{maxFixedSize:nt}=je,mt=p.value,{minWidth:te,maxWidth:_e}=mt,Be=Object.assign({},Xt),Qe=Object.assign({},jt),at=v.value,{isCrossDrag:yt}=lt,Xe=vt.slots||{},ge=Xe.header,P=Xe.top,H=Xe.bottom,ne=Xe.default,Te=Xe.footer,Ce=[],He=ce.isAll,Ze=ce.isIndeterminate,ct={$table:f,$grid:Z,$gantt:$e,columns:bt,isAllChecked:He,isAllIndeterminate:Ze,isCustomStatus:Vt};l.eachTree(bt,(ot,Ue,zt,mo,Eo)=>{if(Fe?Fe({$table:f,column:ot}):!0){let we=0,qe=0;if(_t){const Ft={$table:f,column:ot,columnIndex:Ue,$columnIndex:Ue,$rowIndex:-1};te&&(we=l.toNumber(l.isFunction(te)?te(Ft):te)),_e&&(qe=l.toNumber(l.isFunction(_e)?_e(Ft):_e))}const It=ot.renderVisible,$t=ot.halfVisible,Ht=Ln(ot.getTitle(),1),Rt=ot.children&&ot.children.length,ht=ke?!ke({$table:f,column:ot}):!1,wt=!It;Ce.push(u("tr",{key:ot.id,colid:ot.id,class:[`vxe-table-custom-popup--row level--${ot.level}`,{"is--group":Rt}],onDragstart:xe,onDragend:fe,onDragover:Oe},[Gt?u("td",{class:"vxe-table-custom-popup--column-item col--visible"},[u("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":It,"is--indeterminate":$t,"is--disabled":ht}],title:en("vxe.custom.setting.colVisible"),onClick:Ft=>{ht||X(ot,Ft)}},[u("span",{class:["vxe-checkbox--icon",$t?En().TABLE_CHECKBOX_INDETERMINATE:It?En().TABLE_CHECKBOX_CHECKED:En().TABLE_CHECKBOX_UNCHECKED]})])]):zo(f),u("td",{class:"vxe-table-custom-popup--column-item col--name"},[u("div",{class:"vxe-table-custom-popup--name"},[Ct?yt&&Ot||ot.level===1?u("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":ht||wt}],title:en("vxe.custom.setting.sortHelpTip")},ht||wt?{}:{onMousedown:Me,onMouseup:Se}),[u("i",{class:En().TABLE_CUSTOM_SORT})]):u("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):zo(f),ot.type==="html"?u("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:Ht}):u("div",{key:"0",class:"vxe-table-custom-popup--title",title:Ht},Ht)])]),_t?u("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[ot.children&&ot.children.length||!(l.isBoolean(ot.resizable)?ot.resizable:je.resizable||ft)?u("span","-"):d?u(d,{type:"integer",immediate:!1,disabled:ht||wt,modelValue:ot.renderResizeWidth,min:we||void 0,max:qe||void 0,"onUpdate:modelValue"(Ft){const Tt=Math.max(0,Number(Ft));ot.renderResizeWidth=Tt},onChange(){Re(ot)}}):zo(f)]):zo(f),Nt?u("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[Eo?u("span","-"):b?u(b,{modelValue:ot.renderFixed||"",type:"button",size:"mini",disabled:ht||wt,options:[{label:en("vxe.custom.setting.fixedLeft"),value:"left",disabled:ht||wt||at},{label:en("vxe.custom.setting.fixedUnset"),value:"",disabled:ht||wt},{label:en("vxe.custom.setting.fixedRight"),value:"right",disabled:ht||wt||at}],onChange({label:Ft,$event:Tt}){ue(ot,Ft,Tt)}}):zo(f)]):zo(f)]))}});const st={default:()=>u("div",{ref:N,class:"vxe-table-custom-popup--body-wrapper"},ne?f.callSlot(ne,ct):[u("div",{ref:k,class:"vxe-table-custom-popup--handle-wrapper"},[P?u("div",{class:"vxe-table-custom-popup--table-top"},f.callSlot(P,ct)):zo(f),u("div",{class:"vxe-table-custom-popup--table-wrapper"},[u("table",{},[u("colgroup",{},[Gt?u("col",{class:"vxe-table-custom-popup--table-col-seq"}):zo(f),u("col",{class:"vxe-table-custom-popup--table-col-title"}),_t?u("col",{class:"vxe-table-custom-popup--table-col-width"}):zo(f),Nt?u("col",{class:"vxe-table-custom-popup--table-col-fixed"}):zo(f)]),u("thead",{},[u("tr",{},[Gt?u("th",{},[u("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":He,"is--indeterminate":Ze}],title:en("vxe.table.allTitle"),onClick:Q},[u("span",{class:["vxe-checkbox--icon",Ze?En().TABLE_CHECKBOX_INDETERMINATE:He?En().TABLE_CHECKBOX_CHECKED:En().TABLE_CHECKBOX_UNCHECKED]}),u("span",{class:"vxe-checkbox--label"},en("vxe.toolbar.customAll"))])]):zo(f),u("th",{},en("vxe.custom.setting.colTitle")),_t?u("th",{},en("vxe.custom.setting.colResizable")):zo(f),Nt?u("th",{},en(`vxe.custom.setting.${nt?"colFixedMax":"colFixed"}`,[nt])):zo(f)])]),u(oi,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>Ce})])]),H?u("div",{class:"vxe-table-custom-popup--table-bottom"},f.callSlot(H,ct)):zo(f),Pe()]),!Ne&&(dt||Ke)&&f.getPivotTableAggregatePopupPanel?u(f.getPivotTableAggregatePopupPanel(),{customStore:ce}):zo(f)]),footer:()=>Te?f.callSlot(Te,ct):u("div",{class:"vxe-table-custom-popup--footer"},[i?u(i,{content:vt.resetButtonText||en("vxe.custom.cstmRestore"),disabled:!Vt,onClick:ye}):zo(f),Ot?i?u(i,{content:vt.closeButtonText||en("vxe.table.customClose"),onClick:_}):zo(f):i?u(i,{content:vt.cancelButtonText||en("vxe.table.customCancel"),onClick:z}):zo(f),Ot?zo(f):i?u(i,{status:"primary",content:vt.confirmButtonText||en("vxe.custom.cstmConfirm"),onClick:U}):zo(f)])};return ge&&(st.header=()=>f.callSlot(ge,ct)),Et==="drawer"?s?u(s,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",Qe.className||""].join(" "),modelValue:ce.visible,title:Qe.title||en("vxe.custom.cstmTitle"),width:Qe.width||Math.min(880,Math.floor(document.documentElement.clientWidth*.6)),position:Qe.position,resize:!!Qe.resize,escClosable:!!Qe.escClosable,maskClosable:!!Qe.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(ot){ce.visible=ot}},st):zo(f):r?u(r,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",Be.className||""].join(" "),modelValue:ce.visible,title:Be.title||en("vxe.custom.cstmTitle"),width:Be.width||Math.min(880,document.documentElement.clientWidth),minWidth:Be.minWidth||700,height:Be.height||Math.min(680,document.documentElement.clientHeight),minHeight:Be.minHeight||400,showZoom:Be.showZoom,showMaximize:Be.showMaximize,showMinimize:Be.showMinimize,mask:Be.mask,lockView:Be.lockView,resize:Be.resize,escClosable:!!Be.escClosable,maskClosable:!!Be.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(ot){ce.visible=ot}},st):zo(f)},rt=()=>{const Z=D.value;return["modal","drawer","popup"].includes(`${Z.mode}`)?Je():tt()};pe(()=>{const Z=D.value,{mode:$e}=Z;!r&&$e==="modal"&&Bt("vxe.error.reqComp",["vxe-modal"]),!s&&$e==="drawer"&&Bt("vxe.error.reqComp",["vxe-drawer"]),i||Bt("vxe.error.reqComp",["vxe-button"]),d||Bt("vxe.error.reqComp",["vxe-number-input"]),b||Bt("vxe.error.reqComp",["vxe-radio-group"])});const ze={xID:o,props:e,context:t,reactData:B,internalData:I,xeTable:f,getRefMaps:()=>F,getComputeMaps:()=>V,renderVN:rt};return mr(()=>{I=PC()}),ir("$xeTableCustomPanel",ze),ze},render(){return this.renderVN()}}),{getI18n:Ts,getIcon:Vi,renderer:kC,renderEmptyElement:DM}=Ee,OM=Fr({name:"VxeTableFilterPanel",props:{filterStore:{type:Object,default:()=>({})}},setup(e,t){const o=l.uniqueId(),r=Co("$xeTable",{}),{reactData:s,internalData:i,getComputeMaps:d}=r,{computeFilterOpts:b}=d(),f=xt(),E={refElem:f},m={xID:o,props:e,context:t,getRefMaps:()=>E},w=ae(()=>{const{filterStore:I}=e,{column:F}=I;return F&&F.filters&&F.filters.some(V=>V.checked)}),D=(I,F)=>{const{filterStore:V}=e,{column:W}=V;W&&W.filters&&W.filters.forEach(ie=>{ie._checked=F,ie.checked=F}),V.isAllSelected=F,V.isIndeterminate=!1},C=I=>{const{filterStore:F}=e;I||Ut("vxe.error.delFunc",["confirmFilter","saveFilterPanelByEvent"]),r.handleFilterConfirmFilter(I||new Event("click"),F.column||null)},M=(I,F,V)=>{r.handleFilterChangeRadioOption(I,F,V)},v=I=>{const{filterStore:F}=e;r.handleFilterResetFilter(I,F.column||null)},p=(I,F,V)=>{r.handleFilterChangeMultipleOption(I,F,V)},T=(I,F,V)=>{r.handleFilterChangeOption(I,F,V)},N=(I,F)=>{const{filterStore:V}=e,{column:W}=V;W&&W.filterMultiple?D(I,F):v(I)};Object.assign(m,{changeRadioOption:M,changeMultipleOption:p,changeAllOption:N,changeOption:T,confirmFilter:C,resetFilter:v});const j=(I,F)=>{const{filterStore:V}=e,{column:W,maxHeight:ie}=V;if(!W)return[];const{filterMultiple:U,filters:_,slots:z}=W,se=_||[],ye=z?z.filter:null,Y=Object.assign({},i._currFilterParams,{option:se[0],$panel:m,$table:r}),X=F?F.renderTableFilter||F.renderFilter:null;if(ye)return[u("div",{class:"vxe-table--filter-template",style:ie?{maxHeight:sa(ie)}:{}},r.callSlot(ye,Y))];if(I&&X)return[u("div",{class:"vxe-table--filter-template",style:ie?{maxHeight:sa(ie)}:{}},Cn(X(I,Y)))];const Re=U?V.isAllSelected:!se.some(Q=>Q._checked),ue=U&&V.isIndeterminate;return[u("ul",{class:"vxe-table--filter-header"},[u("li",{class:["vxe-table--filter-option",{"is--checked":Re,"is--indeterminate":ue}],title:Ts(U?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:Q=>{N(Q,!V.isAllSelected)}},(U?[u("span",{class:["vxe-checkbox--icon",ue?Vi().TABLE_CHECKBOX_INDETERMINATE:Re?Vi().TABLE_CHECKBOX_CHECKED:Vi().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([u("span",{class:"vxe-checkbox--label"},Ts("vxe.table.allFilter"))]))]),u("ul",{class:"vxe-table--filter-body",style:ie?{maxHeight:sa(ie)}:{}},se.map(Q=>{const be=Q._checked;return u("li",{class:["vxe-table--filter-option",{"is--checked":Q._checked}],title:Q.label,onClick:Ie=>{T(Ie,!Q._checked,Q)}},(U?[u("span",{class:["vxe-checkbox--icon",be?Vi().TABLE_CHECKBOX_CHECKED:Vi().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([u("span",{class:"vxe-checkbox--label"},Ln(Q.label,1))]))}))]},J=()=>{const{filterStore:I}=e,{column:F}=I;if(!F)return[];const V=b.value,W=w.value,{filterRender:ie,filterMultiple:U}=F,_=co(ie)?kC.get(ie.name):null,z=!W&&!I.isAllSelected&&!I.isIndeterminate;return(_?!(_.showTableFilterFooter===!1||_.showFilterFooter===!1||_.isFooter===!1):U)?[u("div",{class:"vxe-table--filter-footer"},[u("button",{class:{"is--disabled":z},disabled:z,onClick:C},V.confirmButtonText||Ts("vxe.table.confirmFilter")),u("button",{onClick:v},V.resetButtonText||Ts("vxe.table.resetFilter"))])]:[]},B=()=>{const{filterStore:I}=e,{initStore:F}=s,{visible:V,column:W}=I;if(!W)return DM(m);const ie=W?W.filterRender:null,U=ie&&co(ie)?kC.get(ie.name):null,_=U?U.tableFilterClassName||U.filterClassName:"",z=Object.assign({},i._currFilterParams,{$panel:m,$table:r}),se=r.props,{computeSize:ye}=r.getComputeMaps(),Y=ye.value,X=b.value,{transfer:Re,destroyOnClose:ue,className:Q}=X;return u(ca,{to:"body",disabled:!Re},[u("div",{ref:f,class:["vxe-table--filter-wrapper","filter--prevent-default",Q,ra(_,z),{[`size--${Y}`]:Y,"is--animat":se.animat,"is--multiple":W.filterMultiple,"is--active":V}],style:I.style},F.filter&&(!ue||V)&&W?j(ie,U).concat(J()):[])])};return m.renderVN=B,m},render(){return this.renderVN()}}),{getI18n:Sa,getIcon:TM,renderEmptyElement:Wa}=Ee,MM=Fr({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=Ee.getComponent("VxeModal"),o=Ee.getComponent("VxeButton"),r=Ee.getComponent("VxeSelect"),s=Co("$xeTable",{}),{computeImportOpts:i}=s.getComputeMaps(),d=un({loading:!1}),b=xt(),f=ae(()=>{const{storeData:T}=e;return`${T.filename}.${T.type}`}),E=ae(()=>{const{storeData:T}=e;return T.file&&T.type}),m=ae(()=>{const{storeData:T}=e,{type:N,typeList:k}=T;if(N){const j=l.find(k,J=>N===J.value);return j?j.label:"*.*"}return`*.${k.map(j=>j.value).join(", *.")}`}),w=()=>{const{storeData:T}=e;Object.assign(T,{filename:"",sheetName:"",type:""})},D=()=>{const{storeData:T,defaultOptions:N}=e;s.readFile(N).then(k=>{const{file:j}=k;Object.assign(T,EE(j),{file:j})}).catch(k=>k)},C=()=>{pe(()=>{const T=b.value;T&&T.focus()})},M=()=>{const{storeData:T}=e;T.visible=!1},v=()=>{const{storeData:T,defaultOptions:N}=e,k=i.value;d.loading=!0,s.importByFile(T.file,Object.assign({},k,N)).then(()=>{d.loading=!1,T.visible=!1}).catch(()=>{d.loading=!1})},p=()=>{const T=s.xeGrid,N=s.xeGantt,{defaultOptions:k,storeData:j}=e,J=f.value,B=E.value,I=m.value,F=k.slots||{},V=F.top,W=F.bottom,ie=F.default,U=F.footer;return t?u(t,{id:"VXE_IMPORT_MODAL",modelValue:j.visible,title:Sa("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:d.loading,"onUpdate:modelValue"(_){j.visible=_},onShow:C},{default:()=>{const _={$table:s,$grid:T,$gantt:N,options:k,params:k.params};return u("div",{class:"vxe-table-export--panel"},[V?u("div",{class:"vxe-table-export--panel-top"},s.callSlot(V,_)):Wa(s),u("div",{class:"vxe-table-export--panel-body"},ie?s.callSlot(ie,_):[u("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[u("tbody",[u("tr",[u("td",Sa("vxe.import.impFile")),u("td",[B?u("div",{class:"vxe-table-export--selected--file",title:J},[u("span",J),u("i",{class:TM().INPUT_CLEAR,onClick:w})]):u("button",{ref:b,class:"vxe-table-export--select--file",onClick:D},Sa("vxe.import.impSelect"))])]),u("tr",[u("td",Sa("vxe.import.impType")),u("td",I)]),u("tr",[u("td",Sa("vxe.import.impMode")),u("td",[r?u(r,{modelValue:k.mode,options:j.modeList,"onUpdate:modelValue"(z){k.mode=z}}):Wa(s)])])])])]),W?u("div",{class:"vxe-table-export--panel-bottom"},s.callSlot(W,_)):Wa(s)])},footer(){const _={$table:s,$grid:T,$gantt:N,options:k,params:k.params};return u("div",{class:"vxe-table-export--panel-footer"},U?s.callSlot(U,_):[u("div",{class:"vxe-table-export--panel-btns"},[o?u(o,{content:Sa("vxe.import.impCancel"),onClick:M}):Wa(s),o?u(o,{status:"primary",disabled:!B||d.loading,content:Sa("vxe.import.impConfirm"),onClick:v}):Wa(s)])])}}):Wa(s)};return pe(()=>{t||Bt("vxe.error.reqComp",["vxe-modal"]),o||Bt("vxe.error.reqComp",["vxe-button"]),r||Bt("vxe.error.reqComp",["vxe-select"])}),p}}),{getI18n:ln,getIcon:ja,renderEmptyElement:kn}=Ee,IM=Fr({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=Ee.getComponent("VxeModal"),o=Ee.getComponent("VxeButton"),r=Ee.getComponent("VxeSelect"),s=Ee.getComponent("VxeInput"),i=Ee.getComponent("VxeCheckbox"),d=Co("$xeTable",{}),{computeExportOpts:b,computePrintOpts:f}=d.getComputeMaps(),E=un({isAll:!1,isIndeterminate:!1,loading:!1}),m=xt(),w=xt(),D=xt(),C=ae(()=>{const{storeData:U}=e;return U.columns.every(_=>_.checked)}),M=ae(()=>{const{defaultOptions:U}=e;return["html","xml","xlsx","pdf"].indexOf(U.type)>-1}),v=ae(()=>{const{storeData:U,defaultOptions:_}=e;return!_.original&&_.mode==="current"&&(U.isPrint||["html","xlsx"].indexOf(_.type)>-1)}),p=ae(()=>{const{defaultOptions:U}=e;return!U.original&&["xlsx"].indexOf(U.type)>-1}),T=U=>{const{storeData:_}=e,z=l.findTree(_.columns,se=>se===U);if(z&&z.parent){const{parent:se}=z;se.children&&se.children.length&&(se.checked=se.children.every(ye=>ye.checked),se.halfChecked=!se.checked&&se.children.some(ye=>ye.checked||ye.halfChecked),T(se))}},N=()=>{const{storeData:U}=e,_=U.columns;E.isAll=_.every(z=>z.disabled||z.checked),E.isIndeterminate=!E.isAll&&_.some(z=>!z.disabled&&(z.checked||z.halfChecked))},k=U=>{const _=!U.checked;l.eachTree([U],z=>{z.checked=_,z.halfChecked=!1}),T(U),N()},j=()=>{const{storeData:U}=e,_=!E.isAll;l.eachTree(U.columns,z=>{z.disabled||(z.checked=_,z.halfChecked=!1)}),E.isAll=_,N()},J=()=>{pe(()=>{const U=w.value,_=D.value,z=m.value,se=U||_||z;se&&se.focus()}),N()},B=()=>{const{storeData:U,defaultOptions:_}=e,{hasMerge:z,columns:se}=U,ye=C.value,Y=v.value,X=l.searchTree(se,Re=>Re.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},_,{columns:X,isMerge:z&&Y&&ye?_.isMerge:!1})},I=()=>{const{storeData:U}=e,_=f.value;U.visible=!1,d.print(Object.assign({},_,B()))},F=()=>{const{storeData:U}=e,_=b.value;E.loading=!0,d.exportData(Object.assign({},_,B())).then(()=>{E.loading=!1,U.visible=!1}).catch(()=>{E.loading=!1})},V=()=>{const{storeData:U}=e;U.visible=!1},W=()=>{const{storeData:U}=e;U.isPrint?I():F()},ie=()=>{const U=d.xeGrid,_=d.xeGantt,{defaultOptions:z,storeData:se}=e,{isAll:ye,isIndeterminate:Y}=E,{hasTree:X,hasMerge:Re,isPrint:ue,hasColgroup:Q,columns:be}=se,{isHeader:Ie}=z,De=[],Me=C.value,Se=M.value,xe=v.value,fe=p.value,Oe=z.slots||{},Pe=Oe.top,tt=Oe.bottom,Je=Oe.default,rt=Oe.footer,ze=Oe.parameter;return l.eachTree(be,Z=>{const $e=Ln(Z.getTitle(),1),ce=Z.children&&Z.children.length,Ne=Z.checked,Ke=Z.halfChecked,dt=Z.type==="html";De.push(u("li",{key:Z.id,class:["vxe-table-export--panel-column-option",`level--${Z.level}`,{"is--group":ce,"is--checked":Ne,"is--indeterminate":Ke,"is--disabled":Z.disabled}],title:dt?"":$e,onClick:()=>{Z.disabled||k(Z)}},[u("span",{class:["vxe-checkbox--icon",Ke?ja().TABLE_CHECKBOX_INDETERMINATE:Ne?ja().TABLE_CHECKBOX_CHECKED:ja().TABLE_CHECKBOX_UNCHECKED]}),dt?u("span",{key:"1",class:"vxe-checkbox--label",innerHTML:$e}):u("span",{key:"0",class:"vxe-checkbox--label"},$e)]))}),t?u(t,{id:"VXE_EXPORT_MODAL",modelValue:se.visible,title:ln(ue?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:E.loading,"onUpdate:modelValue"(Z){se.visible=Z},onShow:J},{default:()=>{const Z={$table:d,$grid:U,$gantt:_,options:z,columns:be,params:z.params},$e=z.mode==="empty";return u("div",{class:"vxe-table-export--panel"},[Pe?u("div",{class:"vxe-table-export--panel-top"},d.callSlot(Pe,Z)):kn(d),u("div",{class:"vxe-table-export--panel-body"},Je?d.callSlot(Je,Z):[u("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[u("tbody",[[ue?kn(d):u("tr",[u("td",ln("vxe.export.expName")),u("td",[s?u(s,{ref:w,modelValue:z.filename,type:"text",clearable:!0,placeholder:ln("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(ce){z.filename=ce}}):kn(d)])]),ue?kn(d):u("tr",[u("td",ln("vxe.export.expType")),u("td",[r?u(r,{modelValue:z.type,options:se.typeList,"onUpdate:modelValue"(ce){z.type=ce}}):kn(d)])]),ue||Se?u("tr",[u("td",ln("vxe.export.expSheetName")),u("td",[s?u(s,{ref:D,modelValue:z.sheetName,type:"text",clearable:!0,placeholder:ln("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(ce){z.sheetName=ce}}):kn(d)])]):kn(d),u("tr",[u("td",ln("vxe.export.expMode")),u("td",[r?u(r,{modelValue:z.mode,options:se.modeList.map(ce=>({value:ce.value,label:ln(ce.label)})),"onUpdate:modelValue"(ce){z.mode=ce}}):kn(d)])]),u("tr",[u("td",[ln("vxe.export.expColumn")]),u("td",[u("div",{class:"vxe-table-export--panel-column"},[u("ul",{class:"vxe-table-export--panel-column-header"},[u("li",{class:["vxe-table-export--panel-column-option",{"is--checked":ye,"is--indeterminate":Y}],title:ln("vxe.table.allTitle"),onClick:j},[u("span",{class:["vxe-checkbox--icon",Y?ja().TABLE_CHECKBOX_INDETERMINATE:ye?ja().TABLE_CHECKBOX_CHECKED:ja().TABLE_CHECKBOX_UNCHECKED]}),u("span",{class:"vxe-checkbox--label"},ln("vxe.export.expCurrentColumn"))])]),u("ul",{class:"vxe-table-export--panel-column-body"},De)])])]),u("tr",[u("td",ln("vxe.export.expOpts")),ze?u("td",[u("div",{class:"vxe-table-export--panel-option-row"},d.callSlot(ze,Z))]):u("td",[u("div",{class:"vxe-table-export--panel-option-row"},[i?u(i,{modelValue:$e||Ie,disabled:$e,title:ln("vxe.export.expHeaderTitle"),content:ln("vxe.export.expOptHeader"),"onUpdate:modelValue"(ce){z.isHeader=ce}}):kn(d),i?u(i,{modelValue:Ie?z.isTitle:!1,disabled:!Ie,title:ln("vxe.export.expTitleTitle"),content:ln("vxe.export.expOptTitle"),"onUpdate:modelValue"(ce){z.isTitle=ce}}):kn(d),i?u(i,{modelValue:Ie&&Q&&xe?z.isColgroup:!1,title:ln("vxe.export.expColgroupTitle"),disabled:!Ie||!Q||!xe,content:ln("vxe.export.expOptColgroup"),"onUpdate:modelValue"(ce){z.isColgroup=ce}}):kn(d)]),u("div",{class:"vxe-table-export--panel-option-row"},[i?u(i,{modelValue:$e?!1:z.original,disabled:$e,title:ln("vxe.export.expOriginalTitle"),content:ln("vxe.export.expOptOriginal"),"onUpdate:modelValue"(ce){z.original=ce}}):kn(d),i?u(i,{modelValue:Re&&xe&&Me?z.isMerge:!1,title:ln("vxe.export.expMergeTitle"),disabled:$e||!Re||!xe||!Me,content:ln("vxe.export.expOptMerge"),"onUpdate:modelValue"(ce){z.isMerge=ce}}):kn(d),ue||!i?kn(d):u(i,{modelValue:fe?z.useStyle:!1,disabled:!fe,title:ln("vxe.export.expUseStyleTitle"),content:ln("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(ce){z.useStyle=ce}}),i?u(i,{modelValue:X?z.isAllExpand:!1,disabled:$e||!X,title:ln("vxe.export.expAllExpandTitle"),content:ln("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(ce){z.isAllExpand=ce}}):kn(d)]),u("div",{class:"vxe-table-export--panel-option-row"},[i?u(i,{modelValue:z.isFooter,disabled:!se.hasFooter,title:ln("vxe.export.expFooterTitle"),content:ln("vxe.export.expOptFooter"),"onUpdate:modelValue"(ce){z.isFooter=ce}}):kn(d)])])])]])])]),tt?u("div",{class:"vxe-table-export--panel-bottom"},d.callSlot(tt,Z)):kn(d)])},footer(){const Z={$table:d,$grid:U,$gantt:_,options:z,columns:be,params:z.params};return u("div",{class:"vxe-table-export--panel-footer"},rt?d.callSlot(rt,Z):[u("div",{class:"vxe-table-export--panel-btns"},[o?u(o,{content:ln("vxe.export.expCancel"),onClick:V}):kn(d),o?u(o,{ref:m,status:"primary",content:ln(ue?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:W}):kn(d)])])}}):kn(d)};return pe(()=>{t||Bt("vxe.error.reqComp",["vxe-modal"]),o||Bt("vxe.error.reqComp",["vxe-button"]),r||Bt("vxe.error.reqComp",["vxe-select"]),s||Bt("vxe.error.reqComp",["vxe-input"]),i||Bt("vxe.error.reqComp",["vxe-checkbox"])}),ie}}),{getIcon:cg,getI18n:LC,renderEmptyElement:Ua}=Ee,FM=Fr({name:"VxeTableMenuPanel",setup(e,t){const o=l.uniqueId(),r=Co("$xeTable",{}),{reactData:s}=r,i=xt(),d={refElem:i},b={xID:o,props:e,context:t,getRefMaps:()=>d},f=()=>{const{ctxMenuStore:E}=s,{computeMenuOpts:m}=r.getComputeMaps(),w=m.value,{transfer:D,destroyOnClose:C}=w,{visible:M,list:v,className:p}=E;return u(ca,{to:"body",disabled:!D},[u("div",{ref:i,class:["vxe-table--context-menu-wrapper",p,{"is--visible":M}],style:E.style},!C||M?v.map((T,N)=>T.every(k=>k.visible===!1)?Ua(r):u("ul",{class:"vxe-context-menu--option-wrapper",key:N},T.map((k,j)=>{const{children:J,loading:B}=k,I=J&&J.some(_=>_.visible!==!1),F=Object.assign({},k.prefixConfig),V=F.icon||k.prefixIcon,W=Object.assign({},k.suffixConfig),ie=W.icon||k.suffixIcon,U=vl(k.name);return k.visible===!1?Ua(r):u("li",{class:[k.className,{"link--loading":B,"link--disabled":k.disabled,"link--active":k===E.selected}],key:`${N}_${j}`},[u("a",{class:"vxe-context-menu--link",onClick(_){r.ctxMenuLinkEvent(_,k)},onMouseover(_){r.ctxMenuMouseoverEvent(_,k)},onMouseout(_){r.ctxMenuMouseoutEvent(_,k)}},[u("div",{class:["vxe-context-menu--link-prefix",F.className||""]},[B?u("span",{class:cg("TABLE_MENU_OPTION_LOADING")}):V&&l.isFunction(V)?u("span",{},Cn(V({}))):u("span",{},[u("i",{class:V})]),F.content?u("span",{},`${F.content}`):Ua(r)]),u("div",{class:"vxe-context-menu--link-content",title:U},B?LC("vxe.table.menuLoading"):U),u("div",{class:["vxe-context-menu--link-suffix",W.className||""]},[ie&&l.isFunction(ie)?u("span",{},Cn(ie({}))):u("i",{class:ie||(I?cg().TABLE_MENU_OPTIONS:"")}),W.content?u("span",`${W.content}`):Ua(r)])]),I&&k.children?u("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":k===E.selected&&E.showChild}]},k.children.map((_,z)=>{const{loading:se}=_,ye=Object.assign({},_.prefixConfig),Y=ye.icon||_.prefixIcon,X=Object.assign({},_.suffixConfig),Re=X.icon||_.suffixIcon,ue=vl(_.name);return _.visible===!1?null:u("li",{class:[_.className,{"link--loading":se,"link--disabled":_.disabled,"link--active":_===E.selectChild}],key:`${N}_${j}_${z}`},[u("a",{class:"vxe-context-menu--link",onClick(Q){r.ctxMenuLinkEvent(Q,_)},onMouseover(Q){r.ctxMenuMouseoverEvent(Q,k,_)},onMouseout(Q){r.ctxMenuMouseoutEvent(Q,k)}},[u("div",{class:["vxe-context-menu--link-prefix",ye.className||""]},[_.loading?u("span",{class:cg("TABLE_MENU_OPTION_LOADING")}):Y&&l.isFunction(Y)?u("span",{},Cn(Y({}))):u("span",{},[u("i",{class:Y})]),ye.content?u("span",`${ye.content}`):Ua(r)]),u("div",{class:"vxe-context-menu--link-content",title:ue},se?LC("vxe.table.menuLoading"):ue),u("div",{class:["vxe-context-menu--link-suffix",X.className||""]},[Re&&l.isFunction(Re)?u("span",{},Cn(Re({}))):u("i",{class:Re}),X.content?u("span",`${X.content}`):Ua(r)])])])})):null])}))):[])])};return b.renderVN=f,b},render(){return this.renderVN()}}),{renderer:NC,hooks:AM}=Ee,$C=["openFilter","setFilter","clearFilter","saveFilter","saveFilterByEvent","saveFilterPanel","saveFilterPanelByEvent","resetFilter","resetFilterByEvent","resetFilterPanel","resetFilterPanelByEvent","getCheckedFilters","updateFilterOptionStatus"];AM.add("tableFilterModule",{setupTable(e){const t=e.xeGrid,o=e.xeGantt,r=t||o,{props:s,reactData:i,internalData:d}=e,{refElem:b,refTableFilter:f}=e.getRefMaps(),{computeFilterOpts:E,computeMouseOpts:m}=e.getComputeMaps(),w={checkFilterOptions(){const{filterStore:C}=i,{column:M}=C;if(M){const v=M.filters||[];C.isAllSelected=v.every(p=>p._checked),C.isIndeterminate=!C.isAllSelected&&v.some(p=>p._checked)}},triggerFilterEvent(C,M,v){const{initStore:p,filterStore:T}=i,{elemStore:N}=d;if(T.column===M&&T.visible)T.visible=!1;else{const k=b.value,{scrollTop:j,scrollLeft:J,visibleHeight:B,visibleWidth:I}=vc(),F=E.value,{transfer:V}=F,W=k.getBoundingClientRect(),ie=C.currentTarget,U=M?M.filterRender:null,_=U&&co(U)?NC.get(U.name):null;e.handleFilterOptions(M),d._currFilterParams=v,T.style=null,T.visible=!0,p.filter=!0,pe(()=>{if(!eo(N["main-header-scroll"]))return;const se=f.value,ye=se?se.getRefMaps().refElem.value:null;if(!ye)return;const Y=ie.getBoundingClientRect(),X=ye.querySelector(".vxe-table--filter-header"),Re=ye.querySelector(".vxe-table--filter-footer"),ue=ye.offsetWidth,Q=ue/2;let be=0,Ie=0,De=0;if(V)be=Y.left-Q+J,Ie=Y.top+ie.clientHeight+j,De=Math.min(Math.max(W.height,Math.floor(B/2)),Math.max(80,B-Ie-(X?X.clientHeight:0)-(Re?Re.clientHeight:0)-28)),be<16?be=16:be>I-ue-16&&(be=I-ue-16);else if(be=Y.left-W.left-Q,Ie=Y.top-W.top+ie.clientHeight,De=Math.max(40,k.clientHeight-Ie-(X?X.clientHeight:0)-(Re?Re.clientHeight:0)-14),be<1?be=1:be>k.clientWidth-ue-1&&(be=k.clientWidth-ue-1),r){const Me=r.getRefMaps().refElem.value;if(Me){const Se=Me.getBoundingClientRect();Ie+=W.top-Se.top}}T.style={top:sa(Ie),left:sa(be)},_&&!_.tableFilterAutoHeight&&(De=0),T.maxHeight=De})}e.dispatchEvent("filter-visible",{column:M,field:M.field,property:M.field,filterList:e.getCheckedFilters(),visible:T.visible},C)},handleClearFilter(C){if(C){const{filters:M,filterRender:v}=C;if(M){const p=co(v)?NC.get(v.name):null,T=C.filterResetMethod||(p?p.tableFilterResetMethod||p.filterResetMethod:null);M.forEach(N=>{N._checked=!1,N.checked=!1,T||(N.data=l.clone(N.resetValue,!0))}),T&&T({options:M,column:C,$table:e})}}},handleColumnConfirmFilter(C,M){const{mouseConfig:v}=s,{scrollXLoad:p,scrollYLoad:T}=i,N=E.value,k=m.value,{field:j,filters:J}=C,B=J||[],I=[],F=[];B.forEach(ie=>{ie.checked&&(I.push(ie.value),F.push(ie.data))});const V=e.getCheckedFilters(),W={$table:e,$event:M,column:C,field:j,property:j,values:I,datas:F,filters:V,filterList:V};return N.remote||(e.handleTableData(!0),e.checkSelectionStatus()),v&&k.area&&e.handleFilterEvent&&e.handleFilterEvent(M,W),M&&e.dispatchEvent("filter-change",W,M),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:ie,scrollYLoad:U}=i;if(p||ie||T||U)return(p||ie)&&e.updateScrollXSpace(),(T||U)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(C,M){M&&e.handleColumnConfirmFilter(M,C)},handleFilterChangeRadioOption(C,M,v){const{filterStore:p}=i,{column:T}=p;T&&((T.filters||[]).forEach(k=>{k._checked=!1}),v._checked=M,e.checkFilterOptions(),e.handleFilterConfirmFilter(C,T))},handleFilterChangeMultipleOption(C,M,v){v._checked=M,e.checkFilterOptions()},handleFilterChangeOption(C,M,v){const{filterStore:p}=i,{fullColumnIdData:T}=d;let N=p.column;if(!N){const k=T[v._colId];k&&(N=k.column,p.column=N)}N&&(N.filterMultiple?e.handleFilterChangeMultipleOption(C,M,v):e.handleFilterChangeRadioOption(C,M,v))},handleFilterConfirmFilter(C,M){M&&((M.filters||[]).forEach(p=>{p.checked=p._checked}),e.confirmFilterEvent(C,M))},handleFilterResetFilter(C,M){M&&(e.handleClearFilter(M),e.confirmFilterEvent(C,M),C&&e.dispatchEvent("clear-filter",{filterList:[]},C))}};return Object.assign(Object.assign({},{openFilter(C){const M=Jo(e,C);if(M&&M.filters){const{elemStore:v}=d,{fixed:p}=M;return e.scrollToColumn(M).then(()=>{const T=eo(v[`${p||"main"}-header-wrapper`]||v["main-header-wrapper"]);if(T){const N=T.querySelector(`.vxe-header--column.${M.id} .vxe-cell--filter`);KT(N,"click")}})}return pe()},setFilter(C,M,v){const{filterStore:p}=i,T=Jo(e,C);if(T&&T.filters){if(T.filters=tc(M||[],T.id),v)return e.handleColumnConfirmFilter(T,null);p.visible&&e.handleFilterOptions(T)}return pe()},clearFilter(C){const{filterStore:M}=i,{tableFullColumn:v}=d,p=E.value;let T;return C?(T=Jo(e,C),T&&e.handleClearFilter(T)):v.forEach(e.handleClearFilter),(!C||T!==M.column)&&Object.assign(M,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),p.remote?pe():e.updateData()},saveFilter(C){if(C){const M=Jo(e,C);e.handleFilterConfirmFilter(null,M)}return pe()},saveFilterByEvent(C,M){if(M){const v=Jo(e,M);e.handleFilterConfirmFilter(C,v)}return pe()},resetFilter(C){if(C){const M=Jo(e,C);e.handleFilterResetFilter(null,M)}return pe()},resetFilterByEvent(C,M){if(M){const v=Jo(e,M);e.handleFilterResetFilter(C,v)}return pe()},saveFilterPanel(){const{filterStore:C}=i;return e.handleFilterConfirmFilter(null,C.column||null),pe()},saveFilterPanelByEvent(C){const{filterStore:M}=i;return e.handleFilterConfirmFilter(C,M.column||null),pe()},resetFilterPanel(){const{filterStore:C}=i;return e.handleFilterResetFilter(null,C.column||null),pe()},resetFilterPanelByEvent(C){const{filterStore:M}=i;return e.handleFilterResetFilter(C,M.column||null),pe()},getCheckedFilters(){const{tableFullColumn:C}=d,M=[];return C.forEach(v=>{const{field:p,filters:T}=v,N=T||[],k=[],j=[];N&&(N.forEach(J=>{J.checked&&(k.push(J.value),j.push(J.data))}),k.length&&M.push({column:v,field:p,property:p,values:k,datas:j}))}),M},updateFilterOptionStatus(C,M){return C._checked=M,C.checked=M,pe()}}),w)},setupGrid(e){return e.extendTableMethods($C)},setupGantt(e){return e.extendTableMethods($C)}});const{menus:PM,hooks:kM,globalEvents:Ms,GLOBAL_EVENT_KEYS:Is}=Ee,_C=["closeMenu"];kM.add("tableMenuModule",{setupTable(e){const{xID:t,props:o,reactData:r,internalData:s}=e,{refElem:i,refTableFilter:d,refTableMenu:b}=e.getRefMaps(),{computeMouseOpts:f,computeIsContentMenu:E,computeMenuOpts:m}=e.getComputeMaps(),w=e.xeGrid,D=e.xeGantt,C=w||D;let M={},v={};const p=(T,N,k)=>{const{ctxMenuStore:j}=r,J=E.value,B=m.value,I=B[N],{transfer:F,visibleMethod:V}=B;if(I){const{options:W,disabled:ie}=I;ie?T.preventDefault():J&&W&&W.length&&(k.options=W,e.preventEvent(T,"event.showMenu",k,()=>{if(!V||V(k)){T.preventDefault(),e.updateZindex();const U=C?C.getRefMaps().refElem.value:i.value;if(!U)return;const _=U.getBoundingClientRect(),{scrollTop:z,scrollLeft:se,visibleHeight:ye,visibleWidth:Y}=vc();let X=T.clientY-_.y,Re=T.clientX-_.x;F&&(X=T.clientY+z,Re=T.clientX+se);const ue=()=>{s._currMenuParams=k,Object.assign(j,{visible:!0,list:W,selected:null,selectChild:null,showChild:!1,style:{zIndex:s.tZindex,top:`${X}px`,left:`${Re}px`}}),pe(()=>{const Me=b.value.getRefMaps().refElem.value,Se=Me.clientHeight,xe=Me.clientWidth,{boundingTop:fe,boundingLeft:Oe}=Xs(Me),Pe=fe+Se-ye,tt=Oe+xe-Y;Pe>-10&&(j.style.top=`${Math.max(z+2,X-Se-2)}px`),tt>-10&&(j.style.left=`${Math.max(se+2,Re-xe-2)}px`)})},{keyboard:Q,row:be,column:Ie}=k;Q&&be&&Ie?e.scrollToRow(be,Ie).then(()=>{const De=e.getCellElement(be,Ie);if(De){const{boundingTop:Me,boundingLeft:Se}=Xs(De);X=Me+z+Math.floor(De.offsetHeight/2),Re=Se+se+Math.floor(De.offsetWidth/2)}ue()}):ue()}else M.closeMenu()}))}e.closeFilter()};return M={closeMenu(){return Object.assign(r.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),pe()}},v={moveCtxMenu(T,N,k,j,J,B){let I;const F=l.findIndexOf(B,V=>N[k]===V);if(j)J&&ri(N.selected)?N.showChild=!0:(N.showChild=!1,N.selectChild=null);else if(Ms.hasKey(T,Is.ARROW_UP)){for(let V=F-1;V>=0;V--)if(B[V].visible!==!1){I=B[V];break}N[k]=I||B[B.length-1]}else if(Ms.hasKey(T,Is.ARROW_DOWN)){for(let V=F+1;V<B.length;V++)if(B[V].visible!==!1){I=B[V];break}N[k]=I||B[0]}else N[k]&&(Ms.hasKey(T,Is.ENTER)||Ms.hasKey(T,Is.SPACEBAR))&&e.ctxMenuLinkEvent(T,N[k])},handleOpenMenuEvent:p,handleGlobalContextmenuEvent(T){const N=e.xeGrid,k=e.xeGantt,{mouseConfig:j,menuConfig:J}=o,{editStore:B,ctxMenuStore:I}=r,{visibleColumn:F}=s,V=d.value,W=b.value,ie=f.value,U=m.value,_=i.value,{selected:z}=B,se=["header","body","footer"];if(co(J)){if(I.visible&&W&&Po(T,W.getRefMaps().refElem.value).flag){T.preventDefault();return}if(s._keyCtx){const ye="body",Y={source:"table",type:ye,$table:e,$grid:N,$gantt:k,keyboard:!0,columns:F.slice(0),$event:T};if(j&&ie.area){const X=e.getActiveCellArea();if(X&&X.row&&X.column){Y.row=X.row,Y.column=X.column,p(T,ye,Y);return}}else if(j&&ie.selected&&z.row&&z.column){Y.row=z.row,Y.column=z.column,p(T,ye,Y);return}}for(let ye=0;ye<se.length;ye++){const Y=se[ye],X=Po(T,_,`vxe-${Y}--column`,ue=>ue.parentNode.parentNode.parentNode.getAttribute("xid")===t),Re={source:"table",type:Y,$table:e,$grid:N,$gantt:k,columns:F.slice(0),$event:T};if(X.flag){const ue=X.targetElem,Q=e.getColumnNode(ue),be=Q?Q.item:null;let Ie=`${Y}-`;if(be&&Object.assign(Re,{column:be,columnIndex:e.getColumnIndex(be),cell:ue}),Y==="body"){const Me=e.getRowNode(ue.parentNode),Se=Me?Me.item:null;Ie="",Se&&(Re.row=Se,Re.rowIndex=e.getRowIndex(Se))}const De=`${Ie}cell-menu`;p(T,Y,Re),e.dispatchEvent(De,Re,T);return}else if(Po(T,_,`vxe-table--${Y}-wrapper`,ue=>ue.getAttribute("xid")===t).flag){U.trigger==="cell"?T.preventDefault():p(T,Y,Re);return}}}V&&!Po(T,V.getRefMaps().refElem.value).flag&&e.closeFilter(),M.closeMenu()},ctxMenuMouseoverEvent(T,N,k){const j=T.currentTarget,{ctxMenuStore:J}=r;T.preventDefault(),T.stopPropagation(),J.selected=N,J.selectChild=k,k||(J.showChild=ri(N),J.showChild&&pe(()=>{const B=j.nextElementSibling;if(B){const{boundingTop:I,boundingLeft:F,visibleHeight:V,visibleWidth:W}=Xs(j),ie=I+j.offsetHeight,U=F+j.offsetWidth;let _="",z="";U+B.offsetWidth>W-10&&(_="auto",z=`${j.offsetWidth}px`);let se="",ye="";ie+B.offsetHeight>V-10&&(se="auto",ye="0"),B.style.left=_,B.style.right=z,B.style.top=se,B.style.bottom=ye}}))},ctxMenuMouseoutEvent(T,N){const{ctxMenuStore:k}=r;N.children||(k.selected=null),k.selectChild=null},ctxMenuLinkEvent(T,N){const k=e.xeGrid,j=e.xeGantt;if(!N.loading&&!N.disabled&&(N.code||!N.children||!N.children.length)){const J=PM.get(N.code),B=Object.assign({},s._currMenuParams,{menu:N,$table:e,$grid:k,$gantt:j,$event:T}),I=J?J.tableMenuMethod||J.menuMethod:null;I&&I(B,T),e.dispatchEvent("menu-click",B,T),M.closeMenu()}}},Object.assign(Object.assign({},M),v)},setupGrid(e){return e.extendTableMethods(_C)},setupGantt(e){return e.extendTableMethods(_C)}});const{getConfig:LM,renderer:NM,hooks:$M,getI18n:Fl}=Ee,HC=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getEditCell","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];$M.add("tableEditModule",{setupTable(e){const{props:t,reactData:o,internalData:r}=e,{refElem:s}=e.getRefMaps(),{computeMouseOpts:i,computeEditOpts:d,computeCheckboxOpts:b,computeTreeOpts:f,computeValidOpts:E}=e.getComputeMaps(),m=l.browse();let w={},D={};const C=(I,F)=>{const{model:V,editRender:W}=F;W&&(V.value=On(I,F),V.update=!1)},M=(I,F)=>{const{model:V,editRender:W}=F;W&&V.update&&(Kr(I,F,V.value),V.update=!1,V.value=null)},v=()=>{const I=s.value;if(I){const F=I.querySelector(".col--selected");F&&Xn(F,"col--selected")}},p=()=>{const{editStore:I,tableColumn:F}=o,V=d.value,{actived:W}=I,{row:ie,column:U}=W;(ie||U)&&(V.mode==="row"?F.forEach(_=>M(ie,_)):M(ie,U))},T=(I,F)=>{const{tableFullTreeData:V,afterFullData:W,fullDataRowIdData:ie,fullAllDataRowIdData:U}=r,_=f.value,{rowField:z,parentField:se,mapChildrenField:ye}=_,Y=_.children||_.childrenField,X=F?"push":"unshift";I.forEach(Re=>{const ue=Re[se],Q=Pt(e,Re),be=ue?l.findTree(V,Ie=>ue===Ie[z],{children:ye}):null;if(be){const{item:Ie}=be,De=U[Pt(e,Ie)],Me=De?De.level:0;let Se=Ie[Y],xe=Ie[ye];l.isArray(Se)||(Se=Ie[Y]=[]),l.isArray(xe)||(xe=Ie[ye]=[]),Se[X](Re),xe[X](Re);const fe={row:Re,rowid:Q,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:Se,parent:Ie,level:Me+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};ie[Q]=fe,U[Q]=fe}else{ue&&Ut("vxe.error.unableInsert"),W[X](Re),V[X](Re);const Ie={row:Re,rowid:Q,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:V,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};ie[Q]=Ie,U[Q]=Ie}})},N=(I,F,V)=>{const{treeConfig:W}=t,{isRowGroupStatus:ie}=o,{tableFullTreeData:U,afterFullData:_,mergeBodyList:z,tableFullData:se,fullDataRowIdData:ye,fullAllDataRowIdData:Y,insertRowMaps:X,removeRowMaps:Re}=r,ue=f.value,{transform:Q,parentField:be,rowField:Ie,mapChildrenField:De}=ue,Me=ue.children||ue.childrenField;l.isArray(I)||(I=[I]);const Se=un(e.defineField(I.map(Oe=>Object.assign(W&&Q?{[De]:[],[Me]:[]}:{},Oe))));let xe=[];if(W&&Q&&(xe=l.toArrayTree(Se,{key:Ie,parentKey:be,children:Me})),l.eqNull(F))if(W&&Q)T(Se,!1);else if(ie){if(W)throw new Error(Fl("vxe.error.noTree",["insert"]));Ut(Fl("vxe.error.noGroup",["remove"]))}else Se.forEach(Oe=>{const Pe=Pt(e,Oe),tt={row:Oe,rowid:Pe,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:_,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};ye[Pe]=tt,Y[Pe]=tt,_.unshift(Oe),se.unshift(Oe)}),z.forEach(Oe=>{const{row:Pe}=Oe;Pe>=0&&(Oe.row=Pe+Se.length)});else if(F===-1)if(W&&Q)T(Se,!0);else if(ie){if(W)throw new Error(Fl("vxe.error.noTree",["insert"]));Ut(Fl("vxe.error.noGroup",["remove"]))}else Se.forEach(Oe=>{const Pe=Pt(e,Oe),tt={row:Oe,rowid:Pe,seq:-1,index:-1,_index:-1,treeIndex:-1,_tIndex:-1,$index:-1,items:_,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};ye[Pe]=tt,Y[Pe]=tt,_.push(Oe),se.push(Oe)});else if(W&&Q){const Oe=l.findTree(U,Pe=>F[Ie]===Pe[Ie],{children:De});if(Oe){const{parent:Pe}=Oe,tt=Pe?Pe[De]:U,Je=Y[Pt(e,Pe)],rt=Je?Je.level:0;if(xe.forEach((ze,Z)=>{Pe?ze[be]!==Pe[Ie]&&(Bt("vxe.error.errProp",[`${be}=${ze[be]}`,`${be}=${Pe[Ie]}`]),ze[be]=Pe[Ie]):ze[be]!==null&&(l.eqNull(ze[be])||Bt("vxe.error.errProp",[`${be}=${ze[be]}`,"null"]),ze[be]=null);let $e=Oe.index+Z;V&&($e=$e+1),tt.splice($e,0,ze)}),l.eachTree(xe,ze=>{const Z=Pt(e,ze),$e={row:ze,rowid:Z,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:tt,parent:Pe,level:rt+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};ze[Me]&&(ze[De]=ze[Me]),ye[Z]=$e,Y[Z]=$e},{children:Me}),Pe){const ze=l.findTree(U,Z=>F[Ie]===Z[Ie],{children:Me});if(ze){const Z=ze.items;let $e=ze.index;V&&($e=$e+1),Z.splice($e,0,...xe)}}}else Ut("vxe.error.unableInsert"),T(Se,!0)}else if(ie){if(W)throw new Error(Fl("vxe.error.noTree",["insert"]));Ut(Fl("vxe.error.noGroup",["remove"]))}else{if(W)throw new Error(Fl("vxe.error.noTree",["insert"]));let Oe=-1;if(l.isNumber(F)?F<_.length&&(Oe=F):Oe=e.findRowIndexOf(_,F),V&&(Oe=Math.min(_.length,Oe+1)),Oe===-1)throw new Error(Fl("vxe.error.unableInsert"));_.splice(Oe,0,...Se);const Pe=e.findRowIndexOf(se,F);Pe>-1?se.splice(Pe+(V?1:0),0,...Se):se.push(...Se),z.forEach(tt=>{const{row:Je,rowspan:rt}=tt;Je>=Oe?tt.row=Je+Se.length:(V?Je+rt>=Oe:Je+rt>Oe)&&(tt.rowspan=rt+Se.length)})}const fe=Oe=>{const Pe=Pt(e,Oe);Re[Pe]?(delete Re[Pe],X[Pe]&&delete X[Pe]):X[Pe]=Oe};return W&&Q?l.eachTree(xe,fe,{children:De}):Se.forEach(fe),o.removeRowFlag++,o.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(W&&Q),W&&Q||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),pe().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:Se.length?Se[Se.length-1]:null,rows:Se}))},k=(I,F,V,W)=>{const{treeConfig:ie}=t,U=f.value,{transform:_,rowField:z,parentField:se}=U;return ie&&_?(l.isArray(I)||(I=[I]),N(I.map(ye=>Object.assign({},ye,{[se]:F[z]})),V,W)):(Bt("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},j=(I,F)=>{const{editStore:V}=o,{actived:W,focused:ie}=V,{row:U,column:_}=W,z=E.value;if(U||_){if(F&&Pt(e,F)!==Pt(e,U))return pe();p(),W.args=null,W.row=null,W.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:U,rowIndex:e.getRowIndex(U),$rowIndex:e.getVMRowIndex(U),column:_,columnIndex:e.getColumnIndex(_),$columnIndex:e.getVMColumnIndex(_)},I||null)}return ie.row=null,ie.column=null,z.autoClear&&(z.msgMode!=="full"||LM().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():pe().then(()=>e.updateCellAreas())},J=(I,F,V,W)=>{const ie=e.xeGrid,U=e.xeGantt,{editConfig:_,mouseConfig:z}=t,{editStore:se,tableColumn:ye}=o,Y=d.value,{mode:X}=Y,{actived:Re,focused:ue}=se,{row:Q,column:be}=I,{editRender:Ie}=be,De=I.cell||e.getCellElement(Q,be),Me=Y.beforeEditMethod||Y.activeMethod;if(I.cell=De,De&&co(_)&&co(Ie)&&!e.isPendingByRow(Q)&&!e.isAggregateRecord(Q)){if(Re.row!==Q||X==="cell"&&Re.column!==be){let Se="edit-disabled";if(!Me||Me(Object.assign(Object.assign({},I),{$table:e,$grid:ie,$gantt:U}))){z&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),Re.column&&j(F),Se="edit-activated",be.renderHeight=De.offsetHeight,Re.args=I,Re.row=Q,Re.column=be,X==="row"?ye.forEach(fe=>C(Q,fe)):C(Q,be);const xe=Y.afterEditMethod;pe(()=>{V&&e.handleFocus(I,F),xe&&xe(Object.assign(Object.assign({},I),{$table:e,$grid:ie,$gantt:U}))})}e.dispatchEvent(Se,{row:Q,rowIndex:e.getRowIndex(Q),$rowIndex:e.getVMRowIndex(Q),column:be,columnIndex:e.getColumnIndex(be),$columnIndex:e.getVMColumnIndex(be)},F),Se==="edit-activated"&&e.dispatchEvent("edit-actived",{row:Q,rowIndex:e.getRowIndex(Q),$rowIndex:e.getVMRowIndex(Q),column:be,columnIndex:e.getColumnIndex(be),$columnIndex:e.getVMColumnIndex(be)},F)}else{const{column:Se}=Re;if(z&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),Se!==be){const{model:xe}=Se;xe.update&&Kr(Q,Se,xe.value),e.clearValidate&&e.clearValidate(Q,be)}be.renderHeight=De.offsetHeight,Re.args=I,Re.column=be,W&&setTimeout(()=>{e.handleFocus(I,F)})}ue.column=null,ue.row=null,e.focus()}return pe()},B=(I,F,V)=>{const{editConfig:W}=t,ie=l.isString(F)?e.getColumnByField(F):F;return I&&ie&&co(W)&&co(ie.editRender)&&!e.isAggregateRecord(I)?Promise.resolve(V?e.scrollToRow(I,ie):null).then(()=>{const U=e.getCellElement(I,ie);return U&&(J({row:I,rowIndex:e.getRowIndex(I),column:ie,columnIndex:e.getColumnIndex(ie),cell:U,$table:e},null,V,V),r._lastCallTime=Date.now()),pe()}):pe()};return w={insert(I){return N(I,null)},insertAt(I,F){return N(I,F)},insertNextAt(I,F){return N(I,F,!0)},insertChild(I,F){return k(I,F,null)},insertChildAt(I,F,V){return k(I,F,V)},insertChildNextAt(I,F,V){return k(I,F,V,!0)},remove(I){const{treeConfig:F}=t,{editStore:V,isRowGroupStatus:W}=o,{tableFullTreeData:ie,selectCheckboxMaps:U,afterFullData:_,mergeBodyList:z,tableFullData:se,pendingRowMaps:ye,insertRowMaps:Y,removeRowMaps:X}=r,Re=b.value,ue=f.value,{transform:Q,mapChildrenField:be}=ue,Ie=ue.children||ue.childrenField,{actived:De}=V,{checkField:Me}=Re;let Se=[];return I?l.isArray(I)||(I=[I]):I=se,I.forEach(xe=>{if(!e.isInsertByRow(xe)){const fe=Pt(e,xe);X[fe]=xe}}),Me||(I.forEach(xe=>{const fe=Pt(e,xe);U[fe]&&delete U[fe]}),o.updateCheckboxFlag++),se===I?(I=Se=se.slice(0),r.tableFullData=[],r.afterFullData=[],e.clearMergeCells()):F&&Q?I.forEach(xe=>{const fe=Pt(e,xe),Oe=l.findTree(ie,Je=>fe===Pt(e,Je),{children:be});if(Oe){const Je=Oe.items.splice(Oe.index,1);Se.push(Je[0])}const Pe=l.findTree(ie,Je=>fe===Pt(e,Je),{children:Ie});Pe&&Pe.items.splice(Pe.index,1);const tt=e.findRowIndexOf(_,xe);tt>-1&&_.splice(tt,1)}):W?Ut(Fl("vxe.error.noGroup",["remove"])):I.forEach(xe=>{const fe=e.findRowIndexOf(se,xe);if(fe>-1){const Pe=se.splice(fe,1);Se.push(Pe[0])}const Oe=e.findRowIndexOf(_,xe);Oe>-1&&(z.forEach(Pe=>{const{row:tt,rowspan:Je}=Pe;tt>Oe?Pe.row=tt-1:tt+Je>Oe&&(Pe.rowspan=Je-1)}),_.splice(Oe,1))}),De.row&&e.findRowIndexOf(I,De.row)>-1&&w.clearEdit(),I.forEach(xe=>{const fe=Pt(e,xe);Y[fe]&&delete Y[fe],ye[fe]&&delete ye[fe]}),o.removeRowFlag++,o.insertRowFlag++,o.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(F&&Q),e.updateFooter(),e.handleUpdateBodyMerge(),F&&Q||e.updateAfterDataIndex(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),pe().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:Se.length?Se[Se.length-1]:null,rows:Se}))},removeCheckboxRow(){return w.remove(e.getCheckboxRecords()).then(I=>(e.clearCheckboxRow(),I))},removeRadioRow(){const I=e.getRadioRecord();return w.remove(I||[]).then(F=>(e.clearRadioRow(),F))},removeCurrentRow(){const I=e.getCurrentRecord();return w.remove(I||[]).then(F=>(e.clearCurrentRow(),F))},getRecordset(){const I=w.getRemoveRecords(),F=e.getPendingRecords(),V=I.concat(F),W=w.getUpdateRecords().filter(ie=>!V.some(U=>e.eqRow(U,ie)));return{insertRecords:w.getInsertRecords(),removeRecords:I,updateRecords:W,pendingRecords:F}},getInsertRecords(){const{fullAllDataRowIdData:I,insertRowMaps:F}=r,V=[];return l.each(F,(W,ie)=>{I[ie]&&V.push(W)}),V},getRemoveRecords(){const{removeRowMaps:I}=r,F=[];return l.each(I,V=>{F.push(V)}),F},getUpdateRecords(){const{keepSource:I,treeConfig:F}=t,{tableFullData:V}=r,W=f.value;return I?(p(),F?l.filterTree(V,ie=>e.isUpdateByRow(ie),W):V.filter(ie=>e.isUpdateByRow(ie))):[]},getActiveRecord(){Ut("vxe.error.delFunc",["getActiveRecord","getEditCell"]);const{editStore:I}=o,{fullAllDataRowIdData:F}=r,{args:V,row:W}=I.actived;return V&&W&&F[Pt(e,W)]?Object.assign({},V,{row:W}):null},getEditRecord(){Ut("vxe.error.delFunc",["getEditRecord","getEditCell"]);const{editStore:I}=o,{fullAllDataRowIdData:F}=r,{args:V,row:W}=I.actived;return V&&W&&F[Pt(e,W)]?Object.assign({},V,{row:W}):null},getEditCell(){const{editStore:I}=o,{row:F,column:V}=I.actived;return V&&F?{row:F,rowIndex:e.getRowIndex(F),column:V,columnIndex:e.getColumnIndex(V)}:null},getSelectedCell(){const{editStore:I}=o,{row:F,column:V}=I.selected;return F&&V?{row:F,column:V}:null},clearActived(I){return Ut("vxe.error.delFunc",["clearActived","clearEdit"]),e.clearEdit(I)},clearEdit(I){return j(null,I)},clearSelected(){const{editStore:I}=o,{selected:F}=I;return F.row=null,F.column=null,v(),pe()},isActiveByRow(I){return Ut("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),e.isEditByRow(I)},isEditByRow(I){const{editStore:F}=o;return F.actived.row===I},setActiveRow(I){return Ut("vxe.error.delFunc",["setActiveRow","setEditRow"]),w.setEditRow(I)},setEditRow(I,F){const{visibleColumn:V}=r;let W=l.find(V,U=>co(U.editRender)),ie=!1;return F&&(ie=!0,F!==!0&&(W=l.isString(F)?e.getColumnByField(F):F)),B(I,W,ie)},setActiveCell(I,F){return Ut("vxe.error.delFunc",["setActiveCell","setEditCell"]),w.setEditCell(I,F)},setEditCell(I,F){return B(I,F,!0)},setSelectCell(I,F){const{tableData:V}=o,W=d.value,ie=l.isString(F)?e.getColumnByField(F):F;if(I&&ie&&W.trigger!=="manual"){const U=e.findRowIndexOf(V,I);if(U>-1&&ie){const _=e.getCellElement(I,ie),z={row:I,rowIndex:U,column:ie,columnIndex:e.getColumnIndex(ie),cell:_};e.handleSelected(z,{})}}return pe()}},D={handleEdit(I,F){return J(I,F,!0,!0)},handleActived(I,F){return D.handleEdit(I,F)},handleClearEdit:j,handleFocus(I){const{row:F,column:V,cell:W}=I,{editRender:ie}=V,U=d.value;if(co(ie)){const _=NM.get(ie.name);let z=ie.autofocus||ie.autoFocus,se=ie.autoSelect||ie.autoselect,ye;if(U.autoFocus&&(!z&&_&&(z=_.tableAutoFocus||_.tableAutofocus||_.autofocus),!se&&_&&(se=_.tableAutoSelect||_.autoselect),l.isFunction(z)?ye=z(I):z&&(z===!0?ye=W.querySelector("input,textarea"):ye=W.querySelector(z),ye&&ye.focus())),ye){if(se)ye.select();else if(m.msie){const Y=ye.createTextRange();Y.collapse(!1),Y.select()}}else U.autoPos&&(V.fixed||e.scrollToRow(F,V))}},handleSelected(I,F){const{mouseConfig:V}=t,{editStore:W}=o,ie=i.value,U=d.value,{actived:_,selected:z}=W,{row:se,column:ye}=I,Y=V&&ie.selected;return Y&&(z.row!==se||z.column!==ye)&&(_.row!==se||U.mode==="cell"&&_.column!==ye)&&(j(F),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),z.args=I,z.row=se,z.column=ye,Y&&D.addCellSelectedClass(),e.focus(),F&&e.dispatchEvent("cell-selected",I,F)),pe()},addCellSelectedClass(){const{editStore:I}=o,{selected:F}=I,{row:V,column:W}=F;if(v(),V&&W){const ie=e.getCellElement(V,W);ie&&Dr(ie,"col--selected")}}},Object.assign(Object.assign({},w),D)},setupGrid(e){return e.extendTableMethods(HC)},setupGantt(e){return e.extendTableMethods(HC)}});const _M='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",,"MicrosoftJhengHei",,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function HM(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function BM(e,t){const{style:o}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${_M}</style>`,o?`<style>${o}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const{getI18n:ul,hooks:VM,renderer:ug}=Ee;let Ya;const zM="\uFEFF",Oa=`\r
`;function Fs(e){return!!e.field||["seq","checkbox","radio"].indexOf(e.type||"")===-1}const zE=e=>{const t=[];return e.forEach(o=>{o.childNodes&&o.childNodes.length?(t.push(o),t.push(...zE(o.childNodes))):t.push(o)}),t},qM=e=>{let t=1;const o=(i,d)=>{if(d&&(i._level=d._level+1,t<i._level&&(t=i._level)),i.childNodes&&i.childNodes.length){let b=0;i.childNodes.forEach(f=>{o(f,i),b+=f._colSpan}),i._colSpan=b}else i._colSpan=1};e.forEach(i=>{i._level=1,o(i)});const r=[];for(let i=0;i<t;i++)r.push([]);return zE(e).forEach(i=>{i.childNodes&&i.childNodes.length?i._rowSpan=1:i._rowSpan=t-i._level+1,r[i._level-1].push(i)}),r};function GM(e){return e===!0?"full":e||"default"}function Ka(e){return e==="TRUE"||e==="true"||e===!0}function As(e,t,o){const r=e.xeGrid,s=e.xeGantt,{footerFilterMethod:i}=t;return i?o.filter((d,b)=>i({$table:e,$grid:r,$gantt:s,items:d,$rowIndex:b})):o}function WM(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function Xa(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function Or(e,t){return e.getElementsByTagName(t)}function BC(e){return`#${e}@${l.uniqueId()}`}function qE(e,t){return e.replace(/#\d+@\d+/g,o=>l.hasOwnProp(t,o)?t[o]:o)}function VC(e,t){return qE(e,t).replace(/^"+$/g,r=>'"'.repeat(Math.ceil(r.length/2)))}function lh(e,t){const{fieldMaps:o,titleMaps:r}=e;if(!o[t]){const s=r[t];s&&s.field&&(t=s.field)}return t}function GE(e,t,o){const r=t.split(Oa),s=[];let i=[];if(r.length){const d={},b=Date.now();r.forEach(f=>{if(f){const E={};f=f.replace(/("")|(\n)/g,(w,D)=>{const C=BC(b);return d[C]=D?'"':`
`,C}).replace(/"(.*?)"/g,(w,D)=>{const C=BC(b);return d[C]=qE(D,d),C});const m=f.split(o);i.length?(m.forEach((w,D)=>{D<i.length&&(E[i[D]]=VC(w.trim(),d))}),s.push(E)):i=m.map(w=>lh(e,VC(w.trim(),d)))}})}return{fields:i,rows:s}}function jM(e,t){return GE(e,t,",")}function UM(e,t){return GE(e,t,"	")}function YM(e,t){const r=new DOMParser().parseFromString(t,"text/html"),s=Or(r,"body"),i=[],d=[];if(s.length){const b=Or(s[0],"table");if(b.length){const f=Or(b[0],"thead");if(f.length){l.arrayEach(Or(f[0],"tr"),m=>{l.arrayEach(Or(m,"th"),w=>{d.push(lh(e,w.textContent||""))})});const E=Or(b[0],"tbody");E.length&&l.arrayEach(Or(E[0],"tr"),m=>{const w={};l.arrayEach(Or(m,"td"),(D,C)=>{d[C]&&(w[d[C]]=D.textContent||"")}),i.push(w)})}}}return{fields:d,rows:i}}function KM(e,t){const r=new DOMParser().parseFromString(t,"application/xml"),s=Or(r,"Worksheet"),i=[],d=[];if(s.length){const b=Or(s[0],"Table");if(b.length){const f=Or(b[0],"Row");f.length&&(l.arrayEach(Or(f[0],"Cell"),E=>{d.push(lh(e,E.textContent||""))}),l.arrayEach(f,(E,m)=>{if(m){const w={},D=Or(E,"Cell");l.arrayEach(D,(C,M)=>{d[M]&&(w[d[M]]=C.textContent)}),i.push(w)}}))}}return{fields:d,rows:i}}function zC(e){l.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}const qC=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];VM.add("tableExportModule",{setupTable(e){const{props:t,reactData:o,internalData:r}=e,{computeTreeOpts:s,computePrintOpts:i,computeExportOpts:d,computeImportOpts:b,computeCustomOpts:f,computeSeqOpts:E,computeRadioOpts:m,computeCheckboxOpts:w,computeColumnOpts:D}=e.getComputeMaps(),C=ue=>{const Q=s.value,be=Q.children||Q.childrenField;return ue[be]&&ue[be].length},M=(ue,Q,be,Ie,De)=>{const Se=E.value.seqMethod||Ie.seqMethod;return Se?Se({$table:e,row:Q,rowIndex:e.getRowIndex(Q),_rowIndex:e.getVTRowIndex(Q),$rowIndex:be,column:Ie,columnIndex:e.getColumnIndex(Ie),_columnIndex:e.getVTColumnIndex(Ie),$columnIndex:De}):ue};function v(ue,Q){const be=D.value,Ie=Q.headerExportMethod||be.headerExportMethod;return Ie?Ie({column:Q,options:ue,$table:e}):(ue.isTitle?Q.getTitle():Q.field)||""}const p=ue=>l.isBoolean(ue)?ue?"TRUE":"FALSE":ue,T=ue=>gl(ue)?"":`${ue}`,N=(ue,Q,be)=>{const{isAllExpand:Ie,mode:De}=ue,{treeConfig:Me}=t,Se=m.value,xe=w.value,fe=s.value,Oe=D.value;if(Ya||(Ya=document.createElement("div")),Me){const Pe=fe.children||fe.childrenField,tt=[],Je={},rt={},{handleGetRowId:ze}=gn(e);return l.eachTree(be,(Z,$e,ce,Ne,Ke,dt)=>{const ft=Z._row||Z,Vt=ze(ft);if(rt[Vt])return;const bt=Ke&&Ke._row?Ke._row:Ke,vt=bt?ze(bt):"";if(Ie||!bt||Je[vt]&&e.isTreeExpandByRow(bt)){const Ot=C(ft),lt={_row:ft,_level:dt.length-1,_hasChild:Ot,_expand:Ot&&e.isTreeExpandByRow(ft)};Q.forEach((Et,Xt)=>{let jt="";const Gt=Et.editRender||Et.cellRender;let Ct=Et.exportMethod||Oe.exportMethod;if(!Ct&&Gt&&Gt.name){const Nt=ug.get(Gt.name);Nt&&(Ct=Nt.tableExportMethod||Nt.exportMethod)}if(Ct||(Ct=Oe.exportMethod),Ct)jt=Ct({$table:e,row:ft,column:Et,options:ue});else switch(Et.type){case"seq":{const Nt=Ne.map((_t,ke)=>ke%2===0?Number(_t)+1:".").join("");jt=De==="all"?Nt:M(Nt,ft,$e,Et,Xt);break}case"checkbox":jt=p(e.isCheckedByCheckboxRow(ft)),lt._checkboxLabel=xe.labelField?l.get(ft,xe.labelField):"",lt._checkboxDisabled=xe.checkMethod&&!xe.checkMethod({$table:e,row:ft});break;case"radio":jt=p(e.isCheckedByRadioRow(ft)),lt._radioLabel=Se.labelField?l.get(ft,Se.labelField):"",lt._radioDisabled=Se.checkMethod&&!Se.checkMethod({$table:e,row:ft});break;default:if(ue.original)jt=On(ft,Et);else if(jt=e.getCellLabel(ft,Et),Et.type==="html")Ya.innerHTML=jt,jt=Ya.innerText.trim();else{const Nt=e.getCellElement(ft,Et);Nt&&!Al(Nt,"is--progress")&&(jt=Nt.innerText.trim())}}lt[Et.id]=T(jt)}),rt[Vt]=!0,vt&&(Je[vt]=!0),tt.push(Object.assign(lt,ft))}},{children:Pe}),tt}return be.map((Pe,tt)=>{const Je={_row:Pe};return Q.forEach((rt,ze)=>{let Z="";const $e=rt.editRender||rt.cellRender;let ce=rt.exportMethod||Oe.exportMethod;if(!ce&&$e&&$e.name){const Ne=ug.get($e.name);Ne&&(ce=Ne.tableExportMethod||Ne.exportMethod)}if(ce)Z=ce({$table:e,row:Pe,column:rt,options:ue});else switch(rt.type){case"seq":{const Ne=tt+1;Z=De==="all"?Ne:M(Ne,Pe,tt,rt,ze);break}case"checkbox":Z=p(e.isCheckedByCheckboxRow(Pe)),Je._checkboxLabel=xe.labelField?l.get(Pe,xe.labelField):"",Je._checkboxDisabled=xe.checkMethod&&!xe.checkMethod({$table:e,row:Pe});break;case"radio":Z=p(e.isCheckedByRadioRow(Pe)),Je._radioLabel=Se.labelField?l.get(Pe,Se.labelField):"",Je._radioDisabled=Se.checkMethod&&!Se.checkMethod({$table:e,row:Pe});break;default:if(ue.original)Z=On(Pe,rt);else if(Z=e.getCellLabel(Pe,rt),rt.type==="html")Ya.innerHTML=Z,Z=Ya.innerText.trim();else{const Ne=e.getCellElement(Pe,rt);Ne&&!Al(Ne,"is--progress")&&(Z=Ne.innerText.trim())}}Je[rt.id]=T(Z)}),Je})},k=ue=>{const Q=e.xeGrid,be=e.xeGantt,{columns:Ie,dataFilterMethod:De}=ue;let Me=ue.data;return De&&(Me=Me.filter((Se,xe)=>De({$table:e,$grid:Q,$gantt:be,row:Se,$rowIndex:xe}))),N(ue,Ie,Me)},j=(ue,Q,be)=>{const Ie=D.value,De=be.editRender||be.cellRender;let Me=be.footerExportMethod;if(!Me&&De&&De.name){const xe=ug.get(De.name);xe&&(Me=xe.tableFooterExportMethod||xe.footerExportMethod)}if(Me||(Me=Ie.footerExportMethod),Me){const xe=e.getVTColumnIndex(be);return Me({$table:e,items:Q,itemIndex:xe,row:Q,_columnIndex:xe,column:be,options:ue})}return e.getFooterCellLabel(Q,be)},J=(ue,Q,be,Ie)=>{let De=zM;if(Q.isHeader&&(De+=be.map(Me=>Xa(v(Q,Me))).join(",")+Oa),Ie.forEach(Me=>{De+=be.map(Se=>Xa(WM(Se,Me[Se.id]))).join(",")+Oa}),Q.isFooter){const{footerTableData:Me}=o;As(ue,Q,Me).forEach(xe=>{De+=be.map(fe=>Xa(j(Q,xe,fe))).join(",")+Oa})}return De},B=(ue,Q,be,Ie)=>{let De="";if(Q.isHeader&&(De+=be.map(Me=>Xa(v(Q,Me))).join("	")+Oa),Ie.forEach(Me=>{De+=be.map(Se=>Xa(Me[Se.id])).join("	")+Oa}),Q.isFooter){const{footerTableData:Me}=o;As(ue,Q,Me).forEach(xe=>{De+=be.map(fe=>Xa(j(Q,xe,fe))).join("	")+Oa})}return De},I=(ue,Q,be)=>{const Ie=ue[Q],De=l.isUndefined(Ie)||l.isNull(Ie)?be:Ie;let fe=De==="title"||(De===!0||De==="tooltip")||De==="ellipsis";const{scrollXLoad:Oe,scrollYLoad:Pe}=o;return(Oe||Pe)&&!fe&&(fe=!0),fe},F=(ue,Q,be)=>{const{id:Ie,border:De,treeConfig:Me,headerAlign:Se,align:xe,footerAlign:fe,showOverflow:Oe,showHeaderOverflow:Pe}=t,{isAllSelected:tt,isIndeterminate:Je}=o,{mergeBodyCellMaps:rt}=r,ze=s.value,{print:Z,isHeader:$e,isFooter:ce,isColgroup:Ne,isMerge:Ke,colgroups:dt,original:ft}=ue,Vt="check-all",vt=[`<table class="${["vxe-table",`border--${GM(De)}`,Z?"is--print":"",$e?"is--header":""].filter(lt=>lt).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${Q.map(lt=>`<col style="width:${lt.renderWidth}px">`).join("")}</colgroup>`];if($e&&(vt.push("<thead>"),Ne&&!ft?dt.forEach(lt=>{vt.push(`<tr>${lt.map(Et=>{const Xt=Et.headerAlign||Et.align||Se||xe,jt=I(Et,"showHeaderOverflow",Pe)?["col--ellipsis"]:[],Gt=v(ue,Et);let Ct=0,Nt=0;l.eachTree([Et],ke=>{(!ke.childNodes||!Et.childNodes.length)&&Nt++,Ct+=ke.renderWidth},{children:"childNodes"});const _t=Ct-Nt;return Xt&&jt.push(`col--${Xt}`),Et.type==="checkbox"?`<th class="${jt.join(" ")}" colspan="${Et._colSpan}" rowspan="${Et._rowSpan}"><div ${Z?"":`style="width: ${_t}px"`}><input type="checkbox" class="${Vt}" ${tt?"checked":""}><span>${Gt}</span></div></th>`:`<th class="${jt.join(" ")}" colspan="${Et._colSpan}" rowspan="${Et._rowSpan}" title="${Gt}"><div ${Z?"":`style="width: ${_t}px"`}><span>${Ln(Gt,!0)}</span></div></th>`}).join("")}</tr>`)}):vt.push(`<tr>${Q.map(lt=>{const Et=lt.headerAlign||lt.align||Se||xe,Xt=I(lt,"showHeaderOverflow",Pe)?["col--ellipsis"]:[],jt=v(ue,lt);return Et&&Xt.push(`col--${Et}`),lt.type==="checkbox"?`<th class="${Xt.join(" ")}"><div ${Z?"":`style="width: ${lt.renderWidth}px"`}><input type="checkbox" class="${Vt}" ${tt?"checked":""}><span>${jt}</span></div></th>`:`<th class="${Xt.join(" ")}" title="${jt}"><div ${Z?"":`style="width: ${lt.renderWidth}px"`}><span>${Ln(jt,!0)}</span></div></th>`}).join("")}</tr>`),vt.push("</thead>")),be.length&&(vt.push("<tbody>"),Me?be.forEach(lt=>{vt.push("<tr>"+Q.map(Et=>{const Xt=Et.id,jt=Et.align||xe,Gt=I(Et,"showOverflow",Oe)?["col--ellipsis"]:[],Ct=lt[Xt];if(jt&&Gt.push(`col--${jt}`),Et.treeNode){let Nt="";return lt._hasChild&&(Nt=`<i class="${lt._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),Gt.push("vxe-table--tree-node"),Et.type==="radio"?`<td class="${Gt.join(" ")}" title="${Ct}"><div ${Z?"":`style="width: ${Et.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${lt._level*ze.indent}px"><div class="vxe-table--tree-icon-wrapper">${Nt}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${Ie}" ${lt._radioDisabled?"disabled ":""}${Ka(Ct)?"checked":""}><span>${lt._radioLabel}</span></div></div></div></td>`:Et.type==="checkbox"?`<td class="${Gt.join(" ")}" title="${Ct}"><div ${Z?"":`style="width: ${Et.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${lt._level*ze.indent}px"><div class="vxe-table--tree-icon-wrapper">${Nt}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${lt._checkboxDisabled?"disabled ":""}${Ka(Ct)?"checked":""}><span>${lt._checkboxLabel}</span></div></div></div></td>`:`<td class="${Gt.join(" ")}" title="${Ct}"><div ${Z?"":`style="width: ${Et.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${lt._level*ze.indent}px"><div class="vxe-table--tree-icon-wrapper">${Nt}</div><div class="vxe-table--tree-cell">${Ct}</div></div></div></td>`}return Et.type==="radio"?`<td class="${Gt.join(" ")}"><div ${Z?"":`style="width: ${Et.renderWidth}px"`}><input type="radio" name="radio_${Ie}" ${lt._radioDisabled?"disabled ":""}${Ka(Ct)?"checked":""}><span>${lt._radioLabel}</span></div></td>`:Et.type==="checkbox"?`<td class="${Gt.join(" ")}"><div ${Z?"":`style="width: ${Et.renderWidth}px"`}><input type="checkbox" ${lt._checkboxDisabled?"disabled ":""}${Ka(Ct)?"checked":""}><span>${lt._checkboxLabel}</span></div></td>`:`<td class="${Gt.join(" ")}" title="${Ct}"><div ${Z?"":`style="width: ${Et.renderWidth}px"`}>${Ln(Ct,!0)}</div></td>`}).join("")+"</tr>")}):be.forEach(lt=>{vt.push("<tr>"+Q.map(Et=>{const Xt=Et.align||xe,jt=I(Et,"showOverflow",Oe)?["col--ellipsis"]:[],Gt=lt[Et.id];let Ct=1,Nt=1;if(Ke){const _t=e.getVTRowIndex(lt._row),ke=e.getVTColumnIndex(Et),Fe=rt[`${_t}:${ke}`];if(Fe){const{rowspan:je,colspan:nt}=Fe;if(!je||!nt)return"";je>1&&(Ct=je),nt>1&&(Nt=nt)}}return Xt&&jt.push(`col--${Xt}`),Et.type==="radio"?`<td class="${jt.join(" ")}" rowspan="${Ct}" colspan="${Nt}"><div ${Z?"":`style="width: ${Et.renderWidth}px"`}><input type="radio" name="radio_${Ie}" ${lt._radioDisabled?"disabled ":""}${Ka(Gt)?"checked":""}><span>${lt._radioLabel}</span></div></td>`:Et.type==="checkbox"?`<td class="${jt.join(" ")}" rowspan="${Ct}" colspan="${Nt}"><div ${Z?"":`style="width: ${Et.renderWidth}px"`}><input type="checkbox" ${lt._checkboxDisabled?"disabled ":""}${Ka(Gt)?"checked":""}><span>${lt._checkboxLabel}</span></div></td>`:`<td class="${jt.join(" ")}" rowspan="${Ct}" colspan="${Nt}" title="${Gt}"><div ${Z?"":`style="width: ${Et.renderWidth}px"`}>${Ln(Gt,!0)}</div></td>`}).join("")+"</tr>")}),vt.push("</tbody>")),ce){const{footerTableData:lt}=o,Et=As(e,ue,lt);Et.length&&(vt.push("<tfoot>"),Et.forEach(Xt=>{vt.push(`<tr>${Q.map(jt=>{const Gt=jt.footerAlign||jt.align||fe||xe,Ct=I(jt,"showOverflow",Oe)?["col--ellipsis"]:[],Nt=j(ue,Xt,jt);return Gt&&Ct.push(`col--${Gt}`),`<td class="${Ct.join(" ")}" title="${Nt}"><div ${Z?"":`style="width: ${jt.renderWidth}px"`}>${Ln(Nt,!0)}</div></td>`}).join("")}</tr>`)}),vt.push("</tfoot>"))}const Ot=!tt&&Je?`<script>(function(){var a=document.querySelector(".${Vt}");if(a){a.indeterminate=true}})()<\/script>`:"";return vt.push("</table>",Ot),Z?vt.join(""):BM(ue,vt.join(""))},V=(ue,Q,be)=>{let Ie=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${ue.sheetName}">`,"<Table>",Q.map(De=>`<Column ss:Width="${De.renderWidth}"/>`).join("")].join("");if(ue.isHeader&&(Ie+=`<Row>${Q.map(De=>`<Cell><Data ss:Type="String">${v(ue,De)}</Data></Cell>`).join("")}</Row>`),be.forEach(De=>{Ie+="<Row>"+Q.map(Me=>`<Cell><Data ss:Type="String">${De[Me.id]}</Data></Cell>`).join("")+"</Row>"}),ue.isFooter){const{footerTableData:De}=o;As(e,ue,De).forEach(Se=>{Ie+=`<Row>${Q.map(xe=>`<Cell><Data ss:Type="String">${j(ue,Se,xe)}</Data></Cell>`).join("")}</Row>`})}return`${Ie}</Table></Worksheet></Workbook>`},W=(ue,Q,be,Ie)=>{if(be.length)switch(Q.type){case"csv":return J(ue,Q,be,Ie);case"txt":return B(ue,Q,be,Ie);case"html":return F(Q,be,Ie);case"xml":return V(Q,be,Ie)}return""},ie=(ue,Q)=>{const{filename:be,type:Ie,download:De}=ue;if(!De){const Me=HM(Q,ue);return Promise.resolve({type:Ie,content:Q,blob:Me})}Ee.saveFile&&Ee.saveFile({filename:be,type:Ie,content:Q}).then(()=>{ue.message!==!1&&Ee.modal&&Ee.modal.message({content:ul("vxe.table.expSuccess"),status:"success"})})},U=ue=>{const Q=e.xeGrid,be=e.xeGantt,{remote:Ie,columns:De,colgroups:Me,exportMethod:Se,afterExportMethod:xe}=ue;return new Promise(fe=>{if(Ie){const Oe={options:ue,$table:e,$grid:Q,$gantt:be};fe(Se?Se(Oe):Oe)}else{const Oe=k(ue);fe(e.preventEvent(null,"event.export",{options:ue,columns:De,colgroups:Me,datas:Oe},()=>ie(ue,W(e,ue,De,Oe))))}}).then(fe=>(zC(De),ue.print||xe&&xe({status:!0,options:ue,$table:e,$grid:Q,$gantt:be}),Object.assign({status:!0},fe))).catch(()=>{zC(De),ue.print||xe&&xe({status:!1,options:ue,$table:e,$grid:Q,$gantt:be});const fe={status:!1};return Promise.reject(fe)})},_=(ue,Q)=>{const{tableFullColumn:be,_importResolve:Ie,_importReject:De}=r;let Me={fields:[],rows:[]};const Se={},xe={};be.forEach(Je=>{const rt=Je.field,ze=Je.getTitle();rt&&(Se[rt]=Je),ze&&(xe[Je.getTitle()]=Je)});const fe={fieldMaps:Se,titleMaps:xe};switch(Q.type){case"csv":Me=jM(fe,ue);break;case"txt":Me=UM(fe,ue);break;case"html":Me=YM(fe,ue);break;case"xml":Me=KM(fe,ue);break}const{fields:Oe,rows:Pe}=Me;Oe.some(Je=>Se[Je]||xe[Je])?e.createData(Pe).then(Je=>{let rt;return Q.mode==="insert"||Q.mode==="insertBottom"?rt=e.insertAt(Je,-1):Q.mode==="insertTop"?rt=e.insert(Je):rt=e.reloadData(Je),Q.message!==!1&&Ee.modal&&Ee.modal.message({content:ul("vxe.table.impSuccess",[Pe.length]),status:"success"}),rt.then(()=>{Ie&&Ie({status:!0})})}):Q.message!==!1&&(Ee.modal&&Ee.modal.message({content:ul("vxe.error.impFields"),status:"error"}),De&&De({status:!1}))},z=(ue,Q)=>{const{importMethod:be,afterImportMethod:Ie}=Q,{type:De,filename:Me}=EE(ue),Se=b.value;if(!be&&!l.includes(l.keys(Se._typeMaps),De)){Q.message!==!1&&Ee.modal&&Ee.modal.message({content:ul("vxe.error.notType",[De]),status:"error"});const fe={status:!1};return Promise.reject(fe)}return new Promise((fe,Oe)=>{const Pe=Je=>{fe(Je),r._importResolve=null,r._importReject=null},tt=Je=>{Oe(Je),r._importResolve=null,r._importReject=null};if(r._importResolve=Pe,r._importReject=tt,window.FileReader){const Je=Object.assign({mode:"insertTop"},Q,{type:De,filename:Me});if(Je.remote)be?Promise.resolve(be({file:ue,options:Je,$table:e})).then(()=>{Pe({status:!0})}).catch(()=>{Pe({status:!0})}):Pe({status:!0});else{const{tableFullColumn:rt}=r;e.preventEvent(null,"event.import",{file:ue,options:Je,columns:rt},()=>{const ze=new FileReader;ze.onerror=()=>{Bt("vxe.error.notType",[De]),tt({status:!1})},ze.onload=Z=>{_(Z.target.result,Je)},ze.readAsText(ue,Je.encoding||"UTF-8")})}}else Bt("vxe.error.notExp"),Pe({status:!0})}).then(()=>{Ie&&Ie({status:!0,options:Q,$table:e})}).catch(fe=>(Ie&&Ie({status:!1,options:Q,$table:e}),Promise.reject(fe)))},se=(ue,Q,be)=>be.some(Ie=>{if(Zs(Ie))return Q.id===Ie.id;if(l.isString(Ie))return Q.field===Ie;{const De=Ie.id||Ie.colId,Me=Ie.type,Se=Ie.field;if(De)return Q.id===De;if(Se&&Me)return Q.field===Se&&Q.type===Me;if(Se)return Q.field===Se;if(Me)return Q.type===Me}return!1}),ye=(ue,Q,be,Ie)=>Ie&&l.includes(Ie,Q.field)?!1:be?!!l.includes(be,Q.field):ue.original?!!Q.field:Fs(Q),Y=(ue,Q)=>{const be=e.xeGrid,Ie=e.xeGantt,De=be||Ie,{treeConfig:Me,showHeader:Se,showFooter:xe}=t,{initStore:fe,isGroup:Oe,footerTableData:Pe,exportStore:tt,exportParams:Je}=o,{collectColumn:rt,mergeBodyList:ze,mergeFooterList:Z}=r,$e=d.value,ce=Me,Ne=f.value,Ke=e.getCheckboxRecords(),dt=De?De.getComputeMaps().computeProxyOpts.value:{},ft=!!Pe.length,Vt=!!(ze.length||Z.length),bt=Object.assign({message:!0,isHeader:Se,isTitle:Se,isFooter:xe,isColgroup:Oe,isMerge:Vt,useStyle:!0,current:"current",modes:(dt.ajax&&dt.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},ue),vt=bt.types||l.keys($e._typeMaps),Ot=bt.modes||[],lt=Ne.checkMethod,Et=rt.slice(0),{columns:Xt,excludeFields:jt,includeFields:Gt}=bt,Ct=vt.map(nt=>({value:nt,label:ul(`vxe.export.types.${nt}`)})),Nt=Ot.map(nt=>nt&&nt.value?{value:nt.value,label:nt.label||nt.value}:{value:nt,label:ul(`vxe.export.modes.${nt}`)});l.eachTree(Et,(nt,mt,te,_e,Be)=>{const Qe=nt.children&&nt.children.length>0;let at=!1;Xt&&Xt.length?at=se(bt,nt,Xt):jt||Gt?at=ye(bt,nt,Gt,jt):at=nt.visible&&(Qe||Fs(nt)),nt.checked=at,nt.halfChecked=!1,nt.disabled=Be&&Be.disabled||(lt?!lt({$table:e,column:nt}):!1)}),Object.assign(tt,{columns:Et,typeList:Ct,modeList:Nt,hasFooter:ft,hasMerge:Vt,hasTree:ce,isPrint:Q,hasColgroup:Oe,visible:!0}),Object.assign(Je,{mode:Ke.length?"selected":"current"},bt);const{filename:_t,sheetName:ke,mode:Fe,type:je}=Je;return _t&&(l.isFunction(_t)?Je.filename=_t({options:bt,$table:e,$grid:be,$gantt:Ie}):Je.filename=`${_t}`),ke&&(l.isFunction(ke)?Je.sheetName=ke({options:bt,$table:e,$grid:be,$gantt:Ie}):Je.sheetName=`${ke}`),Nt.some(nt=>nt.value===Fe)||(Je.mode=Nt[0].value),Ct.some(nt=>nt.value===je)||(Je.type=Ct[0].value),fe.export=!0,pe()},X=()=>Ee.modal?Ee.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),Re={exportData(ue){const Q=e.xeGrid,be=e.xeGantt,Ie=Q||be,{treeConfig:De,showHeader:Me,showFooter:Se}=t,{isGroup:xe}=o,{tableFullColumn:fe,afterFullData:Oe,afterTreeFullData:Pe,collectColumn:tt,mergeBodyList:Je,mergeFooterList:rt}=r,ze=d.value,Z=s.value,$e=Ie?Ie.getComputeMaps().computeProxyOpts.value:{},ce=!!(Je.length||rt.length),Ne=Object.assign({message:!0,isHeader:Me,isTitle:Me,isFooter:Se,isColgroup:xe,isMerge:ce,useStyle:!0,current:"current",modes:($e.ajax&&$e.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},ze,ue);let{filename:Ke,sheetName:dt,type:ft,mode:Vt,columns:bt,original:vt,columnFilterMethod:Ot,beforeExportMethod:lt,includeFields:Et,excludeFields:Xt}=Ne,jt=[];const Gt=e.getCheckboxRecords();Vt||(Vt=Gt.length?"selected":"current");let Ct=!1,Nt=[];bt&&bt.length?(Ct=!0,Nt=bt):Nt=l.searchTree(tt,Fe=>{const je=Fe.children&&Fe.children.length>0;let nt=!1;return bt&&bt.length?nt=se(Ne,Fe,bt):Xt||Et?nt=ye(Ne,Fe,Et,Xt):nt=Fe.visible&&(je||Fs(Fe)),nt},{children:"children",mapChildren:"childNodes",original:!0});const _t=Object.assign({},Ne,{filename:"",sheetName:""});!Ct&&!Ot&&(Ot=({column:Fe})=>Xt&&l.includes(Xt,Fe.field)?!1:Et?!!l.includes(Et,Fe.field):vt?!!Fe.field:Fs(Fe),_t.columnFilterMethod=Ot),Nt?(_t._isCustomColumn=!0,jt=l.searchTree(l.mapTree(Nt,Fe=>{let je;if(Fe){if(Zs(Fe))je=Fe;else if(l.isString(Fe))je=e.getColumnByField(Fe);else{const nt=Fe.id||Fe.colId,mt=Fe.type,te=Fe.field;nt?je=e.getColumnById(nt):te&&mt?je=fe.find(_e=>_e.field===te&&_e.type===mt):te?je=e.getColumnByField(te):mt&&(je=fe.find(_e=>_e.type===mt))}return je||{}}},{children:"childNodes",mapChildren:"_children"}),(Fe,je)=>Zs(Fe)&&(!Ot||Ot({$table:e,$grid:Q,$gantt:be,column:Fe,$columnIndex:je})),{children:"_children",mapChildren:"childNodes",original:!0})):jt=l.searchTree(xe?tt:fe,(Fe,je)=>Fe.visible&&(!Ot||Ot({$table:e,$grid:Q,$gantt:be,column:Fe,$columnIndex:je})),{children:"children",mapChildren:"childNodes",original:!0});const ke=[];if(l.eachTree(jt,Fe=>{Fe.children&&Fe.children.length||ke.push(Fe)},{children:"childNodes"}),_t.columns=ke,_t.colgroups=qM(jt),Ke&&(l.isFunction(Ke)?_t.filename=Ke({options:Ne,$table:e,$grid:Q,$gantt:be}):_t.filename=`${Ke}`),_t.filename||(_t.filename=ul(_t.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[l.toDateString(Date.now(),"yyyyMMddHHmmss")])),dt&&(l.isFunction(dt)?_t.sheetName=dt({options:Ne,$table:e,$grid:Q,$gantt:be}):_t.sheetName=`${dt}`),_t.sheetName||(_t.sheetName=document.title||""),!_t.exportMethod&&!l.includes(l.keys(ze._typeMaps),ft)){Bt("vxe.error.notType",[ft]),["xlsx","pdf"].includes(ft)&&Ut("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]);const Fe={status:!1};return Promise.reject(Fe)}if(_t.print||lt&&lt({options:_t,$table:e,$grid:Q,$gantt:be}),_t.data)_t._isCustomData=!0;else{if(_t.data=[],Vt==="selected")["html","pdf"].indexOf(ft)>-1&&De?_t.data=l.searchTree(e.getTableData().fullData,Fe=>e.findRowIndexOf(Gt,Fe)>-1,Object.assign({},Z,{data:"_row"})):_t.data=Gt;else if(Vt==="all"&&(Ie||Bt("vxe.error.errProp",["all","mode=current,selected"]),Ie&&!_t.remote)){const Fe=Ie.reactData,{computeProxyOpts:je}=Ie.getComputeMaps(),nt=je.value,{sortData:mt}=Fe,{beforeQueryAll:te,afterQueryAll:_e,ajax:Be={}}=nt,Qe=nt.response||nt.props||{},at=Be.queryAll,yt=Be.queryAllSuccess,Xe=Be.queryAllError;if(at||Bt("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),at){const ge={$table:e,$grid:Q,$gantt:be,sort:mt.length?mt[0]:{},sorts:mt,filters:Fe.filterData,form:Fe.formData,options:_t};return Promise.resolve((te||at)(ge)).then(P=>{const H=Qe.list;return _t.data=(H?l.isFunction(H)?H({data:P,$table:e,$grid:Q,$gantt:be}):l.get(P,H):P)||[],_e&&_e(ge),yt&&yt(Object.assign(Object.assign({},ge),{response:P})),U(_t)}).catch(P=>{Xe&&Xe(Object.assign(Object.assign({},ge),{response:P}))})}}Vt==="current"&&(_t.data=De?Pe:Oe)}return U(_t)},importByFile(ue,Q){const be=Object.assign({},Q),{beforeImportMethod:Ie}=be;return Ie&&Ie({options:be,$table:e}),z(ue,be)},importData(ue){const Q=b.value,be=Object.assign({types:l.keys(Q._typeMaps)},Q,ue),{beforeImportMethod:Ie,afterImportMethod:De}=be;return Ie&&Ie({options:be,$table:e}),Ee.readFile(be).catch(Me=>(De&&De({status:!1,options:be,$table:e}),Promise.reject(Me))).then(Me=>{const{file:Se}=Me;return z(Se,be)})},saveFile(ue){return Ee.saveFile(ue)},readFile(ue){return Ee.readFile(ue)},print(ue){const Q=e.xeGrid,be=e.xeGantt,Ie=i.value,De=Object.assign({original:!1},Ie,ue,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:Me}=De;let Se="";Me&&(l.isFunction(Me)?Se=Me({options:De,$table:e,$grid:Q,$gantt:be}):Se=`${Me}`),Se||(Se=document.title||"");const xe=De.beforePrintMethod,fe=De.html||De.content;return new Promise((Oe,Pe)=>{Ee.print?Oe(fe?Ee.print({title:Se,html:fe,customStyle:De.style,beforeMethod:xe?({html:tt})=>xe({html:tt,content:tt,options:De,$table:e,$grid:Q,$gantt:be}):void 0}):Re.exportData(De).then(({content:tt})=>Ee.print({title:Se,html:tt,customStyle:De.style,beforeMethod:xe?({html:Je})=>xe({html:Je,content:Je,options:De,$table:e,$grid:Q,$gantt:be}):void 0}))):Pe({status:!1})})},getPrintHtml(ue){const Q=i.value,be=Object.assign({original:!1},Q,ue,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(be).then(({content:Ie})=>({html:Ie}))},closeImport(){return Ee.modal?Ee.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(ue){const{treeConfig:Q,importConfig:be}=t,{initStore:Ie,importStore:De,importParams:Me}=o,Se=b.value,xe=Object.assign({mode:"insertTop",message:!0,types:l.keys(Se._typeMaps),modes:["insertTop","covering"]},Se,ue),fe=xe.types||[],Oe=xe.modes||[];if(!!Q){xe.message&&Ee.modal&&Ee.modal.message({content:ul("vxe.error.treeNotImp"),status:"error"});return}be||Bt("vxe.error.reqProp",["import-config"]);const tt=fe.map(rt=>({value:rt,label:ul(`vxe.export.types.${rt}`)})),Je=Oe.map(rt=>rt&&rt.value?{value:rt.value,label:rt.label||rt.value}:{value:rt,label:ul(`vxe.import.modes.${rt}`)});Object.assign(De,{file:null,type:"",filename:"",modeList:Je,typeList:tt,visible:!0}),Object.assign(Me,xe),Je.some(rt=>rt.value===Me.mode)||(Me.mode=Je[0].value),Ie.import=!0},closeExport:X,openExport(ue){const Q=d.value,be=Object.assign({message:!0,types:l.keys(Q._typeMaps)},Q,ue);return t.exportConfig||Bt("vxe.error.reqProp",["export-config"]),Y(be)},closePrint:X,openPrint(ue){const Q=i.value,be=Object.assign({message:!0},Q,ue);return t.printConfig||Bt("vxe.error.reqProp",["print-config"]),Y(be,!0)}};return Re},setupGrid(e){return e.extendTableMethods(qC)},setupGantt(e){return e.extendTableMethods(qC)}});const{hooks:XM}=Ee;XM.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:o,internalData:r}=e,{refElem:s}=e.getRefMaps(),{computeEditOpts:i,computeCheckboxOpts:d,computeMouseOpts:b,computeTreeOpts:f,computeRowOpts:E,computeColumnOpts:m,computeCellOpts:w,computeDefaultRowHeight:D,computeCurrentRowOpts:C,computeCurrentColumnOpts:M}=e.getComputeMaps();function v(j,J,B,I,F,V){const{showOverflow:W}=t,{fullAllDataRowIdData:ie,isResizeCellHeight:U}=r,_=E.value,z=w.value,se=D.value,{row:ye}=J;let Y=0,X=[],Re=0;const ue=V>0,{scrollYLoad:Q}=o,{afterFullData:be}=r;if(ue?Re=F+V:Re=I.height-F+Math.abs(V),Q){const Ie=e.getVTRowIndex(ye);if(!(U||z.height||_.height)&&W)ue?X=be.slice(Ie,Ie+Math.ceil(Re/se)):X=be.slice(Ie-Math.floor(Re/se),Ie+1);else if(ue)for(let Me=Ie;Me<be.length;Me++){const Se=be[Me],xe=e.getRowid(Se),fe=ie[xe]||{};if(Y+=fe.resizeHeight||z.height||_.height||fe.height||se,X.push(Se),Y>Re)return X}else for(let Me=Ie;Me>=0;Me--){const Se=be[Me],xe=e.getRowid(Se),fe=ie[xe]||{};if(Y+=fe.resizeHeight||z.height||_.height||fe.height||se,X.push(Se),Y>Re)return X}}else{const Ie=ue?"next":"previous";for(;B&&Y<Re;){const De=e.getRowNode(B);De&&(X.push(De.item),Y+=B.offsetHeight,B=B[`${Ie}ElementSibling`])}}return X}const p=(j,J)=>{const{elemStore:B}=r,I=eo(B["main-body-scroll"]),F=eo(B["left-body-scroll"]),V=eo(B["right-body-scroll"]),{column:W,cell:ie}=J;if(W.type==="checkbox"){let U=I;if(F&&W.fixed==="left"?U=F:V&&W.fixed==="right"&&(U=V),!U)return;const _=U.getBoundingClientRect(),z=s.value,se=j.clientX,ye=j.clientY,Y=U.querySelector(".vxe-table--checkbox-range"),X=ie.parentElement,Re=e.getCheckboxRecords();let ue=[];const Q=1,be=j.clientY-_.y+U.scrollTop,Ie=j.clientX-_.x+U.scrollLeft,De=U.scrollTop,Me=X.offsetHeight,Se=X.getBoundingClientRect(),xe=ye-Se.y;let fe=null,Oe=!1,Pe=1;const tt=(Z,$e)=>{e.dispatchEvent(`checkbox-range-${Z}`,{records:()=>e.getCheckboxRecords(),reserves:()=>e.getCheckboxReserveRecords()},$e)},Je=Z=>{const{clientX:$e,clientY:ce}=Z,Ne=$e-se,Ke=ce-ye+(U.scrollTop-De);let dt=Math.abs(Ke),ft=Math.abs(Ne),Vt=be,bt=Ie;Ke<Q?(Vt+=Ke,Vt<Q&&(Vt=Q,dt=be)):dt=Math.min(dt,U.scrollHeight-be-Q),Ne<Q?(bt+=Ne,ft>Ie&&(bt=Q,ft=Ie)):ft=Math.min(ft,U.clientWidth-Ie-Q),Y.style.height=`${dt}px`,Y.style.width=`${ft}px`,Y.style.left=`${bt}px`,Y.style.top=`${Vt}px`,Y.style.display="block";const vt=v(Z,J,X,Se,xe,Ke<Q?-dt:dt);if(dt>10&&vt.length!==ue.length){const Ot=Ji(Z);ue=vt,Ot?vt.forEach(lt=>{e.handleBatchSelectRows([lt],Re.indexOf(lt)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(vt,!0,!1)),tt("change",Z)}},rt=()=>{clearTimeout(fe),fe=null},ze=Z=>{rt(),fe=setTimeout(()=>{if(fe){const{scrollLeft:$e,scrollTop:ce,clientHeight:Ne,scrollHeight:Ke}=U,dt=Math.ceil(Pe*50/Me);Oe?ce+Ne<Ke?(e.scrollTo($e,ce+dt),ze(Z),Je(Z)):rt():ce?(e.scrollTo($e,ce-dt),ze(Z),Je(Z)):rt()}},50)};Dr(z,"drag--range"),document.onmousemove=Z=>{Z.preventDefault(),Z.stopPropagation();const{clientY:$e}=Z,{boundingTop:ce}=Xs(U);$e<ce?(Oe=!1,Pe=ce-$e,fe||ze(Z)):$e>ce+U.clientHeight?(Oe=!0,Pe=$e-ce-U.clientHeight,fe||ze(Z)):fe&&rt(),Je(Z)},document.onmouseup=Z=>{rt(),Xn(z,"drag--range"),Y.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,tt("end",Z)},tt("start",j)}},T=(j,J)=>{const{editConfig:B,checkboxConfig:I,mouseConfig:F}=t,V=d.value,W=b.value,ie=i.value;if(F&&W.area&&e.triggerCellAreaModnEvent)return e.triggerCellAreaModnEvent(j,J);I&&V.range&&p(j,J),F&&W.selected&&(!B||ie.mode==="cell")&&e.handleSelected(J,j)},N=(j,J,B,I,F,V)=>{const{afterFullData:W,visibleColumn:ie}=r,U=Object.assign({},J),_=e.getVTRowIndex(U.row),z=e.getVTColumnIndex(U.column);return j.preventDefault(),I&&_>0?(U.rowIndex=_-1,U.row=W[U.rowIndex]):V&&_<W.length-1?(U.rowIndex=_+1,U.row=W[U.rowIndex]):B&&z?(U.columnIndex=z-1,U.column=ie[U.columnIndex]):F&&z<ie.length-1&&(U.columnIndex=z+1,U.column=ie[U.columnIndex]),e.scrollToRow(U.row,U.column).then(()=>{U.cell=e.getCellElement(U.row,U.column),e.handleSelected(U,j)}),U};return{moveTabSelected(j,J,B){const{editConfig:I}=t,{afterFullData:F,visibleColumn:V}=r,W=i.value,ie=E.value,U=C.value,_=m.value,z=M.value;let se,ye,Y;const X=Object.assign({},j),Re=e.getVTRowIndex(X.row),ue=e.getVTColumnIndex(X.column);B.preventDefault(),J?ue<=0?Re>0&&(ye=Re-1,se=F[ye],Y=V.length-1):Y=ue-1:ue>=V.length-1?Re<F.length-1&&(ye=Re+1,se=F[ye],Y=0):Y=ue+1;const Q=V[Y];Q&&(se?(X.rowIndex=ye,X.row=se):X.rowIndex=Re,X.columnIndex=Y,X.column=Q,X.cell=e.getCellElement(X.row,X.column),ie.isCurrent&&U.isFollowSelected&&e.triggerCurrentRowEvent(B,X),_.isCurrent&&z.isFollowSelected&&e.triggerCurrentColumnEvent(B,X),I?(W.trigger==="click"||W.trigger==="dblclick")&&(W.mode==="row"?e.handleEdit(X,B):e.scrollToRow(X.row,X.column).then(()=>{e.handleSelected(X,B)})):e.scrollToRow(X.row,X.column).then(()=>{e.handleSelected(X,B)}))},moveCurrentRow(j,J,B){const{treeConfig:I}=t,{currentRow:F}=o,{afterFullData:V}=r,W=f.value,ie=W.children||W.childrenField;let U;if(F)if(I){const{index:_,items:z}=l.findTree(V,se=>se===F,{children:ie});j&&_>0?U=z[_-1]:J&&_<z.length-1&&(U=z[_+1])}else{const _=e.getVTRowIndex(F);j&&_>0?U=V[_-1]:J&&_<V.length-1&&(U=V[_+1])}else U=V[0];if(U){B.preventDefault();const _={$table:e,row:U,rowIndex:e.getRowIndex(U),$rowIndex:e.getVMRowIndex(U)};e.scrollToRow(U).then(()=>e.triggerCurrentRowEvent(B,_))}},moveCurrentColumn(j,J,B){const{currentColumn:I}=o,{visibleColumn:F}=r;let V=null;if(I){const W=e.getVTColumnIndex(I);j&&W>0?V=F[W-1]:J&&W<F.length-1&&(V=F[W+1])}else V=F[0];if(V){B.preventDefault();const W={$table:e,column:V,columnIndex:e.getColumnIndex(V),$columnIndex:e.getVMColumnIndex(V)};e.scrollToColumn(V).then(()=>e.triggerCurrentColumnEvent(B,W))}},moveArrowSelected(j,J,B,I,F,V){const{highlightCurrentRow:W,highlightCurrentColumn:ie}=t,U=E.value,_=C.value,z=m.value,se=M.value,ye=N(V,j,J,B,I,F);(U.isCurrent||W)&&(_.isFollowSelected?e.triggerCurrentRowEvent(V,ye):(B||F)&&(U.isCurrent||W)&&e.moveCurrentRow(B,F,V)),(z.isCurrent||ie)&&(se.isFollowSelected?e.triggerCurrentColumnEvent(V,ye):(J||I)&&(z.isCurrent||ie)&&e.moveCurrentColumn(J,I,V))},moveEnterSelected(j,J,B,I,F,V){const{highlightCurrentRow:W,highlightCurrentColumn:ie}=t,U=E.value,_=C.value,z=m.value,se=M.value,ye=N(V,j,J,B,I,F);(U.isCurrent||W)&&_.isFollowSelected&&e.triggerCurrentRowEvent(V,ye),(z.isCurrent||ie)&&se.isFollowSelected&&e.triggerCurrentColumnEvent(V,ye)},moveSelected(j,J,B,I,F,V){N(V,j,J,B,I,F)},handleCellMousedownEvent:T}}});const{getConfig:ZM,validators:JM,hooks:QM}=Ee;class zi{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return vl(this.$options.content||this.$options.message)}get message(){return this.content}}function eI(e,t){return!(e&&!(l.isRegExp(e)?e:new RegExp(e)).test(t))}function dg(e,t){return!(!l.eqNull(e)&&t>l.toNumber(e))}function fg(e,t){return!(!l.eqNull(e)&&t<l.toNumber(e))}function GC(e,t,o){const{type:r,min:s,max:i,pattern:d}=e,b=r==="array",f=r==="number",E=r==="string",m=`${t}`;if(!eI(d,m))return!1;if(b){if(!l.isArray(t)||o&&!t.length||!fg(s,t.length)||!dg(i,t.length))return!1}else if(f){const w=Number(t);if(isNaN(w)||!fg(s,w)||!dg(i,w))return!1}else if(E&&!l.isString(t)||o&&!m||!fg(s,m.length)||!dg(i,m.length))return!1;return!0}function tI(e,t){const{required:o}=e,r=l.isArray(t)?!t.length:gl(t);if(o){if(r||!GC(e,t,o))return!1}else if(!r&&!GC(e,t,o))return!1;return!0}const WC=["fullValidate","validate","fullValidateField","validateField","clearValidate"];QM.add("tableValidatorModule",{setupTable(e){const{props:t,reactData:o,internalData:r}=e,{refValidTooltip:s}=e.getRefMaps(),{computeValidOpts:i,computeTreeOpts:d,computeEditOpts:b,computeAggregateOpts:f}=e.getComputeMaps();let E={},m={},w;const D=v=>new Promise(p=>{i.value.autoPos===!1?(e.dispatchEvent("valid-error",v,null),p()):e.handleEdit(v,{type:"valid-error",trigger:"call"}).then(()=>{p(m.showValidTooltip(v))})}),C=v=>{if(i.value.msgMode==="single"){const T=Object.keys(v),N={};if(T.length){const k=T[0];N[k]=v[k]}return N}return v},M=(v,p,T,N)=>{const k={},{editRules:j,treeConfig:J}=t,{isRowGroupStatus:B}=o,{afterFullData:I,pendingRowMaps:F,removeRowMaps:V}=r,W=d.value,ie=f.value,U=i.value;let _;v===!0?_=I:v&&(l.isFunction(v)?T=v:_=l.isArray(v)?v:[v]),_||(e.getInsertRecords?_=e.getInsertRecords().concat(e.getUpdateRecords()):_=[]);const z=[];r._lastCallTime=Date.now(),w=!1,E.clearValidate();const se={};if(j){const ye=p&&p.length?p:e.getColumns(),Y=X=>{const Re=Pt(e,X);if(!V[Re]&&!F[Re]&&!e.isAggregateRecord(X)&&(N||!w)){const ue=[];ye.forEach(Q=>{const be=l.isString(Q)?Q:Q.field;(N||!w)&&l.has(j,be)&&ue.push(m.validCellRules("all",X,Q).catch(({rule:Ie,rules:De})=>{const Me={rule:Ie,rules:De,rowIndex:e.getRowIndex(X),row:X,columnIndex:e.getColumnIndex(Q),column:Q,field:be,$table:e};if(k[be]||(k[be]=[]),se[`${Pt(e,X)}:${Q.id}`]={column:Q,row:X,rule:Ie,content:Ie.content},k[be].push(Me),!N)return w=!0,Promise.reject(Me)}))}),z.push(Promise.all(ue))}};if(B)l.eachTree(_,Y,{children:ie.mapChildrenField});else if(J){const X=W.children||W.childrenField;l.eachTree(_,Y,{children:X})}else _.forEach(Y);return Promise.all(z).then(()=>{const X=Object.keys(k);return o.validErrorMaps=C(se),pe().then(()=>{if(X.length)return Promise.reject(k[X[0]][0]);T&&T()})}).catch(X=>new Promise((Re,ue)=>{const Q=()=>{pe(()=>{T?(T(k),Re()):ZM().validToReject==="obsolete"?ue(k):Re(k)})},be=()=>{X.cell=e.getCellElement(X.row,X.column),YT(X.cell),D(X).then(Q)};if(U.autoPos===!1)Q();else{const Ie=X.row,De=X.column;e.scrollToRow(Ie,De).then(be)}}))}else o.validErrorMaps={};return pe().then(()=>{T&&T()})};return E={fullValidate(v,p){return l.isFunction(p)&&Ut("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),M(v,null,p,!0)},validate(v,p){return M(v,null,p)},fullValidateField(v,p){const T=(l.isArray(p)?p:p?[p]:[]).map(N=>Jo(e,N));return T.length?M(v,T,null,!0):pe()},validateField(v,p){const T=(l.isArray(p)?p:p?[p]:[]).map(N=>Jo(e,N));return T.length?M(v,T,null):pe()},clearValidate(v,p){const{validErrorMaps:T}=o,N=s.value,k=i.value,j=l.isArray(v)?v:v?[v]:[],J=(l.isArray(p)?p:p?[p]:[]).map(I=>Jo(e,I));let B={};if(N&&N.reactData.visible&&N.close(),k.msgMode==="single")return o.validErrorMaps={},pe();if(j.length&&J.length)B=Object.assign({},T),j.forEach(I=>{J.forEach(F=>{const V=`${Pt(e,I)}:${F.id}`;B[V]&&delete B[V]})});else if(j.length){const I=j.map(F=>`${Pt(e,F)}`);l.each(T,(F,V)=>{I.indexOf(V.split(":")[0])>-1&&(B[V]=F)})}else if(J.length){const I=J.map(F=>`${F.id}`);l.each(T,(F,V)=>{I.indexOf(V.split(":")[1])>-1&&(B[V]=F)})}return o.validErrorMaps=B,pe()}},m={validCellRules(v,p,T,N){const k=e.xeGrid,j=e.xeGantt,{editRules:J}=t,{field:B}=T,I=[],F=[];if(B&&J){const V=l.get(J,B);if(V){const W=l.isUndefined(N)?l.get(p,B):N;V.forEach(ie=>{const{trigger:U,validator:_}=ie;if(v==="all"||!U||v===U)if(_){const z={cellValue:W,rule:ie,rules:V,row:p,rowIndex:e.getRowIndex(p),column:T,columnIndex:e.getColumnIndex(T),field:T.field,$table:e,$grid:k,$gantt:j};let se;if(l.isString(_)){const ye=JM.get(_);if(ye){const Y=ye.tableCellValidatorMethod||ye.cellValidatorMethod;Y?se=Y(z):Bt("vxe.error.notValidators",[_])}else Bt("vxe.error.notValidators",[_])}else se=_(z);se&&(l.isError(se)?(w=!0,I.push(new zi({type:"custom",trigger:U,content:se.message,rule:new zi(ie)}))):se.catch&&F.push(se.catch(ye=>{w=!0,I.push(new zi({type:"custom",trigger:U,content:ye&&ye.message?ye.message:ie.content||ie.message,rule:new zi(ie)}))})))}else tI(ie,W)||(w=!0,I.push(new zi(ie)))})}}return Promise.all(F).then(()=>{if(I.length){const V={rules:I,rule:I[0]};return Promise.reject(V)}})},hasCellRules(v,p,T){const{editRules:N}=t,{field:k}=T;if(k&&N){const j=l.get(N,k);return j&&!!l.find(j,J=>v==="all"||!J.trigger||v===J.trigger)}return!1},triggerValidate(v){const{editConfig:p,editRules:T}=t,{editStore:N}=o,{actived:k}=N,j=b.value,J=i.value;if(T&&J.msgMode==="single"&&(o.validErrorMaps={}),p&&T&&k.row){const{row:B,column:I,cell:F}=k.args;if(m.hasCellRules(v,B,I))return m.validCellRules(v,B,I).then(()=>{j.mode==="row"&&E.clearValidate(B,I)}).catch(({rule:V})=>{if(!V.trigger||v===V.trigger){const W={rule:V,row:B,column:I,cell:F};return m.showValidTooltip(W),Promise.reject(W)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(v){const{height:p}=t,{tableData:T,validStore:N,validErrorMaps:k}=o,{rule:j,row:J,column:B,cell:I}=v,F=i.value,V=s.value,W=j.content;return N.visible=!0,F.msgMode==="single"?o.validErrorMaps={[`${Pt(e,J)}:${B.id}`]:{column:B,row:J,rule:j,content:W}}:o.validErrorMaps=Object.assign({},k,{[`${Pt(e,J)}:${B.id}`]:{column:B,row:J,rule:j,content:W}}),e.dispatchEvent("valid-error",v,null),V&&V&&(F.message==="tooltip"||F.message==="default"&&!p&&T.length<2)?V.open(I,W):pe()}},Object.assign(Object.assign({},E),m)},setupGrid(e){return e.extendTableMethods(WC)},setupGantt(e){return e.extendTableMethods(WC)}});const jC=["openCustom","closeCustom","getCustomVisible","toggleCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];Ee.hooks.add("tableCustomModule",{setupTable(e){const{reactData:t,internalData:o}=e,{computeCustomOpts:r,computeRowGroupFields:s}=e.getComputeMaps(),{refElem:i}=e.getRefMaps(),d=e.xeGantt,b=()=>{const{customStore:k}=t;let j=i.value,J=0;if(d){const{refGanttContainerElem:B}=d.getRefMaps(),I=B.value;I&&(j=I)}j&&(J=j.clientHeight-28),k.maxHeight=Math.max(88,J)},f=()=>{const{initStore:k,customStore:j}=t;return j.visible=!0,k.custom=!0,E(),p(),b(),pe().then(()=>b())},E=()=>{const{customStore:k}=t,{collectColumn:j}=o;if(k.visible){const J={},B={},I={};l.eachTree(j,F=>{const V=F.getKey();F.renderFixed=F.fixed,F.renderVisible=F.visible,F.renderResizeWidth=F.renderWidth,J[V]=F.renderSortNumber,B[V]=F.fixed,I[V]=F.visible}),k.oldSortMaps=J,k.oldFixedMaps=B,k.oldVisibleMaps=I,t.customColumnList=j.slice(0)}},m=()=>{const{customStore:k}=t,j=r.value;return k.visible&&(k.visible=!1,j.immediate||e.handleCustom()),pe()},w=()=>{const{customStore:k}=t;return k.visible?m():f()},D=()=>{const{customColumnList:k,aggHandleFields:j,rowGroupList:J}=t,B=r.value,{allowVisible:I,allowSort:F,allowFixed:V,allowResizable:W,allowGroup:ie,allowValues:U}=B;return l.eachTree(k,(_,z,se,ye,Y)=>{if(Y)_.fixed=Y.fixed;else{if(F){const X=z+1;_.renderSortNumber=X}V&&(_.fixed=_.renderFixed)}W&&_.renderVisible&&(!_.children||!_.children.length)&&_.renderResizeWidth!==_.renderWidth&&(_.resizeWidth=_.renderResizeWidth,_.renderWidth=_.renderResizeWidth),I&&(_.visible=_.renderVisible),ie&&U&&(_.aggFunc=_.renderAggFn)}),t.isCustomStatus=!0,ie&&e.handlePivotTableAggregateData&&(J.length!==j.length||J.some((_,z)=>_.field!==j[z])?j.length?e.setRowGroups(j):e.clearRowGroups():U&&e.handleUpdateAggData()),F&&(o.collectColumn=k),e.saveCustomStore("confirm")},C=()=>{const{customColumnList:k,customStore:j}=t,{oldSortMaps:J,oldFixedMaps:B,oldVisibleMaps:I}=j,F=r.value,{allowVisible:V,allowSort:W,allowFixed:ie,allowResizable:U}=F;return l.eachTree(k,_=>{const z=_.getKey(),se=!!I[z],ye=B[z]||"";V&&(_.renderVisible=se,_.visible=se),ie&&(_.renderFixed=ye,_.fixed=ye),W&&(_.renderSortNumber=J[z]||0),U&&(_.renderResizeWidth=_.renderWidth)},{children:"children"}),pe()},M=k=>{const{customStore:j}=t,{customColumnList:J}=t,B=r.value,{checkMethod:I,visibleMethod:F}=B,V=!!k;return B.immediate?(l.eachTree(J,W=>{F&&!F({$table:e,column:W})||I&&!I({$table:e,column:W})||(W.visible=V,W.renderVisible=V,W.halfVisible=!1)}),j.isAll=V,t.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(l.eachTree(J,W=>{F&&!F({$table:e,column:W})||I&&!I({$table:e,column:W})||(W.renderVisible=V,W.halfVisible=!1)}),j.isAll=V),e.checkCustomStatus(),pe()},v={getCustomVisible(){const{customStore:k}=t;return k.visible},openCustom:f,closeCustom:m,toggleCustom:w,saveCustom:D,cancelCustom:C,resetCustom(k){const{rowGroupList:j}=t,{collectColumn:J}=o,B=r.value,{checkMethod:I}=B,F=Object.assign({visible:!0,resizable:k===!0,fixed:k===!0,sort:k===!0,aggFunc:k===!0},k),V=[];if(l.eachTree(J,W=>{F.resizable&&(W.resizeWidth=0),F.fixed&&(W.fixed=W.defaultFixed),F.sort&&(W.renderSortNumber=W.sortNumber,W.parentId=W.defaultParentId),(!I||I({$table:e,column:W}))&&(W.visible=W.defaultVisible),F.aggFunc&&(W.aggFunc=W.defaultAggFunc,W.renderAggFn=W.defaultAggFunc),W.renderResizeWidth=W.renderWidth,V.push(W)}),F.sort){const W=l.toArrayTree(l.orderBy(V,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});o.collectColumn=W,o.tableFullColumn=es(W)}return t.isCustomStatus=!1,e.handleCustom().then(()=>{if(F.aggFunc&&e.handlePivotTableAggregateData){const W=s.value;(W?W.length:j.length)?W&&W.length?e.setRowGroups(W):e.clearRowGroups():e.handleUpdateAggData()}e.saveCustomStore("reset")})},toggleCustomAllCheckbox(){const{customStore:k}=t,j=!k.isAll;return M(j)},setCustomAllCheckbox:M},p=()=>{const{customStore:k}=t,{collectColumn:j}=o,J=r.value,{checkMethod:B}=J;k.isAll=j.every(I=>(B?!B({$table:e,column:I}):!1)||I.renderVisible),k.isIndeterminate=!k.isAll&&j.some(I=>(!B||B({$table:e,column:I}))&&(I.renderVisible||I.halfVisible))},T=(k,j)=>{e.dispatchEvent("custom",{type:k},j)},N={checkCustomStatus:p,emitCustomEvent:T,triggerCustomEvent(k){const j=e.reactData,{customStore:J}=j;J.visible?(m(),T("close",k)):(J.btnEl=k.target,f(),T("open",k))},customOpenEvent(k){const j=e.reactData,{customStore:J}=j;J.visible||(J.activeBtn=!0,J.btnEl=k.target,e.openCustom(),e.emitCustomEvent("open",k))},customCloseEvent(k){const j=e.reactData,{customStore:J}=j;J.visible&&(J.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",k))},handleUpdateCustomColumn:E};return Object.assign(Object.assign({},v),N)},setupGrid(e){return e.extendTableMethods(jC)},setupGantt(e){return e.extendTableMethods(jC)}});const{getConfig:Js,renderer:oI,getI18n:ah,getComponent:WE}=Ee,jE="modelValue",UE={};function hl(e,t,o){return l.eqNull(e)?l.eqNull(t)?o:t:e}function nI(e,t){return e&&t.valueFormat?l.toStringDate(e,t.valueFormat):e}function rI(e,t,o){const{dateConfig:r={}}=t;return l.toDateString(nI(e,t),r.labelFormat||o)}function pg(e,t){return rI(e,t,ah(`vxe.input.date.labelFormat.${t.type||"date"}`))}function lI(e){return`vxe-${e.replace("$","")}`}function Nn({name:e}){return WE(e)}function xc({name:e}){return Sg(lI(e))}function pl(e,t,o){const{$table:r}=e;r.updateFilterOptionStatus(o,t)}function gg(e){const{$table:t,column:o}=e;t.saveFilterByEvent(new Event("change"),o)}function Cc(e){let{name:t,attrs:o}=e;return t==="input"&&(o=Object.assign({type:"text"},o)),o}function YE(e){const{name:t,immediate:o,props:r}=e;if(!o){if(t==="VxeInput"||t==="$input"){const{type:s}=r||{};return!(!s||s==="text"||s==="number"||s==="integer"||s==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return o}function Tr(e,t,o,r){return l.assign({immediate:YE(e)},UE,r,e.props,{[jE]:o})}function ui(e,t,o,r){return l.assign({},UE,r,e.props,{[jE]:o})}function yc(e,t){return t.$type==="cell"||YE(e)}function rr(e,t,o,r){const{placeholder:s}=e;return[u("span",{class:["vxe-cell--label",r?r.class:""]},s&&Yr(o)?[u("span",{class:"vxe-cell--placeholder"},Ln(vl(s),1))]:Ln(o,1))]}function KE(e,t,o){const{events:r}=e,s=NE(e),i=$E(e),{model:d,change:b,blur:f}=o||{},E=i===s,m={};return r&&l.objectEach(r,(w,D)=>{m[Xr(D)]=function(...C){w(t,...C)}}),d&&(m[Xr(s)]=function(w){d(w),E&&b&&b(w),r&&r[s]&&r[s](t,w)}),!E&&b&&(m[Xr(i)]=function(w){b(w),r&&r[i]&&r[i](t,w)}),f&&(m[Xr(di)]=function(w){f(w),r&&r[di]&&r[di](t,w)}),m}const di="blur",hg="clear";function ml(e,t,o,r){const{events:s}=e,i=NE(e),d=$E(e),{model:b,change:f,blur:E,clear:m}=o||{},w={};return l.objectEach(s,(D,C)=>{w[Xr(C)]=function(...M){l.isFunction(D)||Bt("vxe.error.errFunc",[D]),D(t,...M)}}),b&&(w[Xr(i)]=function(D){b(D),s&&s[i]&&s[i](t,D)}),f&&(w[Xr(d)]=function(...D){f(...D),s&&s[d]&&s[d](t,...D)}),E&&(w[Xr(di)]=function(...D){E(...D),s&&s[di]&&s[di](t,...D)}),m&&(w[Xr(hg)]=function(...D){m(...D),s&&s[hg]&&s[hg](t,...D)}),r?Object.assign(w,r):w}function $r(e,t){const{$table:o,row:r,column:s}=t,{name:i}=e,{model:d}=s,b=yc(e,t);return ml(e,t,{model(f){d.update=!0,d.value=f,b&&Kr(r,s,f)},change(f){if(!b&&i&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(i)){const E=f.value;d.update=!0,d.value=E,o.updateStatus(t,E)}else o.updateStatus(t)},blur(){b?o.handleCellRuleUpdateStatus("blur",t):o.handleCellRuleUpdateStatus("blur",t,d.value)}})}function rc(e,t,o){return ml(e,t,{model(r){o.data=r},change(){pl(t,!Yr(o.data),o)},blur(){pl(t,!Yr(o.data),o)}})}function XE(e,t,o){const{$table:r,column:s}=t;return lM(e)?ml(e,t,{model(i){o.data=i},change(){pl(t,!Yr(o.data),o)},clear(){pl(t,!Yr(o.data),o),gg(t)},blur(){r.saveFilterByEvent(new Event("change"),s)}},e.name==="VxeNumberInput"?{[Xr("plus-number")](){pl(t,!Yr(o.data),o),gg(t)},[Xr("minus-number")](){pl(t,!Yr(o.data),o),gg(t)}}:{}):ml(e,t,{model(i){o.data=i},clear(){pl(t,!Yr(o.data),o),r.saveFilterByEvent(new Event("change"),s)},change(){pl(t,!Yr(o.data),o),r.saveFilterByEvent(new Event("change"),s)}})}function ZE(e,t){const{$table:o,row:r,column:s}=t,{model:i}=s;return KE(e,t,{model(d){const b=d.target;if(b){const f=b.value;yc(e,t)?Kr(r,s,f):(i.update=!0,i.value=f)}},change(d){const b=d.target;if(b){const f=b.value;o.updateStatus(t,f)}},blur(d){const b=d.target;if(b){const f=b.value;o.updateStatus(t,f)}}})}function JE(e,t,o){return KE(e,t,{model(r){const s=r.target;s&&(o.data=s.value)},change(){pl(t,!l.eqNull(o.data),o)},blur(){pl(t,!l.eqNull(o.data),o)}})}function mg(e,t){const{row:o,column:r}=t,{name:s}=e,i=yc(e,t)?On(o,r):r.model.value;return[u(`${s}`,Object.assign(Object.assign(Object.assign({class:`vxe-default-${s}`},Cc(e)),{value:i}),ZE(e,t)))]}function aI(e,t){return[u(Nn(e),Object.assign(Object.assign({},Tr(e,t,null)),ml(e,t)))]}function gr(e,t){const{row:o,column:r}=t,s=On(o,r);return[u(Nn(e),Object.assign(Object.assign({},Tr(e,t,s)),$r(e,t)))]}function iI(e,t){const{row:o,column:r}=t,s=On(o,r);return[u(Nn(e),Object.assign(Object.assign({},Tr(e,t,s)),$r(e,t)))]}function UC(e,t){const{options:o}=e,{row:r,column:s}=t,i=On(r,s);return[u(Nn(e),Object.assign(Object.assign({options:o},Tr(e,t,i)),$r(e,t)))]}function Ps(e,t){const{row:o,column:r}=t,s=On(o,r);return[u(xc(e),Object.assign(Object.assign({},Tr(e,t,s)),$r(e,t)))]}function QE(e,t){return[u(WE("vxe-button"),Object.assign(Object.assign({},Tr(e,t,null)),ml(e,t)))]}function sI(e,t){const{children:o}=e;return o?o.map(r=>QE(r,t)[0]):[]}function eS(e,t,o){const{optionGroups:r,optionGroupProps:s={}}=e,i=s.options||"options",d=s.label||"label";return r?r.map((b,f)=>u("optgroup",{key:f,label:b[d]},o(b[i],e,t))):[]}function lc(e,t,o){const{optionProps:r={}}=t,{row:s,column:i}=o,d=r.label||"label",b=r.value||"value",f=r.disabled||"disabled",E=yc(t,o)?On(s,i):i.model.value;return e?e.map((m,w)=>u("option",{key:w,value:m[b],disabled:m[f],selected:m[b]==E},m[d])):[]}function cI(e,t){const{column:o}=t,{name:r}=e,s=Cc(e);return o.filters.map((i,d)=>u(`${r}`,Object.assign(Object.assign(Object.assign({key:d,class:`vxe-default-${r}`},s),{value:i.data}),JE(e,t,i))))}function vg(e,t){const{column:o}=t;return o.filters.map((r,s)=>{const i=r.data;return u(Nn(e),Object.assign(Object.assign({key:s},ui(e,e,i)),rc(e,t,r)))})}function bg(e,t){const{option:o}=t,r=o.data;return[u(Nn(e),Object.assign(Object.assign({},ui(e,e,r)),XE(e,t,o)))]}function ks(){return[{data:null}]}function uI(e,t){const{column:o}=t;return o.filters.map((r,s)=>{const i=r.data;return u(xc(e),Object.assign(Object.assign({key:s},ui(e,e,i)),rc(e,t,r)))})}function qi({option:e,row:t,column:o}){const{data:r}=e;return l.get(t,o.field)==r}function Gi({option:e,row:t,column:o}){const{data:r}=e,s=l.get(t,o.field);return l.toValueString(s).indexOf(r)>-1}function YC(e,t){return[u("select",Object.assign(Object.assign({class:"vxe-default-select"},Cc(e)),ZE(e,t)),e.optionGroups?eS(e,t,lc):lc(e.options,e,t))]}function KC(e,t){const{row:o,column:r}=t,{options:s,optionProps:i,optionGroups:d,optionGroupProps:b}=e,f=On(o,r);return[u(Nn(e),Object.assign(Object.assign({},Tr(e,t,f,{options:s,optionProps:i,optionGroups:d,optionGroupProps:b})),$r(e,t)))]}function XC(e,t){const{row:o,column:r}=t,{options:s,optionProps:i}=e,d=On(o,r);return[u(Nn(e),Object.assign(Object.assign({},Tr(e,t,d,{options:s,optionProps:i})),$r(e,t)))]}function ZC(e,t){const{row:o,column:r}=t,{options:s,optionProps:i,optionGroups:d,optionGroupProps:b}=e,f=On(o,r);return[u(xc(e),Object.assign(Object.assign({},Tr(e,t,f,{options:s,optionProps:i,optionGroups:d,optionGroupProps:b})),$r(e,t)))]}function ti(e,{row:t,column:o}){const{options:r,optionGroups:s,optionProps:i={},optionGroupProps:d={},props:b={}}=e,f=l.get(t,o.field);let E;const m=i.label||"label",w=i.value||"value";if(f!=null){let D=[];return l.isArray(f)?D=f:b.multiple&&`${f}`.indexOf(",")>-1?D=`${f}`.split(","):D=[f],l.map(D,s?C=>{const M=d.options||"options";for(let v=0;v<s.length&&(E=l.find(s[v][M],p=>p[w]==C),!E);v++);return E?E[m]:C}:C=>(E=l.find(r,M=>M[w]==C),E?E[m]:C)).join(", ")}return""}function Ls(e){const{row:t,column:o,options:r}=e;return r.original?On(t,o):ti(o.editRender||o.cellRender,e)}function ji(e,{row:t,column:o}){const{options:r,optionProps:s={}}=e,i=l.get(t,o.field),d=s.label||"label",b=s.value||"value",f=s.children||"children";if(i!=null){const E={};return l.eachTree(r,m=>{E[l.get(m,b)]=m},{children:f}),l.map(l.isArray(i)?i:[i],m=>{const w=E[m];return w&&l.get(w,d)}).join(", ")}return""}function xg(e){const{row:t,column:o,options:r}=e;return r.original?On(t,o):ji(o.editRender||o.cellRender,e)}function JC(e,t){const{props:o={},showNegativeStatus:r}=e,{row:s,column:i}=t,{type:d}=o;let b=l.get(s,i.field),f=!1;if(!Yr(b)){const E=Js().numberInput||{};if(d==="float"){const m=hl(o.autoFill,E.autoFill,!0),w=hl(o.digits,E.digits,1);b=l.toFixed(l.floor(b,w),w),m||(b=l.toNumber(b)),r&&b<0&&(f=!0)}else if(d==="amount"){const m=hl(o.autoFill,E.autoFill,!0),w=hl(o.digits,E.digits,2),D=hl(o.showCurrency,E.showCurrency,!1);if(b=l.toNumber(b),r&&b<0&&(f=!0),b=l.commafy(b,{digits:w}),!m){const[C,M]=b.split(".");if(M){const v=M.replace(/0+$/,"");b=v?[C,".",v].join(""):C}}D&&(b=`${o.currencySymbol||E.currencySymbol||ah("vxe.numberInput.currencySymbol")||""}${b}`)}else r&&l.toNumber(b)<0&&(f=!0)}return rr(e,t,b,f?{class:"is--negative"}:{})}oI.mixin({input:{tableAutoFocus:"input",renderTableEdit:mg,renderTableDefault:mg,renderTableFilter:cI,tableFilterDefaultMethod:Gi},textarea:{tableAutoFocus:"textarea",renderTableEdit:mg},select:{renderTableEdit:YC,renderTableDefault:YC,renderTableCell(e,t){return rr(e,t,ti(e,t))},renderTableFilter(e,t){const{column:o}=t;return o.filters.map((r,s)=>u("select",Object.assign(Object.assign({key:s,class:"vxe-default-select"},Cc(e)),JE(e,t,r)),e.optionGroups?eS(e,t,lc):lc(e.options,e,t)))},tableFilterDefaultMethod:qi,tableExportMethod:Ls},VxeInput:{tableAutoFocus:"input",renderTableEdit:gr,renderTableCell(e,t){const{props:o={}}=e,{row:r,column:s}=t,i=Js().input||{},d=o.digits||i.digits||2;let b=l.get(r,s.field);if(b)switch(o.type){case"date":case"week":case"month":case"quarter":case"year":b=pg(b,o);break;case"float":b=l.toFixed(l.floor(b,d),d);break}return rr(e,t,b)},renderTableDefault:gr,createTableFilterOptions:ks,renderTableFilter:vg,renderTableFloatingFilter:bg,tableFilterDefaultMethod:Gi},FormatNumberInput:{renderTableDefault:JC,tableFilterDefaultMethod:Gi,tableExportMethod(e){const{row:t,column:o}=e;return l.get(t,o.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:gr,renderTableCell:JC,renderTableFooter(e,t){const{props:o={}}=e,{row:r,column:s,_columnIndex:i}=t,{type:d}=o,b=l.isArray(r)?r[i]:l.get(r,s.field);if(l.isNumber(b)){const f=Js().numberInput||{};if(d==="float"){const E=hl(o.autoFill,f.autoFill,!0),m=hl(o.digits,f.digits,1);let w=l.toFixed(l.floor(b,m),m);return E||(w=l.toNumber(w)),w}else if(d==="amount"){const E=hl(o.autoFill,f.autoFill,!0),m=hl(o.digits,f.digits,2),w=hl(o.showCurrency,f.showCurrency,!1);let D=l.commafy(l.toNumber(b),{digits:m});if(!E){const[C,M]=D.split(".");if(M){const v=M.replace(/0+$/,"");D=v?[C,".",v].join(""):C}}return w&&(D=`${o.currencySymbol||f.currencySymbol||ah("vxe.numberInput.currencySymbol")||""}${D}`),D}}return vl(b,1)},renderTableDefault:gr,createTableFilterOptions:ks,renderTableFilter:vg,renderTableFloatingFilter:bg,tableFilterDefaultMethod:Gi,tableExportMethod(e){const{row:t,column:o}=e;return l.get(t,o.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:gr,renderTableCell(e,t){const{props:o={}}=e,{row:r,column:s}=t;let i=l.get(r,s.field);return i&&o.type!=="time"&&(i=pg(i,o)),rr(e,t,i)},renderTableDefault:gr,createTableFilterOptions:ks,renderTableFilter:vg,renderTableFloatingFilter:bg,tableFilterDefaultMethod:qi},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{startField:o,endField:r}=e,{$table:s,row:i,column:d}=t,{model:b}=d,f=On(i,d),E={},m={};return o&&r&&(E.startValue=l.get(i,o),E.endValue=l.get(i,r),m["onUpdate:startValue"]=w=>{o&&l.set(i,o,w)},m["onUpdate:endValue"]=w=>{r&&l.set(i,r,w)}),[u(Nn(e),Object.assign(Object.assign({},Tr(e,t,f,E)),ml(e,t,{model(w){b.update=!0,b.value=w,Kr(i,d,w)},change(){s.updateStatus(t)},blur(){s.handleCellRuleUpdateStatus("blur",t)}},m)))]},renderTableCell(e,t){const{startField:o,endField:r}=e,{row:s,column:i}=t;let d="",b="";if(o&&r)d=l.get(s,o),b=l.get(s,r);else{const E=l.get(s,i.field);if(E)if(l.isArray(E))d=E[0],b=E[1];else{const m=`${E}`.split(",");d=m[0],b=m[1]}}let f="";return d&&b&&(f=`${d} ~ ${b}`),rr(e,t,f)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:gr,renderTableCell(e,t){const{row:o,column:r}=t,s=l.get(o,r.field);return rr(e,t,s)}},VxeButton:{renderTableDefault:aI},VxeButtonGroup:{renderTableDefault(e,t){const{options:o}=e;return[u(Nn(e),Object.assign(Object.assign({options:o},Tr(e,t,null)),ml(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:KC,renderTableDefault:KC,renderTableCell(e,t){return rr(e,t,ti(e,t))},createTableFilterOptions:ks,renderTableFilter(e,t){const{column:o}=t,{options:r,optionProps:s,optionGroups:i,optionGroupProps:d}=e;return o.filters.map((b,f)=>{const E=b.data;return u(Nn(e),Object.assign(Object.assign({key:f},ui(e,t,E,{options:r,optionProps:s,optionGroups:i,optionGroupProps:d})),rc(e,t,b)))})},renderTableFloatingFilter(e,t){const{option:o}=t,{options:r,optionProps:s,optionGroups:i,optionGroupProps:d}=e,b=o.data;return u(Nn(e),Object.assign(Object.assign({},ui(e,t,b,{options:r,optionProps:s,optionGroups:i,optionGroupProps:d})),XE(e,t,o)))},tableFilterDefaultMethod:qi,tableExportMethod:Ls},VxeText:{renderTableDefault(e,t){const{$table:o,row:r,column:s}=t,{props:i}=e,d=o.getCellLabel(r,s);return[u(Nn(e),Object.assign(Object.assign(Object.assign({},i||{}),{content:d}),ml(e,t)))]}},VxeLink:{renderTableDefault(e,t){const{$table:o,row:r,column:s}=t,{props:i}=e,{href:d}=i||{},b=o.getCellLabel(r,s);return[u(Nn(e),Object.assign(Object.assign(Object.assign({},i||{}),{content:b,href:l.toFormatString(d,t)}),ml(e,t)))]}},formatOption:{renderTableDefault(e,t){return rr(e,t,ti(e,t))}},FormatSelect:{renderTableDefault(e,t){return rr(e,t,ti(e,t))},tableFilterDefaultMethod:qi,tableExportMethod:Ls},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:XC,renderTableCell(e,t){return rr(e,t,ji(e,t))},tableExportMethod:xg},formatTree:{renderTableDefault(e,t){return rr(e,t,ji(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return rr(e,t,ji(e,t))},tableExportMethod:xg},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:XC,renderTableCell(e,t){return rr(e,t,ji(e,t))},tableExportMethod:xg},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:o,column:r}=t,{options:s}=e,i=On(o,r);return[u(Nn(e),Object.assign(Object.assign({},Tr(e,t,i,{colors:s})),$r(e,t)))]},renderTableCell(e,t){const{row:o,column:r}=t,s=l.get(o,r.field);return u("span",{class:"vxe-color-picker--readonly"},[u("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:s}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:o,column:r}=t,{options:s}=e,i=On(o,r);return[u(Nn(e),Object.assign(Object.assign({},Tr(e,t,i,{icons:s})),$r(e,t)))]},renderTableCell(e,t){const{row:o,column:r}=t,s=l.get(o,r.field);return u("i",{class:s})}},VxeRadioGroup:{renderTableDefault:UC},VxeCheckbox:{renderTableDefault:iI},VxeCheckboxGroup:{renderTableDefault:UC},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:gr,renderTableDefault:gr},VxeUpload:{renderTableEdit:gr,renderTableCell:gr,renderTableDefault:gr},VxeImage:{renderTableDefault(e,t){const{row:o,column:r}=t,{props:s}=e,i=On(o,r);return[u(Nn(e),Object.assign(Object.assign(Object.assign({},s),{src:i}),$r(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:o,column:r}=t,{props:s}=e,i=On(o,r);return[u(Nn(e),Object.assign(Object.assign(Object.assign({},s),{urlList:i}),$r(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:o,column:r}=t,{props:s}=e,i=On(o,r);return[u(Nn(e),Object.assign(Object.assign(Object.assign({},s),{content:i}),$r(e,t)))]}},VxeRate:{renderTableDefault:gr},VxeSlider:{renderTableDefault:gr},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Ps,renderTableCell(e,t){var o;const{props:r={}}=e,{row:s,column:i}=t,d=r.digits||((o=Js().input)===null||o===void 0?void 0:o.digits)||2;let b=l.get(s,i.field);if(b)switch(r.type){case"date":case"week":case"month":case"year":b=pg(b,r);break;case"float":b=l.toFixed(l.floor(b,d),d);break}return rr(e,t,b)},renderTableDefault:Ps,renderTableFilter:uI,tableFilterDefaultMethod:Gi},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:QE},$buttons:{renderTableDefault:sI},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:ZC,renderTableDefault:ZC,renderTableCell(e,t){return rr(e,t,ti(e,t))},renderTableFilter(e,t){const{column:o}=t,{options:r,optionProps:s,optionGroups:i,optionGroupProps:d}=e;return o.filters.map((b,f)=>{const E=b.data;return u(xc(e),Object.assign(Object.assign({key:f},ui(e,t,E,{options:r,optionProps:s,optionGroups:i,optionGroupProps:d})),rc(e,t,b)))})},tableFilterDefaultMethod:qi,tableExportMethod:Ls},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:Ps,renderTableDefault:Ps}});const{getConfig:wo,getIcon:Ns,getI18n:Wr,renderer:Cg,formats:$s,createEvent:dI,globalResize:fI,interceptor:QC,hooks:pI,globalEvents:tn,GLOBAL_EVENT_KEYS:Sr,useFns:gI,renderEmptyElement:_n}=Ee,ey=5e6,ty="VXE_CUSTOM_STORE",Ra=5e6,Za=5e6;let nr=null;const Fa=Fr({name:"VxeTable",props:oc,emits:rh,setup(e,t){const{slots:o,emit:r}=t,s=l.uniqueId(),i=l.browse(),d=Ee.getComponent("VxeLoading"),b=Ee.getComponent("VxeTooltip"),f=Co("$xeTabs",null),E=Co("$xeTable",null),m=Co("$xeGrid",null),w=Co("$xeGantt",null),D=m||w,{computeSize:C}=gI.useSize(e),M=yM(),v=un({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,checkboxColumn:null,radioColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,column:null,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],aggHandleFields:[],aggHandleAggColumns:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeHeadFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,lazScrollLoading:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isCrossDragRow:!1,dragRow:null,isCrossDragCol:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),p=fC();let T={},N={};const k=xt(),j=xt(),J=xt(),B=xt(),I=xt(),F=xt(),V=xt(),W=xt(),ie=xt(),U=xt(),_=xt(),z=xt(),se=xt(),ye=xt(),Y=xt(),X=xt(),Re=xt(),ue=xt(),Q=xt(),be=xt(),Ie=xt(),De=xt(),Me=xt(),Se=xt(),xe=xt(),fe=xt(),Oe=xt(),Pe=xt(),tt=xt(),Je=xt(),rt=xt(),ze=xt(),Z=xt(),$e=xt(),ce=xt(),Ne=xt(),Ke=xt(),dt=xt(),ft=xt(),Vt=xt(),bt=xt(),vt=xt();let Ot;const lt=ae(()=>{const{id:n}=e;return n?l.isFunction(n)?`${n({$table:h,$grid:m,$gantt:w})||""}`:`${n}`:""}),Et=ae(()=>{const n=P.value;return`${e.rowId||n.keyField||"_X_ROW_KEY"}`}),Xt=ae(()=>Object.assign({},wo().table.validConfig,e.validConfig)),jt=ae(()=>Nt.value),Gt=ae(()=>{const n=Nt.value,{threshold:a}=n;return a?l.toNumber(a):0}),Ct=ae(()=>_t.value),Nt=ae(()=>{const{virtualXConfig:n,scrollX:a}=e,c=wo().table.virtualXConfig,g=wo().table.scrollX;return n?Object.assign({},c,n):a?Object.assign({},g,a):c?Object.assign({},c,n):Object.assign({},g,a)}),_t=ae(()=>{const{virtualYConfig:n,scrollY:a}=e,c=wo().table.virtualYConfig,g=wo().table.scrollY;return n?Object.assign({},c,n):a?Object.assign({},g,a):c?Object.assign({},c,n):Object.assign({},g,a)}),ke=ae(()=>Object.assign({},wo().table.scrollbarConfig,e.scrollbarConfig)),Fe=ae(()=>{var n;const a=ke.value;return Object.assign({},a.x,((n=e.scrollbarConfig)===null||n===void 0?void 0:n.x)||{})}),je=ae(()=>{var n;const a=ke.value;return Object.assign({},a.y,((n=e.scrollbarConfig)===null||n===void 0?void 0:n.y)||{})}),nt=ae(()=>Fe.value.position==="top"),mt=ae(()=>je.value.position==="left"),te=ae(()=>{const n=_t.value,{threshold:a}=n;return a?l.toNumber(a):0}),_e=ae(()=>v.rowHeightStore),Be=ae(()=>{const n=C.value;return _e.value[n||"default"]||18}),Qe=ae(()=>Object.assign({},wo().table.columnConfig,e.columnConfig)),at=ae(()=>Object.assign({},wo().table.currentColumnConfig,e.currentColumnConfig)),yt=ae(()=>{const n=Object.assign({},wo().table.cellConfig,e.cellConfig);return n.height&&(n.height=l.toNumber(n.height)),n}),Xe=ae(()=>{const n=Object.assign({},wo().table.headerCellConfig,e.headerCellConfig),a=Be.value,c=yt.value;let g=l.toNumber(os(n.height||c.height));if(w){const{computeTaskScaleConfs:x}=w.getComputeMaps(),y=x.value;if(y&&y.length>2){const S=a/2*y.length;g=Math.max(S,g)}}return n.height=g,n}),ge=ae(()=>{const n=Object.assign({},wo().table.footerCellConfig,e.footerCellConfig),a=yt.value;return n.height=l.toNumber(os(n.height||a.height)),n}),P=ae(()=>Object.assign({},wo().table.rowConfig,e.rowConfig)),H=ae(()=>Object.assign({},wo().table.aggregateConfig||wo().table.rowGroupConfig,e.aggregateConfig||e.rowGroupConfig)),ne=ae(()=>H.value),Te=ae(()=>Object.assign({},wo().table.currentRowConfig,e.currentRowConfig)),Ce=ae(()=>Object.assign({},wo().table.rowDragConfig,e.rowDragConfig)),He=ae(()=>Object.assign({},wo().table.columnDragConfig,e.columnDragConfig)),Ze=ae(()=>Object.assign({},wo().table.resizeConfig,e.resizeConfig)),ct=ae(()=>Object.assign({},wo().table.resizableConfig,e.resizableConfig)),st=ae(()=>Object.assign({startIndex:0},wo().table.seqConfig,e.seqConfig)),ot=ae(()=>Object.assign({},wo().table.radioConfig,e.radioConfig)),Ue=ae(()=>Object.assign({},wo().table.checkboxConfig,e.checkboxConfig)),zt=ae(()=>Object.assign({},wo().tooltip,wo().table.tooltipConfig,e.tooltipConfig)),mo=ae(()=>Object.assign({},wo().tooltip,wo().table.headerTooltipConfig,e.headerTooltipConfig)),Eo=ae(()=>Object.assign({},wo().tooltip,wo().table.footerTooltipConfig,e.footerTooltipConfig)),_o=ae(()=>{const{tooltipStore:n}=v,a=zt.value;return Object.assign({},a,n.currOpts)}),we=ae(()=>{const n=zt.value;return Object.assign({},n)}),qe=ae(()=>Object.assign({},wo().table.editConfig,e.editConfig)),It=ae(()=>Object.assign({orders:["asc","desc",null]},wo().table.sortConfig,e.sortConfig)),$t=ae(()=>Object.assign({},wo().table.filterConfig,e.filterConfig)),Ht=ae(()=>Object.assign({},wo().table.floatingFilterConfig,e.floatingFilterConfig)),Rt=ae(()=>Object.assign({},wo().table.mouseConfig,e.mouseConfig)),ht=ae(()=>Object.assign({},wo().table.areaConfig,e.areaConfig)),wt=ae(()=>Object.assign({},wo().table.keyboardConfig,e.keyboardConfig)),Ft=ae(()=>Object.assign({},wo().table.clipConfig,e.clipConfig)),Tt=ae(()=>to.value),to=ae(()=>Object.assign({},wo().table.fnrConfig,e.fnrConfig)),qt=ae(()=>Object.assign({},wo().table.menuConfig,e.menuConfig)),ro=ae(()=>{const{columnStore:n}=v,{leftList:a}=n;let c=0;for(let g=0;g<a.length;g++){const x=a[g];c+=x.renderWidth}return c}),ho=ae(()=>{const{columnStore:n}=v,{rightList:a}=n;let c=0;for(let g=0;g<a.length;g++){const x=a[g];c+=x.renderWidth}return c}),Ho=ae(()=>{const{columnStore:n,mergeBodyFlag:a}=v,{mergeBodyList:c,visibleColumn:g}=p,{leftList:x,rightList:y}=n,S=g.length-y.length;if(a&&(x.length||y.length)){const R=x.length;for(let O=0;O<c.length;O++){const{col:L,colspan:$}=c[O];if(L<R||L+$>S)return!0}}return!1}),an=ae(()=>{const{spanMethod:n,footerSpanMethod:a,showHeaderOverflow:c}=e,{isGroup:g,scrollXLoad:x}=v;let y=!1;return g||x&&c&&(n||a||(y=!0)),y}),yn=ae(()=>{const{spanMethod:n,footerSpanMethod:a}=e,{scrollXLoad:c,scrollYLoad:g,isAllOverflow:x,expandColumn:y}=v,S=Ho.value,R=Io.value;let O=!1;return(c||g||x)&&(y&&R.mode!=="fixed"||S||n||a||(O=!0)),O}),Uo=ae(()=>{const{spanMethod:n,footerSpanMethod:a,showFooterOverflow:c}=e,{scrollXLoad:g}=v;let x=!1;return g&&c&&(n||a||(x=!0)),x}),Yo=ae(()=>{const a=qt.value.header;return a&&a.options?a.options:[]}),on=ae(()=>{const a=qt.value.body;return a&&a.options?a.options:[]}),bn=ae(()=>{const a=qt.value.footer;return a&&a.options?a.options:[]}),qo=ae(()=>Fo.value),Fo=ae(()=>{const n=qt.value,a=Yo.value,c=on.value,g=bn.value;return!!(e.menuConfig&&co(n)&&(a.length||c.length||g.length))}),Qo=ae(()=>{const{ctxMenuStore:n}=v,a=[];return n.list.forEach(c=>{c.forEach(g=>{a.push(g)})}),a}),wn=ae(()=>Object.assign({},wo().table.exportConfig,e.exportConfig)),Sn=ae(()=>Object.assign({},wo().table.importConfig,e.importConfig)),xn=ae(()=>Object.assign({},wo().table.printConfig,e.printConfig)),Io=ae(()=>Object.assign({},wo().table.expandConfig,e.expandConfig)),uo=ae(()=>Object.assign({},wo().table.treeConfig,e.treeConfig)),Vn=ae(()=>Object.assign({},wo().table.emptyRender,e.emptyRender)),Qn=ae(()=>Object.assign({},wo().table.loadingConfig,e.loadingConfig)),zn=ae(()=>e.border?Math.max(2,Math.ceil(v.scrollbarWidth/v.tableColumn.length)):1),er=ae(()=>Object.assign({},wo().table.customConfig,e.customConfig)),yl=ae(()=>{const{tableData:n,rowExpandedFlag:a,expandColumn:c,rowGroupExpandedFlag:g,treeExpandedFlag:x}=v,{visibleDataRowIdData:y,rowExpandedMaps:S}=p,R=[];return n.length&&c&&a&&g&&x&&l.each(S,(O,L)=>{y[L]&&R.push(O)}),R}),fr=ae(()=>{const{visibleColumn:n}=p,{tableColumn:a}=v;return a.length||n.length?n.filter(c=>c.width==="auto"||c.minWidth==="auto"):[]}),_l=ae(()=>{const{tableColumn:n}=v,{collectColumn:a}=p;let c=0;return n.length&&a.length&&a.forEach(g=>{g.renderFixed&&c++}),c}),Qr=ae(()=>{const n=_l.value,a=Qe.value,{maxFixedSize:c}=a;return c?n>=c:!1}),el=ae(()=>{const{border:n}=e;return n===!0?"full":n||"default"}),Hl=ae(()=>{const{treeConfig:n}=e,{tableData:a}=v,{tableFullData:c}=p,g=Ue.value,{strict:x,checkMethod:y}=g;return x?a.length||c.length?y?c.every(S=>!y({$table:h,row:S})):!1:!0:!1}),Vr=ae(()=>{const{overflowX:n,scrollXLoad:a,overflowY:c,scrollYLoad:g}=v;return{x:n&&a,y:c&&g}}),zr=ae(()=>ne.value.groupFields),Bl=ae(()=>{const{rowGroupList:n}=v,{fullColumnFieldData:a}=p,c=[];return n.forEach(g=>{const x=a[g.field];x&&c.push(x.column)}),c}),$n={refElem:k,refTooltip:J,refValidTooltip:I,refTableFilter:V,refTableCustom:W,refTableMenu:F,refTableHeader:U,refTableBody:_,refTableFooter:z,refTableLeftHeader:se,refTableLeftBody:ye,refTableLeftFooter:Y,refTableRightHeader:X,refTableRightBody:Re,refTableRightFooter:ue,refLeftContainer:Ie,refRightContainer:De,refColResizeBar:Me,refRowResizeBar:Se,refScrollXVirtualElem:rt,refScrollYVirtualElem:ze,refScrollXHandleElem:Z,refScrollYHandleElem:Ne,refScrollXSpaceElem:bt,refScrollYSpaceElem:vt},fa={computeSize:C,computeTableId:lt,computeValidOpts:Xt,computeRowField:Et,computeVirtualXOpts:Nt,computeVirtualYOpts:_t,computeScrollbarOpts:ke,computeScrollbarXOpts:Fe,computeScrollbarYOpts:je,computeScrollbarXToTop:nt,computeScrollbarYToLeft:mt,computeColumnOpts:Qe,computeCurrentColumnOpts:at,computeScrollXThreshold:Gt,computeScrollYThreshold:te,computeRowHeightMaps:_e,computeDefaultRowHeight:Be,computeCellOpts:yt,computeHeaderCellOpts:Xe,computeFooterCellOpts:ge,computeRowOpts:P,computeAggregateOpts:H,computeRowGroupOpts:ne,computeCurrentRowOpts:Te,computeRowDragOpts:Ce,computeColumnDragOpts:He,computeResizeOpts:Ze,computeResizableOpts:ct,computeSeqOpts:st,computeRadioOpts:ot,computeCheckboxOpts:Ue,computeTooltipOpts:zt,computeHeaderTooltipOpts:mo,computeFooterTooltipOpts:Eo,computeEditOpts:qe,computeSortOpts:It,computeFilterOpts:$t,computeFloatingFilterOpts:Ht,computeMouseOpts:Rt,computeAreaOpts:ht,computeKeyboardOpts:wt,computeClipOpts:Ft,computeFnrOpts:to,computeHeaderMenu:Yo,computeBodyMenu:on,computeFooterMenu:bn,computeIsMenu:qo,computeIsContentMenu:Fo,computeMenuList:Qo,computeMenuOpts:qt,computeExportOpts:wn,computeImportOpts:Sn,computePrintOpts:xn,computeExpandOpts:Io,computeTreeOpts:uo,computeEmptyOpts:Vn,computeLoadingOpts:Qn,computeCellOffsetWidth:zn,computeCustomOpts:er,computeLeftFixedWidth:ro,computeRightFixedWidth:ho,computeBodyMergeCoverFixed:Ho,computeFixedColumnSize:_l,computeIsMaxFixedColumn:Qr,computeIsAllCheckboxDisabled:Hl,computeIsHeaderRenderOptimize:an,computeIsBodyRenderOptimize:yn,computeIsFooterRenderOptimize:Uo,computeVirtualScrollBars:Vr,computeRowGroupFields:zr,computeRowGroupColumns:Bl,computeFNROpts:Tt,computeSXOpts:jt,computeSYOpts:Ct},h={xID:s,props:e,context:t,reactData:v,internalData:p,getRefMaps:()=>$n,getComputeMaps:()=>fa,xeGrid:m,xeGantt:w,xegrid:m},tl=(n,a,c)=>{const g=l.get(n,c),x=l.get(a,c);return gl(g)&&gl(x)?!0:l.isString(g)||l.isNumber(g)?""+g==""+x:l.isEqual(g,x)},yr=()=>{const n=Et.value;p.currKeyField=n,p.isCurrDeepKey=JT(n)},Bo=(n,a)=>l.isBoolean(n)?n:a,Wn=n=>{const a=It.value,{orders:c=[]}=a,g=n.order||null,x=c.indexOf(g)+1;return c[x<c.length?x:0]},Vl=n=>{const a=wo().version,c=l.toStringJSON(localStorage.getItem(ty)||""),g=c&&c._v===a?c:{_v:a};return(n?g[n]:g)||{}},zl=(n,a)=>{const c=wo().version,g=Vl();g[n]=a||void 0,g._v=c,localStorage.setItem(ty,l.toJSONString(g))},ol=n=>{const{fullAllDataRowIdData:a}=p,c={};return l.each(n,(g,x)=>{a[x]&&(c[x]=g)}),c},nl=n=>{const{fullDataRowIdData:a}=p,c=[];return l.each(n,(g,x)=>{a[x]&&h.findRowIndexOf(c,a[x].row)===-1&&c.push(a[x].row)}),c},tr=()=>{const{isScrollXBig:n,scrollXWidth:a}=v,{elemStore:c,visibleColumn:g,fullColumnIdData:x}=p,y=ro.value,S=ho.value,R=eo(c["main-body-scroll"]);if(R){const O=R.clientWidth;let L=R.scrollLeft;n&&(L=Math.ceil((a-O)*Math.min(1,L/(Za-O))));const $=L+y,q=L+O-S;let G=0,ee=g.length;for(;G<ee;){const ve=Math.floor((G+ee)/2),he=g[ve].id;(x[he]||{}).oLeft<=$?G=ve+1:ee=ve}let le=0;const K=G===g.length?G:Math.max(0,G<g.length?G-2:0);for(let ve=K,de=g.length;ve<de;ve++){const re=g[ve].id,oe=x[re]||{};if(le++,oe.oLeft>q||le>=60)break}return{toVisibleIndex:Math.max(0,K),visibleSize:Math.max(1,le)}}return{toVisibleIndex:0,visibleSize:6}},qr=(n,a)=>{const{rowHeightStore:c}=v;a&&a.clientHeight&&(c[n]=a.clientHeight)},wl=()=>{const{isAllOverflow:n}=v,a=U.value,c=_.value,g=c?c.$el:null,x=Be.value;let y=0;if(n){if(g){const S=a?a.$el:null;let R;R=g.querySelector("tr"),!R&&S&&(R=S.querySelector("tr")),R&&(y=R.clientHeight)}y||(y=x)}else y=x;return Math.max(18,y)},pr=()=>{const{isAllOverflow:n,expandColumn:a,isScrollYBig:c,scrollYHeight:g}=v,{elemStore:x,isResizeCellHeight:y,afterFullData:S,fullAllDataRowIdData:R}=p,O=P.value,L=yt.value,$=Be.value,q=eo(x["main-body-scroll"]);if(q){const G=q.clientHeight;let ee=q.scrollTop;c&&(ee=Math.ceil((g-G)*Math.min(1,ee/(Ra-G))));const le=ee,K=ee+G;let ve=-1,de=0;if(!(y||L.height||O.height)&&!a&&n)ve=Math.floor(le/$)-1,de=Math.ceil(G/$)+1;else{const{handleGetRowId:re}=gn(h);let oe=0,Le=S.length;for(;oe<Le;){const Ye=Math.floor((oe+Le)/2),We=S[Ye],gt=re(We);(R[gt]||{}).oTop<=le?oe=Ye+1:Le=Ye}ve=oe===S.length?oe:Math.max(0,oe<S.length?oe-2:0);for(let Ye=ve,We=S.length;Ye<We;Ye++){const gt=S[Ye],pt=re(gt),ut=R[pt]||{};if(de++,ut.oTop>K||de>=100)break}}return{toVisibleIndex:Math.max(0,ve),visibleSize:Math.max(6,de)}}return{toVisibleIndex:0,visibleSize:6}},El=(n,a,c)=>{for(let g=0,x=n.length;g<x;g++){const y=n[g],{startIndex:S,endIndex:R}=a,O=y[c],L=y[c+"span"],$=O+L;O<S&&S<$&&(a.startIndex=O),O<R&&R<$&&(a.endIndex=$),(a.startIndex!==S||a.endIndex!==R)&&(g=-1)}};function or(n){const a={};if(n&&n.length)for(let c=0;c<n.length;c++){const{row:g,col:x,rowspan:y,colspan:S}=n[c];for(let R=0;R<y;R++)for(let O=0;O<S;O++)a[`${g+R}:${x+O}`]=!R&&!O?{rowspan:y,colspan:S}:{rowspan:0,colspan:0}}return a}const fn=n=>{p.mergeBodyList=[],p.mergeBodyMaps={},p.mergeBodyCellMaps={},h.setMergeCells(n)},Gr=n=>{const{fullAllDataRowIdData:a,fullColumnIdData:c,visibleColumn:g,afterFullData:x,mergeBodyList:y,mergeBodyMaps:S}=p;if(n){const{handleGetRowId:R}=gn(h);l.isArray(n)||(n=[n]),n.forEach(O=>{let{row:L,col:$,rowspan:q,colspan:G}=O,ee=-1,le=-1;if(l.isNumber(L))ee=L;else{const K=L?R(L):null,ve=K?a[K]:null;ve&&(ee=ve._index)}if(l.isNumber($))le=$;else{const K=$?$.id:null,ve=K?c[K]:null;ve&&(le=ve._index)}if(ee>-1&&le>-1&&(q||G)&&(q=l.toNumber(q)||1,G=l.toNumber(G)||1,q>1||G>1)){const K=x[ee],ve=g[le];let de=S[`${ee}:${le}`];de?(de.rowspan=q,de.colspan=G,de._rowspan=q,de._colspan=G):(de={row:ee,col:le,rowspan:q,colspan:G,_row:K,_col:ve,_rowspan:q,_colspan:G},S[`${ee}:${le}`]=de,y.push(de))}})}},ql=n=>{const{mergeBodyList:a,fullColumnIdData:c,fullAllDataRowIdData:g,mergeBodyMaps:x}=p,y=[];if(n){const{handleGetRowId:S}=gn(h);l.isArray(n)||(n=[n]),n.forEach(R=>{const{row:O,col:L}=R;let $=-1,q=-1;if(l.isNumber(O))$=O;else{const ee=O?S(O):null,le=ee?g[ee]:null;le&&($=le._index)}if(l.isNumber(L))q=L;else{const ee=L?L.id:null,le=ee?c[ee]:null;le&&(q=le._index)}const G=l.findIndexOf(a,ee=>ee.row===$&&ee.col===q);if(G>-1){const ee=a.splice(G,1);ee[0]&&(y.push(ee[0]),x[`${$}:${q}`]&&delete x[`${$}:${q}`])}})}return y},Ar=n=>{p.mergeHeaderList=[],p.mergeHeaderMaps={},p.mergeHeaderCellMaps={},h.setMergeHeaderCells(n)},rl=n=>{const{showCustomHeader:a}=e,{footerTableData:c}=v,{mergeHeaderList:g,mergeHeaderMaps:x,fullColumnIdData:y}=p;if(n){const{visibleColumn:S}=p;l.isArray(n)||(n=[n]),n.forEach(R=>{let{row:O,col:L,rowspan:$,colspan:q}=R;const G=l.isNumber(O)?O:-1;let ee=-1;if(l.isNumber(L))ee=L;else{const le=L?L.id:null,K=le?y[le]:null;K&&(ee=K._index)}if(G>-1&&ee>-1&&($||q)){if($=l.toNumber($)||1,q=l.toNumber(q)||1,!a&&$>1){Bt("vxe.error.notSupportProp",["[table] show-custom-header=false",`rowspan=${$}`,"rowspan=1"]);return}if($>1||q>1){const le=c[G],K=S[ee];let ve=x[`${G}:${ee}`];ve?(ve.rowspan=$,ve.colspan=q,ve._rowspan=$,ve._colspan=q):(ve={row:G,col:ee,rowspan:$,colspan:q,_row:le,_col:K,_rowspan:$,_colspan:q},x[`${G}:${ee}`]=ve,g.push(ve))}}})}},ll=n=>{const{mergeHeaderList:a,fullColumnIdData:c,mergeHeaderMaps:g}=p,x=[];return n&&(l.isArray(n)||(n=[n]),n.forEach(y=>{const{row:S,col:R}=y,O=l.isNumber(S)?S:-1;let L=-1;if(l.isNumber(R))L=R;else{const q=R?R.id:null,G=q?c[q]:null;G&&(L=G._index)}const $=l.findIndexOf(a,q=>q.row===O&&q.col===L);if($>-1){const G=a.splice($,1)[0];G&&(x.push(G),g[`${O}:${L}`]&&delete g[`${O}:${L}`])}})),x},Ha=n=>{p.mergeFooterList=[],p.mergeFooterMaps={},p.mergeFooterCellMaps={},h.setMergeFooterCells(n)},al=n=>{const{footerTableData:a}=v,{mergeFooterList:c,mergeFooterMaps:g,fullColumnIdData:x}=p;if(n){const{visibleColumn:y}=p;l.isArray(n)||(n=[n]),n.forEach(S=>{let{row:R,col:O,rowspan:L,colspan:$}=S;const q=l.isNumber(R)?R:-1;let G=-1;if(l.isNumber(O))G=O;else{const ee=O?O.id:null,le=ee?x[ee]:null;le&&(G=le._index)}if(q>-1&&G>-1&&(L||$)&&(L=l.toNumber(L)||1,$=l.toNumber($)||1,L>1||$>1)){const ee=a[q],le=y[G];let K=g[`${q}:${G}`];K?(K.rowspan=L,K.colspan=$,K._rowspan=L,K._colspan=$):(K={row:q,col:G,rowspan:L,colspan:$,_row:ee,_col:le,_rowspan:L,_colspan:$},g[`${q}:${G}`]=K,c.push(K))}})}},A=n=>{const{mergeFooterList:a,fullColumnIdData:c,mergeFooterMaps:g}=p,x=[];return n&&(l.isArray(n)||(n=[n]),n.forEach(y=>{const{row:S,col:R}=y,O=l.isNumber(S)?S:-1;let L=-1;if(l.isNumber(R))L=R;else{const q=R?R.id:null,G=q?c[q]:null;G&&(L=G._index)}const $=l.findIndexOf(a,q=>q.row===O&&q.col===L);if($>-1){const G=a.splice($,1)[0];G&&(x.push(G),g[`${O}:${L}`]&&delete g[`${O}:${L}`])}})),x},me=(n,a,c)=>{const{tableFullColumn:g}=p,x=It.value,{multiple:y,remote:S,orders:R}=x;if(l.isArray(a)||(a=[a]),a&&a.length){const O={};y||(a=[a[0]],g.forEach(q=>{q.order&&(O[q.id]=q)}));const L={};let $=null;return a.forEach((q,G)=>{let{field:ee,order:le}=q,K=ee;l.isString(ee)&&(K=h.getColumnByField(ee)),$||($=K),K&&K.sortable&&(R&&R.indexOf(le)===-1&&(le=Wn(K)),K.order!==le&&(K.order=le),K.sortTime=Date.now()+G,L[K.id]=K)}),y||l.each(O,(q,G)=>{L[G]||(q.order=null)}),c&&(S||h.handleTableData(!0)),n&&h.handleColumnSortEvent(n,$),pe().then(()=>(Gn(),h.updateCellAreas(),hn()))}return pe()},Ae=()=>{const{tableFullColumn:n}=p;n.forEach(a=>{a.order=null})},et=n=>{const{editConfig:a,editRules:c}=e,{parentHeight:g}=v;let x=e[n];if(n==="minHeight"){const S=wo().table.minHeight;l.eqNull(x)&&(gl(S)?c&&co(a)&&(x=144):x=S)}let y=0;if(x)if(x==="100%"||x==="auto")y=g;else{const S=h.getExcludeHeight();ei(x)?y=Math.floor((l.toInteger(x)||1)/100*g):y=l.toNumber(x),y=Math.max(40,y-S)}return y},Dt=n=>{const{aggregateConfig:a,rowGroupConfig:c}=e,{collectColumn:g}=p,x=er.value,{storage:y,storeOptions:S}=x,R=y===!0,O=Object.assign({},R?{}:y||{},S),L=Bo(O.resizable,R),$=Bo(O.visible,R),q=Bo(O.fixed,R),G=Bo(O.sort,R),ee=Bo(O.aggGroup,R),le=Bo(O.aggFunc,R);let{resizableData:K,sortData:ve,visibleData:de,fixedData:he,aggGroupData:re,aggFuncData:oe}=n;if(L&&K||G&&ve||$&&de||q&&he||ee&&re||le&&oe){const Le={};if(G&&ve){if(!l.isArray(ve)){const ut=[];l.each(ve,(Lt,Mt)=>{ut.push({key:Mt,index:Lt})}),ve=l.orderBy(ut,{field:"index",order:"asc"}).map(Lt=>({k:Lt.key}))}let pt=1;l.eachTree(ve,(ut,Lt,Mt,Zt,Kt)=>{Le[ut.k]={key:ut.k,sNum:pt++,pKey:Kt?Kt.k:null}},{children:"c"})}const Ye={},We=[],gt=[];if(l.eachTree(g,(pt,ut,Lt,Mt,Zt)=>{const Kt=pt.getKey();Zt||q&&he&&he[Kt]!==void 0&&(pt.fixed=he[Kt]),L&&K&&l.isNumber(K[Kt])&&(pt.resizeWidth=K[Kt]),$&&de&&l.isBoolean(de[Kt])&&(pt.visible=de[Kt]),le&&oe&&(a||c)&&oe[Kt]&&(pt.aggFunc=oe[Kt]),ee&&re&&re[Kt]&&gt.push({field:pt.field}),Ye[Kt]=pt,We.push(pt)}),(a||c)&&gt.length){const pt=Dc(p.tableFullData,gt);p.tableFullTreeData=[],p.tableFullGroupData=pt.treeData,v.isRowGroupStatus=!0,v.rowGroupList=gt,h.cacheRowMap(!1)}if(G&&ve){We.forEach(ut=>{const Lt=ut.getKey(),Mt=Le[Lt];if(Mt){const Zt=Mt.pKey?Ye[Mt.pKey]:null;ut.parentId=Zt?Zt.id:null,ut.renderSortNumber=Mt.sNum}});const pt=l.toArrayTree(l.orderBy(We,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});p.collectColumn=pt,p.tableFullColumn=es(pt)}v.isCustomStatus=!0}else v.isCustomStatus=!1},kt=()=>{const{customConfig:n}=e,a=lt.value,c=er.value,{storage:g,restoreStore:x,storeOptions:y}=c,S=g===!0,R=Object.assign({},S?{}:g||{},y),O=Bo(R.resizable,S),L=Bo(R.visible,S),$=Bo(R.fixed,S),q=Bo(R.sort,S),G=Bo(R.aggGroup,S),ee=Bo(R.aggFunc,S);if(g&&(n?co(c):c.enabled)&&(O||L||$||q||G||ee)){if(!a){Bt("vxe.error.reqProp",["id"]);return}const le=Vl(a);return x?Promise.resolve(x({$table:h,id:a,type:"restore",storeData:le})).then(K=>{if(K)return Dt(K)}).catch(K=>K):Dt(le)}},St=()=>{const{treeConfig:n,showOverflow:a}=e,{tableFullColumn:c,collectColumn:g}=p,x=p.fullColumnIdData={},y=p.fullColumnFieldData={},S=Rt.value,R=Io.value,O=Qe.value,L=He.value,$=_t.value,{isCrossDrag:q,isSelfToChildDrag:G}=L,ee=er.value,le=uo.value,{storage:K}=ee,ve=P.value,de=g.some(ri);let he=!!a,re,oe,Le,Ye,We,gt;const pt=(ut,Lt,Mt,Zt,Kt)=>{const{id:lo,field:fo,fixed:ao,type:Jt,treeNode:io,rowGroupNode:Ro}=ut,Yt={$index:-1,_index:-1,column:ut,colid:lo,index:Lt,items:Mt,parent:Kt||null,width:0,oLeft:0};fo?(y[fo]&&Bt("vxe.error.colRepet",["field",fo]),y[fo]=Yt):(K&&!Jt&&Bt("vxe.error.reqSupportProp",["storage",`[${Jt?`type=${Jt}`:`title=${ut.getTitle()}`}]field=?`]),O.drag&&(q||G)&&Bt("vxe.error.reqSupportProp",["column-drag-config.isCrossDrag | column-drag-config.isSelfToChildDrag",`${ut.getTitle()||Jt||""} -> field=?`])),!gt&&Jt==="html"&&(gt=ut),io&&(Le&&Ut("vxe.error.colRepet",["tree-node",io]),Le||(Le=ut)),Ro&&(Le&&Ut("vxe.error.colRepet",["row-group-node",Ro]),re||(re=ut)),Jt==="expand"&&(oe&&Ut("vxe.error.colRepet",["type",Jt]),oe||(oe=ut)),Jt==="checkbox"?(Ye&&Ut("vxe.error.colRepet",["type",Jt]),Ye||(Ye=ut)):Jt==="radio"&&(We&&Ut("vxe.error.colRepet",["type",Jt]),We||(We=ut)),he&&ut.showOverflow===!1&&(he=!1),x[lo]&&Bt("vxe.error.colRepet",["colId",lo]),x[lo]=Yt};de?l.eachTree(g,(ut,Lt,Mt,Zt,Kt,lo)=>{ut.level=lo.length,pt(ut,Lt,Mt,Zt,Kt)}):c.forEach(pt),oe&&R.mode!=="fixed"&&$.enabled&&Ut("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),oe&&R.mode!=="fixed"&&S.area&&Bt("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),oe&&R.mode!=="inside"&&n&&!le.transform&&Bt("vxe.error.notConflictProp",["tree-config.transform=false","expand-config.mode=fixed"]),gt&&(O.useKey||Bt("vxe.error.notSupportProp",["column.type=html","column-config.useKey=false","column-config.useKey=true"]),ve.useKey||Bt("vxe.error.notSupportProp",["column.type=html","row-config.useKey=false","row-config.useKey=true"])),v.isGroup=de,v.rowGroupColumn=re,v.treeNodeColumn=Le,v.expandColumn=oe,v.checkboxColumn=Ye,v.radioColumn=We,v.isAllOverflow=he},At=()=>{p.customHeight=et("height"),p.customMinHeight=et("minHeight"),p.customMaxHeight=et("maxHeight"),v.scrollYLoad&&!(p.customHeight||p.customMinHeight||p.customMaxHeight)&&(p.customHeight=300)},Ve=(n,a)=>{const c=Qe.value,{autoOptions:g}=c,{isCalcHeader:x,isCalcBody:y,isCalcFooter:S}=g||{},R=[];x&&R.push(`.vxe-header-cell--wrapper[colid="${n.id}"]`),y&&R.push(`.vxe-body-cell--wrapper[colid="${n.id}"]`),S&&R.push(`.vxe-footer-cell--wrapper[colid="${n.id}"]`);const O=R.length?a.querySelectorAll(R.join(",")):[];let L=0;const $=O[0];if($&&$.parentElement){const G=getComputedStyle($.parentElement);L=Math.ceil(l.toNumber(G.paddingLeft)+l.toNumber(G.paddingRight))}let q=n.renderAutoWidth-L;for(let G=0;G<O.length;G++){const ee=O[G];q=Math.max(q,ee?Math.ceil(ee.scrollWidth)+4:0)}return q+L},Wt=()=>{const n=fr.value,{fullColumnIdData:a}=p,c=k.value;c&&(c.setAttribute("data-calc-col","Y"),n.forEach(g=>{const x=g.id,y=a[x],S=Ve(g,c);y&&(y.width=Math.max(S,y.width)),g.renderAutoWidth=S}),h.analyColumnWidth(),c.removeAttribute("data-calc-col"))},go=()=>{const{elemStore:n}=p,a=eo(n["main-body-wrapper"]);if(!a||!Ne.value||!Z.value)return;let x=0;const y=40,S=a.clientWidth;let R=S,O=R/100;const{fit:L}=e,{columnStore:$}=v,{resizeList:q,pxMinList:G,autoMinList:ee,pxList:le,scaleList:K,scaleMinList:ve,autoList:de,remainList:he}=$;if(G.forEach(re=>{const oe=l.toInteger(re.minWidth);x+=oe,re.renderWidth=oe}),ee.forEach(re=>{const oe=Math.max(60,l.toInteger(re.renderAutoWidth));x+=oe,re.renderWidth=oe}),ve.forEach(re=>{const oe=Math.floor(l.toInteger(re.minWidth)*O);x+=oe,re.renderWidth=oe}),K.forEach(re=>{const oe=Math.floor(l.toInteger(re.width)*O);x+=oe,re.renderWidth=oe}),le.forEach(re=>{const oe=l.toInteger(re.width);x+=oe,re.renderWidth=oe}),de.forEach(re=>{const oe=Math.max(60,l.toInteger(re.renderAutoWidth));x+=oe,re.renderWidth=oe}),q.forEach(re=>{const oe=l.toInteger(re.resizeWidth);x+=oe,re.renderWidth=oe}),R-=x,O=R>0?Math.floor(R/(ve.length+G.length+ee.length+he.length)):0,L?R>0&&ve.concat(G).concat(ee).forEach(re=>{x+=O,re.renderWidth+=O}):O=y,he.forEach(re=>{const oe=Math.max(O,y);re.renderWidth=oe,x+=oe}),L){const re=K.concat(ve).concat(G).concat(ee).concat(he);let oe=re.length-1;if(oe>0){let Le=S-x;if(Le>0){for(;Le>0&&oe>=0;)Le--,re[oe--].renderWidth++;x=S}}}v.scrollXWidth=x,v.resizeWidthFlag++,ws(),At()},po=(n,a)=>{const{scrollXLoad:c}=v,g=a.querySelectorAll(`.vxe-cell--wrapper[rowid="${n.rowid}"]`);let x=0,y=null,S=0;for(let R=0;R<g.length;R++){const O=g[R],L=O.parentElement,$=L.style,q=$.height;c||($.height=""),y||(y=getComputedStyle(L),S=y?Math.ceil(l.toNumber(y.paddingTop)+l.toNumber(y.paddingBottom)):0),c||($.height=q);const G=O?O.clientHeight:0;x=Math.max(x,Math.ceil(G+S))}return c&&(x=Math.max(x,n.height)),x},Go=()=>{const{treeConfig:n}=e,{tableData:a,isAllOverflow:c,scrollYLoad:g,scrollXLoad:x}=v,{fullAllDataRowIdData:y}=p,S=uo.value,R=Be.value,O=k.value;if(O&&!c&&(g||x||n&&S.showLine)){const{handleGetRowId:L}=gn(h);O.setAttribute("data-calc-row","Y"),a.forEach($=>{const q=L($),G=y[q];if(G){const ee=po(G,O);G.height=Math.max(R,ee)}O.removeAttribute("data-calc-row")}),v.calcCellHeightFlag++}},qn=n=>{const{sortBy:a,sortType:c}=n;return g=>{let x;return a?x=l.isFunction(a)?a({row:g,column:n}):l.get(g,a):x=T.getCellLabel(g,n),!c||c==="auto"?isNaN(x)?x:l.toNumber(x):c==="number"?l.toNumber(x):c==="string"?l.toValueString(x):x}},jn=()=>{const{treeConfig:n}=e,{afterFullData:a,fullDataRowIdData:c,fullAllDataRowIdData:g}=p,{handleGetRowId:x}=gn(h),y={};a.forEach((S,R)=>{const O=x(S),L=g[O],$=R+1;if(L)n||(L.seq=$),L._index=R;else{const q={row:S,rowid:O,seq:$,index:-1,$index:-1,_index:R,treeIndex:-1,_tIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};g[O]=q,c[O]=q}y[O]=S}),p.afterFullRowMaps=y},Tn=()=>{const{treeConfig:n}=e,{fullDataRowIdData:a,fullAllDataRowIdData:c,afterFullData:g,afterTreeFullData:x}=p,y=uo.value,{transform:S}=y,R=y.children||y.childrenField,O={};if(n){let L=0;const{handleGetRowId:$}=gn(h);l.eachTree(x,(q,G,ee,le)=>{const K=$(q),ve=c[K],de=le.map((he,re)=>re%2===0?Number(he)+1:".").join("");if(ve)ve.seq=de,ve.treeIndex=G,ve._tIndex=L;else{const he={row:q,rowid:K,seq:de,index:-1,$index:-1,_index:-1,treeIndex:-1,_tIndex:L,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};c[K]=he,a[K]=he}L++,O[K]=q},{children:S?y.mapChildrenField:R}),S&&g.forEach((q,G)=>{const ee=$(q),le=c[ee],K=G+1;le&&(n||(le.seq=K),le._index=G)}),p.afterFullRowMaps=O}else jn()},nn=()=>{const{treeConfig:n}=e,{isRowGroupStatus:a}=v,{fullAllDataRowIdData:c,treeExpandedMaps:g,rowGroupExpandedMaps:x}=p,y=H.value,S=uo.value,{handleGetRowId:R}=gn(h),O=[],L={};if(n&&S.transform){const $=S.children||S.childrenField;return l.eachTree(p.afterTreeFullData,(q,G,ee,le,K)=>{const ve=R(q),de=R(K);if(!K||L[de]&&g[de]){const he=c[ve];he&&(he._index=O.length),L[ve]=1,O.push(q)}},{children:$}),p.afterFullData=O,Si(O),O}else if(a){const{childrenField:$}=y;return l.eachTree(p.afterGroupFullData,(q,G,ee,le,K)=>{const ve=R(q),de=R(K);if(!K||L[de]&&x[de]){const he=c[ve];he&&(he._index=O.length),L[ve]=1,O.push(q)}},{children:$}),p.afterFullData=O,Si(O),O}return p.afterFullData},wr=()=>{const{treeConfig:n}=e,{isRowGroupStatus:a}=v,{tableFullColumn:c,tableFullData:g,tableFullTreeData:x,tableFullGroupData:y}=p,S=$t.value,R=It.value,O=H.value,L=uo.value,$=L.children||L.childrenField,{transform:q,rowField:G,parentField:ee,mapChildrenField:le}=L,{isEvery:K,remote:ve,filterMethod:de}=S,{remote:he,sortMethod:re,multiple:oe,chronological:Le}=R;let Ye=[],We=[];if(!ve||!he){const gt=[];let pt=[];if(c.forEach(ut=>{const{field:Lt,sortable:Mt,order:Zt,filters:Kt}=ut;if(!ve&&Kt&&Kt.length){const lo=[],fo=[];Kt.forEach(ao=>{ao.checked&&(fo.push(ao),lo.push(ao.value))}),fo.length&&gt.push({column:ut,valueList:lo,itemList:fo})}!he&&Mt&&Zt&&pt.push({column:ut,field:Lt,property:Lt,order:Zt,sortTime:ut.sortTime})}),oe&&Le&&pt.length>1&&(pt=l.orderBy(pt,"sortTime")),!ve&&gt.length){const ut=Lt=>gt.every(({column:Mt,valueList:Zt,itemList:Kt})=>{const{filterMethod:lo,filterRender:fo}=Mt,ao=co(fo)?Cg.get(fo.name):null,Jt=ao?ao.tableFilterMethod||ao.filterMethod:null,io=ao?ao.tableFilterDefaultMethod||ao.defaultTableFilterMethod||ao.defaultFilterMethod:null,Ro=On(Lt,Mt);return lo?Kt.some(Yt=>lo({value:Yt.value,option:Yt,cellValue:Ro,row:Lt,column:Mt,$table:h})):Jt?Kt.some(Yt=>Jt({value:Yt.value,option:Yt,cellValue:Ro,row:Lt,column:Mt,$table:h})):de?de({$table:h,options:Kt,values:Zt,cellValue:Ro,row:Lt,column:Mt}):io?Kt.some(Yt=>io({value:Yt.value,option:Yt,cellValue:Ro,row:Lt,column:Mt,$table:h})):Zt.indexOf(l.get(Lt,Mt.field))>-1});a?(We=l.searchTree(y,ut,{original:!0,isEvery:!0,children:O.mapChildrenField,mapChildren:O.childrenField}),Ye=We):n&&q?(We=l.searchTree(x,ut,{original:!0,isEvery:K,children:le,mapChildren:$}),Ye=We):(Ye=n?x.filter(ut):g.filter(ut),We=Ye)}else a?(We=l.searchTree(y,()=>!0,{original:!0,isEvery:!0,children:O.mapChildrenField,mapChildren:O.childrenField}),Ye=We):n&&q?(We=l.searchTree(x,()=>!0,{original:!0,isEvery:K,children:le,mapChildren:$}),Ye=We):(Ye=n?x.slice(0):g.slice(0),We=Ye);if(!he&&pt.length)if(a){if(re){const ut=re({data:We,sortList:pt,$table:h});We=l.isArray(ut)?ut:We}else{const ut=l.toTreeArray(We,{key:O.rowField,parentKey:O.parentField,children:O.mapChildrenField});We=l.toArrayTree(l.orderBy(ut,pt.map(({column:Lt,order:Mt})=>[qn(Lt),Mt])),{key:O.rowField,parentKey:O.parentField,children:O.childrenField,mapChildren:O.mapChildrenField})}Ye=We}else if(n&&q){if(re){const ut=re({data:We,sortList:pt,$table:h});We=l.isArray(ut)?ut:We}else{const ut=l.toTreeArray(We,{children:le});We=l.toArrayTree(l.orderBy(ut,pt.map(({column:Lt,order:Mt})=>[qn(Lt),Mt])),{key:G,parentKey:ee,children:$,mapChildren:le})}Ye=We}else{if(re){const ut=re({data:Ye,sortList:pt,$table:h});Ye=l.isArray(ut)?ut:Ye}else Ye=l.orderBy(Ye,pt.map(({column:ut,order:Lt})=>[qn(ut),Lt]));We=Ye}}else a?(We=l.searchTree(y,()=>!0,{original:!0,isEvery:!0,children:O.mapChildrenField,mapChildren:O.childrenField}),Ye=We):n&&q?(We=l.searchTree(x,()=>!0,{original:!0,isEvery:K,children:le,mapChildren:$}),Ye=We):(Ye=n?x.slice(0):g.slice(0),We=Ye);p.afterFullData=Ye,p.afterTreeFullData=We,p.afterGroupFullData=We,Tn()},hn=()=>{const{mouseConfig:n}=e,{isGroup:a,currentRow:c,tableColumn:g,overflowX:x,scrollbarWidth:y,overflowY:S,scrollbarHeight:R,scrollXWidth:O,columnStore:L,editStore:$,isColLoading:q}=v,{visibleColumn:G,tableHeight:ee,elemStore:le,customHeight:K,customMinHeight:ve,customMaxHeight:de,tHeaderHeight:he,tFooterHeight:re}=p,oe=p.xeGanttView,Le=k.value;if(!Le||p.tBodyHeight&&!Le.clientHeight)return;const Ye=["main","left","right"],{leftList:We,rightList:gt}=L;let pt=S?y:0,ut=x?R:0;const Lt=xe.value,Mt=an.value,Zt=yn.value,Kt=Uo.value,lo=ke.value,fo=Rt.value,ao=eo(le["main-body-wrapper"]),Jt=eo(le["main-body-table"]);Lt&&(Lt.style.top=`${he}px`,Lt.style.height=ao?`${ao.offsetHeight-ut}px`:"");const io=lo.x||{},Ro=lo.y||{},Yt=mt.value;let Lo=x?"visible":"hidden";io.visible==="visible"||oe?(ut=R,Lo="visible"):(io.visible==="hidden"||io.visible===!1)&&(ut=0,Lo="hidden");let ko=S?"visible":"hidden";Ro.visible==="hidden"||Ro.visible===!1||oe&&!Yt?(pt=0,ko="hidden"):Ro.visible==="visible"&&(pt=y,ko="visible");let bo=0,No=0;const So=ve-he-re-ut;de&&(No=Math.max(So,de-he-re-ut)),K&&(bo=K-he-re-ut),bo||Jt&&(bo=Jt.clientHeight),bo&&(No&&(bo=Math.min(No,bo)),bo=Math.max(So,bo));const xo=$e.value,To=ce.value,sn=rt.value;sn&&(sn.style.height=`${ut}px`,sn.style.visibility=Lo);const Ko=dt.value;Ko&&(Ko.style.width=`${Le.clientWidth-pt}px`,Yt?Ko.style.left=`${pt}px`:Ko.style.left=""),xo&&(Yt?(xo.style.width=`${pt}px`,xo.style.display=S&&pt?"block":""):xo.style.display=""),To&&(Yt?To.style.display="":(To.style.width=`${pt}px`,To.style.display=Lo==="visible"?"block":""));const Ao=ze.value;Ao&&(Ao.style.width=`${pt}px`,Ao.style.height=`${bo+he+re}px`,Ao.style.visibility=ko);const mn=Ke.value;mn&&(mn.style.height=`${he}px`,mn.style.display=he&&ko==="visible"?"block":"");const rn=ft.value;rn&&(rn.style.height=`${bo}px`,rn.style.top=`${he}px`);const Mn=Vt.value;Mn&&(Mn.style.height=`${re}px`,Mn.style.top=`${he+bo}px`,Mn.style.display=re&&ko==="visible"?"block":"");const In=tt.value;return In&&(In.style.height=`${bo}px`,In.style.top=`${he}px`),p.tBodyHeight=bo,Ye.forEach((Fn,pn)=>{const Wo=pn>0?Fn:"",An=["header","body","footer"],Dl=Wo==="left";let il=[],ba;Wo&&(il=Dl?We:gt,ba=Dl?Ie.value:De.value),An.forEach(Ol=>{const Rn=eo(le[`${Fn}-${Ol}-wrapper`]),jl=eo(le[`${Fn}-${Ol}-scroll`]),xa=eo(le[`${Fn}-${Ol}-table`]);if(Ol==="header"){let kr=g;const sl=Mt;a?kr=G:((!sl||!q&&(Wo||!x))&&(kr=G),Wo&&sl&&(kr=il||[]));const Yn=kr.reduce((za,Ca)=>za+Ca.renderWidth,0);Wo&&(a?Rn&&(Rn.style.width=O?`${O}px`:""):sl?Rn&&(Rn.style.width=Yn?`${Yn}px`:""):Rn&&(Rn.style.width=O?`${O}px`:"")),jl&&(jl.style.height=`${he}px`),xa&&(xa.style.width=Yn?`${Yn}px`:"")}else if(Ol==="body"){jl&&(jl.style.maxHeight=de?`${No}px`:"",jl.style.height=K?`${bo}px`:"",jl.style.minHeight=`${So}px`),ba&&(Rn&&(Rn.style.top=`${he}px`),ba.style.height=`${K>0?K:ee+he+re+ut}px`,ba.style.width=`${il.reduce((Ca,Hc)=>Ca+Hc.renderWidth,0)}px`);let kr=g;const sl=Zt;Wo&&(kr=G,sl&&(kr=il||[]));const Yn=kr.reduce((Ca,Hc)=>Ca+Hc.renderWidth,0);Wo&&(sl?Rn&&(Rn.style.width=Yn?`${Yn}px`:""):Rn&&(Rn.style.width=O?`${O}px`:"")),xa&&(xa.style.width=Yn?`${Yn}px`:"",xa.style.paddingRight=pt&&Wo&&(i.firefox||i.safari)?`${pt}px`:"");const za=eo(le[`${Fn}-${Ol}-emptyBlock`]);za&&(za.style.width=Yn?`${Yn}px`:"")}else if(Ol==="footer"){let kr=g;const sl=Kt;(!sl||!q&&(Wo||!x))&&(kr=G),Wo&&sl&&(kr=il||[]);const Yn=kr.reduce((za,Ca)=>za+Ca.renderWidth,0);Wo&&(sl?Rn&&(Rn.style.width=Yn?`${Yn}px`:""):Rn&&(Rn.style.width=O?`${O}px`:"")),jl&&(jl.style.height=`${re}px`,ba&&Rn&&(Rn.style.top=`${K>0?K-re-ut:ee+he}px`)),xa&&(xa.style.width=Yn?`${Yn}px`:"")}})}),c&&h.setCurrentRow(c),n&&fo.selected&&$.selected.row&&$.selected.column&&h.addCellSelectedClass(),oe&&oe.handleUpdateStyle&&oe.handleUpdateStyle(),pe()},Sl=n=>h.triggerValidate?h.triggerValidate(n):pe(),wi=(n,a)=>{Sl("blur").catch(c=>c).then(()=>{h.handleEdit(a,n).then(()=>Sl("change")).catch(c=>c)})},wc=()=>{const{sortConfig:n}=e;if(n){const a=It.value;let{defaultSort:c}=a;c&&(l.isArray(c)||(c=[c]),c.length&&((n.multiple?c:c.slice(0,1)).forEach((g,x)=>{const{field:y,order:S}=g;if(y&&S){const R=h.getColumnByField(y);R&&R.sortable&&(R.order=S,R.sortTime=Date.now()+x)}}),a.remote||h.handleTableData(!0).then(hn)))}},Ec=()=>{const{checkboxConfig:n}=e;if(n){const{fullDataRowIdData:a}=p,c=Ue.value,{checkAll:g,checkRowKeys:x}=c;if(g)Sc(!0,!0);else if(x){const y=[];x.forEach(S=>{a[S]&&y.push(a[S].row)}),ga(y,!0,!0)}}},gs=()=>{const{radioConfig:n}=e;if(n){const{fullDataRowIdData:a}=p,c=ot.value,{checkRowKey:g,reserve:x}=c;if(g&&(a[g]&&Ei(a[g].row,!0),x)){const y=Ga(h);p.radioReserveRow={[y]:g}}}},hs=()=>{const{expandConfig:n}=e;if(n){const{fullDataRowIdData:a}=p,c=Io.value,{expandAll:g,expandRowKeys:x}=c;if(g)h.setAllRowExpand(!0);else if(x){const y=[];x.forEach(S=>{a[S]&&y.push(a[S].row)}),h.setRowExpand(y,!0)}}},ms=n=>{ot.value.reserve&&(p.radioReserveRow=n)},pa=(n,a)=>{const{checkboxReserveRowMap:c}=p;if(Ue.value.reserve){const x=Pt(h,n);a?c[x]=n:c[x]&&delete c[x]}},Ei=(n,a)=>{const c=ot.value,{checkMethod:g}=c;return n&&(a||!g||g({$table:h,row:n}))&&(v.selectRadioRow=n,ms(n)),pe()},ga=(n,a,c)=>(n&&!l.isArray(n)&&(n=[n]),h.handleBatchSelectRows(n,!!a,c),h.checkSelectionStatus(),pe()),Sc=(n,a)=>{const{treeConfig:c}=e,{isRowGroupStatus:g}=v,{afterFullData:x,afterTreeFullData:y,afterGroupFullData:S,checkboxReserveRowMap:R,selectCheckboxMaps:O}=p,L=uo.value,$=H.value,q=L.children||L.childrenField,G=Ue.value,{checkField:ee,reserve:le,checkMethod:K}=G,{handleGetRowId:ve}=gn(h),de=G.indeterminateField||G.halfField,he={};if(ee){const re=oe=>{(a||!K||K({$table:h,row:oe}))&&(n&&(he[ve(oe)]=oe),l.set(oe,ee,n)),(c||g)&&de&&l.set(oe,de,!1)};c||g?l.eachTree(x,re,{children:q}):x.forEach(re)}else g?n?l.eachTree(S,re=>{if(a||!K||K({$table:h,row:re})){const oe=ve(re);he[oe]=re}},{children:$.mapChildrenField}):!a&&K&&l.eachTree(S,re=>{const oe=ve(re);!K({$table:h,row:re})&&O[oe]&&(he[oe]=re)},{children:$.mapChildrenField}):c?n?l.eachTree(y,re=>{if(a||!K||K({$table:h,row:re})){const oe=ve(re);he[oe]=re}},{children:q}):!a&&K&&l.eachTree(y,re=>{const oe=ve(re);!K({$table:h,row:re})&&O[oe]&&(he[oe]=re)},{children:q}):n?!a&&K?x.forEach(re=>{const oe=ve(re);(O[oe]||K({$table:h,row:re}))&&(he[oe]=re)}):x.forEach(re=>{const oe=ve(re);he[oe]=re}):!a&&K&&x.forEach(re=>{const oe=ve(re);!K({$table:h,row:re})&&O[oe]&&(he[oe]=re)});return le&&(n?l.each(he,(re,oe)=>{R[oe]=re}):x.forEach(re=>pa(re,!1))),v.updateCheckboxFlag++,p.selectCheckboxMaps=ee?{}:he,v.isAllSelected=n,v.isIndeterminate=!1,p.treeIndeterminateRowMaps={},h.checkSelectionStatus(),pe()},nS=()=>{const{treeConfig:n}=e,{expandColumn:a,currentRow:c,selectRadioRow:g}=v,{fullDataRowIdData:x,fullAllDataRowIdData:y,radioReserveRow:S,selectCheckboxMaps:R,treeExpandedMaps:O,rowExpandedMaps:L}=p,$=Io.value,q=uo.value,G=ot.value,ee=Ue.value;if(g&&!y[Pt(h,g)]&&(v.selectRadioRow=null),G.reserve&&S){const le=Pt(h,S);x[le]&&Ei(x[le].row,!0)}p.selectCheckboxMaps=ol(R),v.updateCheckboxFlag++,ee.reserve&&ga(nl(p.checkboxReserveRowMap),!0,!0),c&&!y[Pt(h,c)]&&(v.currentRow=null),p.rowExpandedMaps=a?ol(L):{},v.rowExpandedFlag++,a&&$.reserve&&h.setRowExpand(nl(p.rowExpandedReserveRowMap),!0),p.treeExpandedMaps=n?ol(O):{},v.treeExpandedFlag++,n&&q.reserve&&h.setTreeExpand(nl(p.treeExpandedReserveRowMap),!0)},rS=()=>{const{treeConfig:n}=e;if(n){const{fullAllDataRowIdData:a}=p,c=uo.value,{expandAll:g,expandRowKeys:x}=c;if(g)h.setAllTreeExpand(!0);else if(x){const y=[];x.forEach(S=>{const R=a[S];R&&y.push(R.row)}),h.setTreeExpand(y,!0)}}},ih=n=>{const a=uo.value,c=Ue.value,{transform:g,loadMethod:x}=a,{checkStrictly:y}=c;return new Promise(S=>{if(x){const{fullAllDataRowIdData:R,treeExpandLazyLoadedMaps:O}=p,L=Pt(h,n),$=R[L];O[L]=n,Promise.resolve(x({$table:h,row:n})).then(q=>{if($&&($.treeLoaded=!0),O[L]&&delete O[L],l.isArray(q)||(q=[]),q)return h.loadTreeChildren(n,q).then(G=>{const{treeExpandedMaps:ee}=p;return G.length&&!ee[L]&&(ee[L]=n),v.treeExpandedFlag++,!y&&h.isCheckedByCheckboxRow(n)&&ga(G,!0),pe().then(()=>{if(g)return h.handleTableData(),Tn(),pe()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:q}=p;$&&($.treeLoaded=!1),q[L]&&delete q[L]}).finally(()=>{v.treeExpandedFlag++,pe().then(()=>h.recalculate()).then(()=>S())})}else S()})},sh=(n,a)=>{const{treeExpandedReserveRowMap:c}=p;if(uo.value.reserve){const x=Pt(h,n);a?c[x]=n:c[x]&&delete c[x]}},ch=n=>new Promise(a=>{const c=Io.value,{loadMethod:g}=c;if(g){const{fullAllDataRowIdData:x,rowExpandLazyLoadedMaps:y}=p,S=Pt(h,n),R=x[S];y[S]=n,g({$table:h,row:n,rowIndex:h.getRowIndex(n),$rowIndex:h.getVMRowIndex(n)}).then(()=>{const{rowExpandedMaps:O}=p;R&&(R.expandLoaded=!0),O[S]=n,v.rowExpandedFlag++}).catch(()=>{R&&(R.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:O}=p;O[S]&&delete O[S],v.rowExpandedFlag++,pe().then(()=>h.recalculate()).then(()=>h.updateCellAreas()).then(()=>a())})}else a()}),uh=(n,a)=>{const{rowExpandedReserveRowMap:c}=p;if(Io.value.reserve){const x=Pt(h,n);a?c[x]=n:c[x]&&delete c[x]}},lS=()=>{const{mergeCells:n}=e;n&&h.setMergeCells(n)},aS=()=>{const{mergeHeaderCells:n}=e;n&&h.setMergeHeaderCells(n)},iS=()=>{const{mergeFooterCells:n,mergeFooterItems:a}=e,c=n||a;c&&h.setMergeFooterCells(c)},Rc=()=>pe().then(()=>{const{scrollXLoad:n,scrollYLoad:a}=v,{scrollXStore:c,scrollYStore:g}=p,x=_t.value,y=Nt.value;if(n){const{toVisibleIndex:L,visibleSize:$}=tr(),q=Math.max(0,y.oSize?l.toNumber(y.oSize):0);c.preloadSize=l.toNumber(y.preSize),c.offsetSize=q,c.visibleSize=$,c.endIndex=Math.max(c.startIndex+c.visibleSize+q,c.endIndex),c.visibleStartIndex=Math.max(c.startIndex,L),c.visibleEndIndex=Math.min(c.endIndex,L+$),h.updateScrollXData().then(()=>{ma()})}else h.updateScrollXSpace();const S=wl();g.rowHeight=S,v.rowHeight=S;const{toVisibleIndex:R,visibleSize:O}=pr();if(a){const L=Math.max(0,x.oSize?l.toNumber(x.oSize):0);g.preloadSize=l.toNumber(x.preSize),g.offsetSize=L,g.visibleSize=O,g.endIndex=Math.max(g.startIndex+O+L,g.endIndex),g.visibleStartIndex=Math.max(g.startIndex,R),g.visibleEndIndex=Math.min(g.endIndex,R+O),h.updateScrollYData().then(()=>{Ri()})}else h.updateScrollYSpace()}),vs=()=>{const{scrollXWidth:n,scrollYHeight:a}=v,{elemStore:c}=p,g=ke.value,x=eo(c["main-body-wrapper"]),y=eo(c["main-header-table"]),S=eo(c["main-footer-table"]),R=Z.value,O=Ne.value;let L=!1,$=!1;if(x){L=a>x.clientHeight,O&&(v.scrollbarWidth=g.width||O.offsetWidth-O.clientWidth||14),v.overflowY=L,$=n>x.clientWidth,R&&(v.scrollbarHeight=g.height||R.offsetHeight-R.clientHeight||14);const q=y?y.clientHeight:0,G=S?S.clientHeight:0;p.tableHeight=x.offsetHeight,p.tHeaderHeight=q,p.tFooterHeight=G,v.overflowX=$,v.parentHeight=Math.max(q+G+20,h.getParentHeight())}$&&h.checkScrolling()},Rl=(n,a,c)=>{const g=k.value;if(p.rceRunTime=Date.now(),!g||!g.clientWidth)return pe();const x=j.value;if(x){const[y,S,R,O]=x.children;qr("default",y),qr("medium",S),qr("small",R),qr("mini",O)}return a&&Wt(),n&&go(),vs(),hn(),Gl(),n&&Wl(),Rc().then(()=>{if(a&&Wt(),n&&go(),c&&Go(),hn(),vs(),n&&Gn(),Gl(),n&&Wl(),n)return Rc()})},Un=(n,a,c)=>new Promise(g=>{const x=p.xeGanttView,{rceTimeout:y,rceRunTime:S}=p,O=Ze.value.refreshDelay||20,L=k.value;L&&L.clientWidth&&(go(),Gl()),y?(clearTimeout(y),S&&S+(O-5)<Date.now()?g(Rl(n,a,c)):pe(()=>{g()})):g(Rl(n,a,c)),x&&x.handleLazyRecalculate&&x.handleLazyRecalculate(),p.rceTimeout=setTimeout(()=>{p.rceTimeout=void 0,Rl(n,a,c)},O)}),dh=()=>{Un(!0,!0,!0)},fh=()=>{const{visibleColumn:n}=p,a=[];n.forEach(c=>{c.aggFunc&&a.push(c)}),v.aggHandleAggColumns=a},bs=n=>{const a=[],c=[];n&&(l.isArray(n)?n:[n]).forEach(g=>{a.push(g),c.push({field:g})}),v.rowGroupList=c,v.aggHandleFields=a,fh()},ph=n=>{const a=H.value,{mapChildrenField:c}=a;c&&(l.lastEach(n,g=>{let x=0;l.each(g[c],y=>{y.isAggregate?x+=y.childCount||0:x++}),g.childCount=x}),h.handlePivotTableAggregateData&&h.handlePivotTableAggregateData(n))},sS=()=>{const{aggregateConfig:n,rowGroupConfig:a}=e,{isRowGroupStatus:c}=v,{tableFullGroupData:g}=p,x=H.value,{mapChildrenField:y}=x;if((n||a)&&c){const S=[];l.eachTree(g,R=>{R.isAggregate&&S.push(R)},{children:y}),ph(S)}},Dc=(n,a)=>{let c=n,g=n;if(a){const x=H.value,{rowField:y,parentField:S,childrenField:R,mapChildrenField:O}=x,L=Ue.value,{checkField:$}=L,q=L.indeterminateField||L.halfField,G=a[0];if(G&&y&&S&&R&&O){c=[],g=[];const ee=G.field,le=h.getColumnByField(ee),K={},ve=[],de=Ga(h);n.forEach(he=>{const re=le?h.getCellLabel(he,le):l.get(he,ee),oe=l.eqNull(re)?"":re;let Le=K[oe];Le||(Le=[],K[oe]=Le),he.isAggregate&&(he.isAggregate=void 0),Le.push(he)}),l.objectEach(K,(he,re)=>{const{fullData:oe,treeData:Le}=Dc(he,a.slice(1)),Ye={isAggregate:!0,aggData:{},groupContent:re,groupField:ee,childCount:0,[y]:Qi(),[S]:null,[de]:Qi(),[R]:Le,[O]:Le};$&&(Ye[$]=!1),q&&(Ye[q]=!1),ve.push(Ye),g.push(Ye),c.push(Ye),oe.length&&c.push(...oe)}),ph(ve)}}return{treeData:g,fullData:c}},cS=()=>{const{data:n}=e;ha(n||[],!0).then(()=>{n&&n.length&&(p.inited=!0,p.initStatus=!0,xs()),uS(),hn(),v.isAllOverflow||(Go(),Gn())})},ha=(n,a)=>{const{keepSource:c,treeConfig:g,rowGroupConfig:x,aggregateConfig:y}=e,{rowGroupList:S,scrollYLoad:R}=v,{scrollYStore:O,scrollXStore:L,lastScrollLeft:$,lastScrollTop:q}=p,G=P.value,ee=uo.value,le=Io.value,{transform:K}=ee,ve=ee.children||ee.childrenField;let de=[],he=un(n?n.slice(0):[]);if(he.length>ey&&Bt("vxe.error.errMaxRow",[ey]),g&&S.length)return Bt("vxe.error.noTree",["aggregate-config"]),pe();if(G.drag&&S.length)return Bt("vxe.error.errConflicts",["row-config.drag","aggregate-config"]),pe();let re=!1;if(g)K?(ee.rowField||Bt("vxe.error.reqProp",["tree-config.rowField"]),ee.parentField||Bt("vxe.error.reqProp",["tree-config.parentField"]),ve||Bt("vxe.error.reqProp",["tree-config.childrenField"]),ee.mapChildrenField||Bt("vxe.error.reqProp",["tree-config.mapChildrenField"]),ve===ee.mapChildrenField&&Bt("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),de=l.toArrayTree(he,{key:ee.rowField,parentKey:ee.parentField,children:ve,mapChildren:ee.mapChildrenField}),he=de.slice(0)):de=he.slice(0);else if((y||x)&&S.length){const Le=Dc(he,S);de=Le.treeData,he=Le.fullData,re=!0}v.isRowGroupStatus=re,O.startIndex=0,O.endIndex=1,L.startIndex=0,L.endIndex=1,p.cvCacheMaps={},v.isRowLoading=!0,v.scrollVMLoading=!1,v.treeExpandedFlag++,v.rowExpandedFlag++,p.insertRowMaps={},v.insertRowFlag++,p.removeRowMaps={},v.removeRowFlag++;const oe=Si(he);return p.tableFullData=he,p.tableFullTreeData=re?[]:de,p.tableFullGroupData=re?de:[],h.cacheRowMap(a),p.tableSynchData=n,a&&(p.isResizeCellHeight=!1),c&&h.cacheSourceMap(he),h.clearCellAreas&&e.mouseConfig&&(h.clearCellAreas(),h.clearCopyCellArea()),h.clearMergeCells(),h.clearMergeFooterItems(),h.handleTableData(!0),h.updateFooter(),h.handleUpdateBodyMerge(),pe().then(()=>{At(),hn()}).then(()=>{Rc()}).then(()=>{const Le=_t.value;return oe&&(O.endIndex=O.visibleSize),oe&&(v.expandColumn&&le.mode!=="fixed"&&Bt("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),Le.mode==="scroll"&&le.mode==="fixed"&&Ut("vxe.error.notConflictProp",["virtual-y-config.mode=scroll","expand-config.mode=inside"]),e.height||e.maxHeight||Bt("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"])),nS(),h.checkSelectionStatus(),h.dispatchEvent("data-change",{visibleColumn:p.visibleColumn,visibleData:p.afterFullData},null),new Promise(Ye=>{pe().then(()=>Rl(!1,!1,!1)).then(()=>{Rl(!1,!0,!0),Gn()}).then(()=>{let We=$,gt=q;const pt=Nt.value,ut=_t.value;pt.scrollToLeftOnChange&&(We=0),ut.scrollToTopOnChange&&(gt=0),v.isRowLoading=!1,Rl(!1,!1,!1),Wl(),e.showOverflow||setTimeout(()=>{Un(!1,!0,!0),setTimeout(()=>Un(!1,!0,!0),3e3)},2e3),R===oe?_i(h,We,gt).then(()=>{Rl(!1,!0,!0),Gn(),Wl(),Ye()}):setTimeout(()=>{_i(h,We,gt).then(()=>{Rl(!1,!0,!0),Gn(),Wl(),Ye()})})})})})},xs=()=>{Ec(),gs(),hs(),rS(),hS(),lS(),aS(),iS(),pe(()=>setTimeout(()=>h.recalculate()))},uS=()=>{wc()},Oc=()=>{const{scrollXLoad:n}=v,{visibleColumn:a,scrollXStore:c,fullColumnIdData:g}=p,x=n?a.slice(c.startIndex,c.endIndex):a.slice(0);x.forEach((y,S)=>{const R=y.id,O=g[R];O&&(O.$index=S)}),v.tableColumn=x},gh=()=>{const n=l.orderBy(p.collectColumn,"renderSortNumber");p.collectColumn=n;const a=es(n);p.tableFullColumn=a,St()},ma=()=>{const{isScrollXBig:n}=v,{mergeBodyList:a,mergeFooterList:c,scrollXStore:g}=p,{preloadSize:x,startIndex:y,endIndex:S,offsetSize:R}=g,{toVisibleIndex:O,visibleSize:L}=tr(),$={startIndex:Math.max(0,n?O-1:O-1-R-x),endIndex:n?O+L:O+L+R+x};g.visibleStartIndex=O-1,g.visibleEndIndex=O+L+1,El(a.concat(c),$,"col");const{startIndex:q,endIndex:G}=$;(O<=y||O>=S-L-1)&&(y!==q||S!==G)&&(g.startIndex=q,g.endIndex=G,h.updateScrollXData()),h.closeTooltip()},Tc=n=>{const a=[],c=[],g=[],{isGroup:x,columnStore:y}=v,{collectColumn:S,tableFullColumn:R,scrollXStore:O,fullColumnIdData:L}=p;if(x){const G=[],ee=[],le=[];l.eachTree(S,(K,ve,de,he,re)=>{const oe=ri(K);re&&re.fixed&&(K.fixed=re.fixed),re&&(K.fixed||"")!==(re.fixed||"")&&Bt("vxe.error.groupFixed"),oe?K.visible=!!l.findTree(K.children,Le=>ri(Le)?!1:Le.visible):K.visible&&(K.fixed==="left"?a.push(K):K.fixed==="right"?g.push(K):c.push(K))}),S.forEach(K=>{K.visible&&(K.fixed==="left"?G.push(K):K.fixed==="right"?le.push(K):ee.push(K))}),v.tableGroupColumn=G.concat(ee).concat(le)}else R.forEach(G=>{G.visible&&(G.fixed==="left"?a.push(G):G.fixed==="right"?g.push(G):c.push(G))});const $=a.concat(c).concat(g);p.visibleColumn=$,ws();const q=fS();if(v.hasFixedColumn=a.length>0||g.length>0,Object.assign(y,{leftList:a,centerList:c,rightList:g}),q&&(e.spanMethod&&Ut("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&Ut("vxe.error.scrollErrProp",["footer-span-method"]),n)){const{visibleSize:G}=tr();O.startIndex=0,O.endIndex=G,O.visibleSize=G,O.visibleStartIndex=0,O.visibleEndIndex=G}return($.length!==p.visibleColumn.length||!p.visibleColumn.every((G,ee)=>G===$[ee]))&&(h.clearMergeCells(),h.clearMergeFooterItems()),$.forEach((G,ee)=>{const le=G.id,K=L[le];K&&(K._index=ee)}),Oc(),fh(),n?(ws(),h.updateFooter().then(()=>h.recalculate()).then(()=>(h.updateCellAreas(),h.recalculate()))):h.updateFooter()},dS=()=>{const{collectColumn:n}=p,a={},c={};let g=1;l.eachTree(n,(x,y,S,R,O)=>{const{id:L,field:$}=x,q=O?O.id:null,G={$index:-1,_index:-1,column:x,colid:L,index:y,items:S,parent:O||null,width:0,oLeft:0};x.parentId=q,x.defaultParentId=q,x.sortNumber=g,x.renderSortNumber=g,g++,$&&(c[$]&&Bt("vxe.error.colRepet",["field",$]),c[$]=G),a[L]=G}),p.fullColumnIdData=a,p.fullColumnFieldData=c},hh=n=>{const a=Io.value;p.collectColumn=n;const c=es(n);return p.tableFullColumn=c,v.isColLoading=!0,dS(),Promise.resolve(kt()).then(()=>{const{scrollXLoad:g,scrollYLoad:x,expandColumn:y}=v;return St(),Tc(!0).then(()=>{v.scrollXLoad&&ma()}),h.clearMergeCells(),h.clearMergeFooterItems(),h.handleTableData(!0),h.handleAggregateSummaryData(),(g||x)&&y&&a.mode!=="fixed"&&Ut("vxe.error.scrollErrProp",["column.type=expand"]),pe().then(()=>{Ot&&Ot.syncUpdate({collectColumn:p.collectColumn,$table:h}),h.handleUpdateCustomColumn&&h.handleUpdateCustomColumn();const S=Qe.value;return e.showCustomHeader&&v.isGroup&&(S.resizable||e.resizable)&&Ut("vxe.error.notConflictProp",["show-custom-header & colgroup","column-config.resizable=false"]),v.isColLoading=!1,Un(!1,!0,!0)})})},fS=n=>{const a=Nt.value,c=p.tableFullColumn,g=!!a.enabled&&a.gt>-1&&(a.gt===0||a.gt<c.length);return v.scrollXLoad=g,g},Si=n=>{const{treeConfig:a}=e,c=p.xeGanttView,g=_t.value,x=uo.value,{transform:y}=x,S=n||p.tableFullData,R=(y||!a)&&!!g.enabled&&g.gt>-1&&(g.gt===0||g.gt<S.length);return v.scrollYLoad=R,c&&c.handleUpdateSYStatus&&c.handleUpdateSYStatus(R),R},mh=(n,a)=>{const{treeNodeColumn:c}=v,{fullAllDataRowIdData:g,tableFullTreeData:x,treeExpandedMaps:y,treeExpandLazyLoadedMaps:S}=p,R=uo.value,{reserve:O,lazy:L,accordion:$,toggleMethod:q}=R,G=R.children||R.childrenField,ee=R.hasChild||R.hasChildField,le=[],K=h.getColumnIndex(c),ve=h.getVMColumnIndex(c),{handleGetRowId:de}=gn(h);let he=q?n.filter(re=>q({$table:h,expanded:a,column:c,columnIndex:K,$columnIndex:ve,row:re})):n;if($){he=he.length?[he[he.length-1]]:[];const re=l.findTree(x,oe=>oe===he[0],{children:G});re&&re.items.forEach(oe=>{const Le=de(oe);y[Le]&&delete y[Le]})}return a?he.forEach(re=>{const oe=de(re);if(!y[oe]){const Le=g[oe];Le&&(L&&re[ee]&&!Le.treeLoaded&&!S[oe]?le.push(ih(re)):re[G]&&re[G].length&&(y[oe]=re))}}):he.forEach(re=>{const oe=de(re);y[oe]&&delete y[oe]}),O&&he.forEach(re=>sh(re,a)),v.treeExpandedFlag++,Promise.all(le).then(()=>(Wl(),h.recalculate()))},pS=(n,a)=>{const{lastScrollLeft:c,lastScrollTop:g}=p;return mh(n,a).then(()=>(nn(),h.handleTableData(),v.treeExpandedFlag++,Tn(),pe())).then(()=>Rl(!0,!0,!0)).then(()=>{_i(h,c,g),Wl(),setTimeout(()=>{h.updateCellAreas()},30)})},gS=(n,a)=>{const{fullAllDataRowIdData:c,tableFullGroupData:g,rowGroupExpandedMaps:x}=p,y=H.value,{mapChildrenField:S,accordion:R}=y,{handleGetRowId:O}=gn(h);let L=n;if(S){if(R){L=L.length?[L[L.length-1]]:[];const $=l.findTree(g,q=>Pt(h,q)===Pt(h,L[0]),{children:S});$&&$.items.forEach(q=>{const G=O(q);x[G]&&delete x[G]})}a?L.forEach($=>{const q=O($);x[q]||c[q]&&$[S]&&$[S].length&&(x[q]=$)}):L.forEach($=>{const q=O($);x[q]&&delete x[q]})}return v.rowGroupExpandedFlag++,h.recalculate()},vh=(n,a)=>gS(n,a).then(()=>(nn(),h.handleTableData(),v.rowGroupExpandedFlag++,Tn(),pe())).then(()=>Un(!0,!0,!0)).then(()=>{setTimeout(()=>{h.updateCellAreas()},30)}),hS=()=>{const{isRowGroupStatus:n}=v;if(n){const a=H.value,{expandAll:c,expandGroupFields:g}=a;c?h.setAllRowGroupExpand(!0):g&&g.length&&h.setRowGroupExpandByField(g,!0)}},bh=(n,a)=>{Sc(a),n&&Mo("checkbox-all",{records:()=>h.getCheckboxRecords(),reserves:()=>h.getCheckboxReserveRecords(),indeterminates:()=>h.getCheckboxIndeterminateRecords(),checked:a},n)},Ri=()=>{const{isAllOverflow:n,isScrollYBig:a}=v,{mergeBodyList:c,scrollYStore:g}=p,{preloadSize:x,startIndex:y,endIndex:S,offsetSize:R}=g,O=n?R:R+1,{toVisibleIndex:L,visibleSize:$}=pr(),q={startIndex:Math.max(0,a?L-1:L-1-R-x),endIndex:a?L+$:L+$+O+x};g.visibleStartIndex=L-1,g.visibleEndIndex=L+$+1,El(c,q,"row");const{startIndex:G,endIndex:ee}=q;(L<=y||L>=S-$-1)&&(y!==G||S!==ee)&&(g.startIndex=G,g.endIndex=ee,h.updateScrollYData())},Cs=n=>function(a){const{fullAllDataRowIdData:c}=p;if(a){const g=Pt(h,a),x=c[g];if(x)return x[n]}return-1},Mc=n=>function(a){const{fullColumnIdData:c}=p;if(a){const g=c[a.id];if(g)return g[n]}return-1},mS=()=>{const{lxTimeout:n,lxRunTime:a,scrollXStore:c}=p,{visibleSize:g}=c,x=g>26?26:g>16?14:6;n&&clearTimeout(n),(!a||a+x<Date.now())&&(p.lxRunTime=Date.now(),ma()),p.lxTimeout=setTimeout(()=>{p.lxTimeout=void 0,p.lxRunTime=void 0,ma()},x)},vS=()=>{const{lyTimeout:n,lyRunTime:a,scrollYStore:c}=p,{visibleSize:g}=c,x=g>30?32:g>20?18:8;n&&clearTimeout(n),(!a||a+x<Date.now())&&(p.lyRunTime=Date.now(),Ri()),p.lyTimeout=setTimeout(()=>{p.lyTimeout=void 0,p.lyRunTime=void 0,Ri()},x)},bS=(n,a)=>{const{lcsTimeout:c}=p;v.lazScrollLoading=!0,c&&clearTimeout(c),p.lcsTimeout=setTimeout(()=>{const{scrollXLoad:g,scrollYLoad:x,isAllOverflow:y}=v;p.lcsRunTime=Date.now(),p.lcsTimeout=void 0,p.intoRunScroll=!1,p.inVirtualScroll=!1,p.inWheelScroll=!1,p.inHeaderScroll=!1,p.inBodyScroll=!1,p.inFooterScroll=!1,v.lazScrollLoading=!1,p.scrollRenderType="",y||(Go(),Gn()),n&&g&&h.updateScrollXData(),a&&x&&h.updateScrollYData().then(()=>{y||(Go(),Gn()),h.updateScrollYSpace()}),Gl(),h.updateCellAreas()},200)},xS=n=>{let a=1;const c=Date.now();return n+25>c?a=1.18:n+30>c?a=1.15:n+40>c?a=1.12:n+55>c?a=1.09:n+75>c?a=1.06:n+100>c&&(a=1.03),a},CS=(n,a)=>{requestAnimationFrame(()=>{a(n)})},yS=(n,a)=>{const c=Math.abs(n),g=performance.now();let x=0;const y=S=>{let R=(S-g)/c;R<0?R=0:R>1&&(R=1);const O=Math.pow(R,2),L=Math.floor(n*O)-x;x+=L,a(L),R<1&&requestAnimationFrame(y)};requestAnimationFrame(y)},ys=n=>{const a=p.xeGanttView;if(a){const c=a.internalData,{elemStore:g}=c,x=eo(g["main-body-scroll"]);x&&(x.scrollTop=n)}},Mo=(n,a,c)=>{r(n,dI(c,{$table:h,$grid:m,$gantt:w},a))},wS=(n,a)=>{const{fullColumnIdData:c}=p,g=Jo(h,n);return g&&c[g.id]?CC(h,g,a):pe()},Ic=()=>{const n=k.value;n&&n.clientWidth&&n.clientHeight&&h.recalculate()},xh=(n,a)=>{h.analyColumnWidth(),h.recalculate().then(()=>{h.saveCustomStore("update:width"),h.updateCellAreas(),h.dispatchEvent("column-resizable-change",a,n),h.dispatchEvent("resizable-change",a,n),setTimeout(()=>h.recalculate(!0),300)})},Ch=(n,a)=>{v.resizeHeightFlag++,h.recalculate().then(()=>{h.updateCellAreas(),h.dispatchEvent("row-resizable-change",a,n),setTimeout(()=>h.recalculate(!0),300)})},ws=()=>{const{visibleColumn:n,fullColumnIdData:a}=p;let c=0;for(let g=0,x=n.length;g<x;g++){const y=n[g],S=y.id,R=a[S];R&&(R.oLeft=c),c+=y.renderWidth}},Gn=()=>{const{expandColumn:n}=v,{afterFullData:a,fullAllDataRowIdData:c,rowExpandedMaps:g}=p,x=Io.value,y=P.value,S=yt.value,R=Be.value,{handleGetRowId:O}=gn(h);let L=0;for(let $=0,q=a.length;$<q;$++){const G=a[$],ee=O(G),le=c[ee]||{};le.oTop=L,L+=le.resizeHeight||S.height||y.height||le.height||R,n&&g[ee]&&(L+=le.expandHeight||x.height||0)}},Gl=()=>{const{expandColumn:n,scrollYLoad:a,scrollYTop:c,isScrollYBig:g}=v,x=Io.value,y=P.value,S=yt.value,R=Be.value,{mode:O}=x;if(n&&O==="fixed"){const{elemStore:L,fullAllDataRowIdData:$}=p,q=tt.value,G=eo(L["main-body-scroll"]);if(q&&G){let ee=!1;l.arrayEach(q.children,le=>{const K=le,ve=K.getAttribute("rowid")||"",de=$[ve];if(de){const he=K.offsetHeight+1,re=G.querySelector(`.vxe-body--row[rowid="${ve}"]`);let oe=0;a?g&&re?oe=re.offsetTop+re.offsetHeight:oe=de.oTop+(de.resizeHeight||S.height||y.height||de.height||R):re&&(oe=re.offsetTop+re.offsetHeight),g&&(oe+=c),K.style.top=sa(oe),ee||de.expandHeight!==he&&(ee=!0),de.expandHeight=he}}),ee&&(v.rowExpandHeightFlag++,pe(()=>{Gn()}))}}},Wl=()=>{const{treeConfig:n}=e;if(!n)return;const{tableData:a}=v,{fullAllDataRowIdData:c,treeExpandedMaps:g}=p,x=yt.value,y=P.value,S=Be.value,R=uo.value,{transform:O,mapChildrenField:L}=R,$=R.children||R.childrenField,{handleGetRowId:q}=gn(h),G=[],ee=(le,K,ve)=>{const de=q(le),he=c[de]||{},re=le[O?L:$],oe=ve[K-1]||null,Le=ve[K+1]||null;if(re&&re.length&&g[de])G.push({row:le,prevRow:oe,nextRow:Le}),re.forEach((Ye,We)=>{const gt=q(Ye);g[gt]&&ee(Ye,We,re)});else if(Le){const Ye=q(Le),We=c[Ye]||{},gt=Rr(he,x,y,S),pt=Rr(We,x,y,S);he.oHeight=gt,he.lineHeight=Math.floor(gt/2+pt/2)}else he.oHeight=0,he.lineHeight=0};a.forEach((le,K)=>{ee(le,K,a)}),l.lastArrayEach(G,({row:le,nextRow:K})=>{const ve=q(le),de=le[O?L:$],he=c[ve];if(he){let oe=Rr(he,x,y,S),Le=0;if(de.forEach(Ye=>{const We=q(Ye),gt=c[We]||{},pt=Ye[O?L:$];if(g[We]&&pt&&pt.length)oe+=gt.oHeight||0,Le+=gt.oHeight||0;else{const ut=Rr(gt,x,y,S);gt.oHeight=ut,gt.lineHeight=ut,oe+=ut,Le+=ut}}),K){const Ye=q(K),We=c[Ye]||{},gt=Rr(he,x,y,S),pt=Rr(We,x,y,S);oe+=gt,Le+=Math.floor(gt/2+pt/2)}he.lineHeight=Le,he.oHeight=oe}})},yh=()=>{const{elemStore:n}=p,a=tt.value,c=eo(n["main-body-scroll"]);a&&c&&(a.scrollTop=c.scrollTop)};T={dispatchEvent:Mo,getEl(){return k.value},clearAll(){return rM(h)},syncData(){return Bt("vxe.error.delFunc",["syncData","getData"]),pe().then(()=>(v.tableData=[],r("update:data",p.tableFullData),pe()))},updateData(){const{scrollXLoad:n,scrollYLoad:a}=v;return h.handleTableData(!0).then(()=>{if(h.updateFooter(),n||a)return n&&h.updateScrollXSpace(),a&&h.updateScrollYSpace(),h.refreshScroll()}).then(()=>(h.updateCellAreas(),Un(!0,!0,!0))).then(()=>{setTimeout(()=>Un(!1,!0,!0),50)})},loadData(n){const{initStatus:a}=p;return ha(n,!1).then(()=>(p.inited=!0,p.initStatus=!0,a||xs(),Un(!1,!0,!0)))},reloadData(n){return h.clearAll().then(()=>(p.inited=!0,p.initStatus=!0,ha(n,!0))).then(()=>(xs(),Un(!1,!0,!0)))},setRow(n,a){if(n&&a){let c=n;l.isArray(n)||(c=[n]);const g=Ga(h);c.forEach(x=>{const y=Pt(h,x),S=l.clone(Object.assign({},a),!0);l.set(S,g,y),Object.assign(x,S)})}return pe()},reloadRow(n,a,c){const{keepSource:g}=e,{tableData:x}=v,{sourceDataRowIdData:y}=p;if(g){if(h.isAggregateRecord(n))return pe();const S=y[Pt(h,n)];if(S&&n)if(c){const R=l.clone(l.get(a||n,c),!0);l.set(n,c,R),l.set(S,c,R)}else{const R=Ga(h),O=Pt(h,n),L=l.clone(Object.assign({},a),!0);l.set(L,R,O),l.destructuring(S,Object.assign(n,L))}v.tableData=x.slice(0)}else Bt("vxe.error.reqProp",["keep-source"]);return pe()},getParams(){return e.params},loadTreeChildren(n,a){const{keepSource:c}=e,{tableSourceData:g,fullDataRowIdData:x,fullAllDataRowIdData:y,sourceDataRowIdData:S}=p,R=uo.value,{transform:O,mapChildrenField:L}=R,$=R.children||R.childrenField,q=y[Pt(h,n)],G=q?q.level:0;return T.createData(a).then(ee=>{if(c){const le=Pt(h,n),K=l.findTree(g,ve=>le===Pt(h,ve),{children:$});K&&(K.item[$]=l.clone(ee,!0)),ee.forEach(ve=>{const de=Pt(h,ve);S[de]=l.clone(ve,!0)})}return l.eachTree(ee,(le,K,ve,de,he,re)=>{const oe=Pt(h,le),Le=he||q.row,Ye={row:le,rowid:oe,seq:-1,index:K,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:ve,parent:Le,level:G+re.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};x[oe]=Ye,y[oe]=Ye},{children:$}),n[$]=ee,O&&(n[L]=l.clone(ee,!1)),Tn(),ee})},loadColumn(n){const{lastScrollLeft:a,lastScrollTop:c}=p,g=l.mapTree(n,x=>un(so.createColumn(h,x)));return hh(g).then(()=>{let x=a,y=c;const S=Nt.value,R=_t.value;S.scrollToLeftOnChange&&(x=0),R.scrollToTopOnChange&&(y=0),_i(h,x,y)})},reloadColumn(n){return T.clearAll().then(()=>T.loadColumn(n))},getRowNode(n){if(n){const{fullAllDataRowIdData:a}=p,c=n.getAttribute("rowid");if(c){const g=a[c];if(g)return{rowid:g.rowid,item:g.row,index:g.index,items:g.items,parent:g.parent}}}return null},getColumnNode(n){if(n){const{fullColumnIdData:a}=p,c=n.getAttribute("colid");if(c){const g=a[c];if(g)return{colid:g.colid,item:g.column,index:g.index,items:g.items,parent:g.parent}}}return null},getRowSeq:Cs("seq"),getRowIndex:Cs("index"),getVTRowIndex:Cs("_index"),getVMRowIndex:Cs("$index"),getColumnIndex:Mc("index"),getVTColumnIndex:Mc("_index"),getVMColumnIndex:Mc("$index"),createData(n){return pe().then(()=>un(N.defineField(n)))},createRow(n){const a=l.isArray(n);return a||(n=[n||{}]),T.createData(n).then(c=>a?c:c[0])},revertData(n,a){const{keepSource:c,treeConfig:g}=e,{fullAllDataRowIdData:x,fullDataRowIdData:y,tableSourceData:S,sourceDataRowIdData:R,tableFullData:O,afterFullData:L,removeRowMaps:$}=p,q=uo.value,{transform:G}=q,{handleGetRowId:ee}=gn(h);if(!c)return Bt("vxe.error.reqProp",["keep-source"]),pe();let le=n;n?l.isArray(n)||(le=[n]):le=l.toArray(h.getUpdateRecords());let K=!1;return le.length&&le.forEach(ve=>{const de=ee(ve),he=x[de];if(he){const re=he.row;if(!h.isInsertByRow(re)){const oe=R[de];oe&&re&&(a?l.set(re,a,l.clone(l.get(oe,a),!0)):l.destructuring(re,l.clone(oe,!0)),!y[de]&&h.isRemoveByRow(re)&&($[de]&&delete $[de],O.unshift(re),L.unshift(re),K=!0))}}}),n?(K&&(v.removeRowFlag++,h.updateFooter(),h.cacheRowMap(!1),h.handleTableData(g&&G),g&&G||h.updateAfterDataIndex(),h.checkSelectionStatus(),v.scrollYLoad&&h.updateScrollYSpace()),pe().then(()=>(h.updateCellAreas(),Un(!1,!0,!0)))):h.reloadData(S)},clearData(n,a){const{tableFullData:c,visibleColumn:g}=p;return arguments.length?n&&!l.isArray(n)&&(n=[n]):n=c,a?n.forEach(x=>l.set(x,a,null)):n.forEach(x=>{g.forEach(y=>{y.field&&Kr(x,y,null)})}),pe()},getCellElement(n,a){const{elemStore:c}=p,g=Jo(h,a);if(!g)return null;const x=Pt(h,n),y=eo(c["main-body-scroll"]),S=eo(c["left-body-scroll"]),R=eo(c["right-body-scroll"]);let O;return g&&(g.fixed&&(g.fixed==="left"?S&&(O=S):R&&(O=R)),O||(O=y),O)?O.querySelector(`.vxe-body--row[rowid="${x}"] .${g.id}`):null},getCellLabel(n,a){const c=Jo(h,a);if(!c)return null;const{formatter:g}=c,x=On(n,c);let y=x;if(g){let S;const{fullAllDataRowIdData:R}=p,O=Pt(h,n),L=c.id,$=R[O];if($&&(S=$.formatData,S||(S=R[O].formatData={}),$&&S[L]&&S[L].value===x))return S[L].label;const q={cellValue:x,row:n,rowIndex:h.getRowIndex(n),column:c,columnIndex:h.getColumnIndex(c)};if(l.isString(g)){const G=$s.get(g),ee=G?G.tableCellFormatMethod||G.cellFormatMethod:null;y=ee?ee(q):""}else if(l.isArray(g)){const G=$s.get(g[0]),ee=G?G.tableCellFormatMethod||G.cellFormatMethod:null;y=ee?ee(q,...g.slice(1)):""}else y=g(q);S&&(S[L]={value:x,label:y})}return y},getFooterCellLabel(n,a){const c=Jo(h,a);if(!c)return null;const{footerFormatter:g}=c,x=h.getVTColumnIndex(c);let y="";l.isArray(n)?y=n[x]:y=l.get(n,c.field);let S=y;if(g){let R;const{footerTableData:O}=v,{footerFullDataRowData:L}=p,$=c.id,q=O.indexOf(n);let G=null;if(q>-1&&(G=L[q],G||(G=L[q]={}),R=G.formatData,R||(R=L[q].formatData={}),G&&R[$]&&R[$].value===y))return R[$].label;const ee={cellValue:y,itemValue:y,row:n,items:n,$rowIndex:q,column:c,_columnIndex:x,columnIndex:h.getColumnIndex(c)};if(l.isString(g)){const le=$s.get(g),K=le?le.tableFooterCellFormatMethod:null;S=K?K(ee):""}else if(l.isArray(g)){const le=$s.get(g[0]),K=le?le.tableFooterCellFormatMethod:null;S=K?K(ee,...g.slice(1)):""}else S=g(ee);R&&(R[$]={value:y,label:S})}return S},isInsertByRow(n){const a=Pt(h,n);return!!v.insertRowFlag&&!!p.insertRowMaps[a]},isRemoveByRow(n){const a=Pt(h,n);return!!v.removeRowFlag&&!!p.removeRowMaps[a]},removeInsertRow(){const{insertRowMaps:n}=p;return h.remove(l.values(n))},isUpdateByRow(n,a){const{keepSource:c}=e,{tableFullColumn:g,fullDataRowIdData:x,sourceDataRowIdData:y}=p;if(c){const S=l.isString(n)||l.isNumber(n)?n:Pt(h,n),R=x[S];if(!R)return!1;const O=R.row,L=y[S];if(L){if(arguments.length>1)return!tl(L,O,a);for(let $=0,q=g.length;$<q;$++){const G=g[$].field;if(G&&!tl(L,O,G))return!0}}}return!1},getColumns(n){const{visibleColumn:a}=p;return l.isUndefined(n)?a.slice(0):a[n]},getColid(n){const a=Jo(h,n);return a?a.id:null},getColumnById(n){const{fullColumnIdData:a}=p;return n&&a[n]?a[n].column:null},getColumnByField(n){const a=p.fullColumnFieldData;return n&&a[n]?a[n].column:null},getParentColumn(n){const{fullColumnIdData:a}=p,c=Jo(h,n);return c&&c.parentId&&a[c.parentId]?a[c.parentId].column:null},getTableColumn(){return{collectColumn:p.collectColumn.slice(0),fullColumn:p.tableFullColumn.slice(0),visibleColumn:p.visibleColumn.slice(0),tableColumn:v.tableColumn.slice(0)}},moveColumnTo(n,a,c){const{fullColumnIdData:g,visibleColumn:x}=p,{dragToChild:y,dragPos:S,isCrossDrag:R}=Object.assign({},c),O=Jo(h,n);let L=null;const $=O?g[O.id]:null;let q="left";if(l.isNumber(a)){if($&&a){let G=$.items,ee=$._index+a;R&&(G=x,ee=$._index+a),ee>0&&ee<G.length-1&&(L=G[ee]),a>0&&(q="right")}}else{L=Jo(h,a);const G=L?g[L.id]:null;$&&G&&G._index>$._index&&(q="right")}return h.handleColDragSwapEvent(null,!0,O,L,S||q,y===!0)},moveRowTo(n,a,c){const{treeConfig:g}=e,{fullAllDataRowIdData:x,afterFullData:y}=p,{dragToChild:S,dragPos:R,isCrossDrag:O}=Object.assign({},c),L=uo.value,$=gC(h,n);let q=null,G="top";const ee=$?x[Pt(h,$)]:null;if(l.isNumber(a)){if(ee&&a){let K=y,ve=ee._index+a;g&&(K=ee.items,L.transform&&(ve=ee.treeIndex+a,O&&(K=y,ve=ee._index+a))),ve>=0&&ve<=K.length-1&&(q=K[ve]),a>0&&(G="bottom")}}else{q=gC(h,a);const K=q?x[Pt(h,q)]:null;ee&&K&&K._index>ee._index&&(G="bottom")}return h.handleRowDragSwapEvent(null,!0,$,q,R||G,S===!0)},getFullColumns(){const{collectColumn:n}=p;return n.slice(0)},getData(n){const a=e.data||p.tableSynchData;return l.isUndefined(n)?a.slice(0):a[n]},getCheckboxRecords(n){const{treeConfig:a}=e,{updateCheckboxFlag:c}=v,{tableFullData:g,afterFullData:x,tableFullTreeData:y,fullDataRowIdData:S,afterFullRowMaps:R,selectCheckboxMaps:O}=p,L=uo.value,$=Ue.value,{transform:q,mapChildrenField:G}=L,{checkField:ee}=$,le=L.children||L.childrenField;let K=[];if(c)if(ee)if(a){const ve=n?q?y:g:q?y:x;K=l.filterTree(ve,de=>l.get(de,ee),{children:q?G:le})}else K=(n?g:x).filter(de=>l.get(de,ee));else{const ve=n||a&&!q?S:R;l.each(O,(de,he)=>{ve[he]&&K.push(S[he].row)})}return K},getTreeRowChildren(n){const{treeConfig:a}=e,{fullAllDataRowIdData:c}=p,g=uo.value,{transform:x,mapChildrenField:y}=g,S=g.children||g.childrenField;if(n&&a){let R;if(l.isString(n)?R=n:R=Pt(h,n),R){const O=c[R],L=O?O.row:null;if(L)return L[x?y:S]||[]}}return[]},getTreeRowLevel(n){const{treeConfig:a}=e,{fullAllDataRowIdData:c}=p;if(n&&a){let g;if(l.isString(n)?g=n:g=Pt(h,n),g){const x=c[g];if(x)return x.level}}return-1},getTreeParentRow(n){const{treeConfig:a}=e,{fullAllDataRowIdData:c}=p;if(n&&a){let g;if(l.isString(n)?g=n:g=Pt(h,n),g){const x=c[g];if(x)return x.parent}}return null},getParentRow(n){return Ut("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),h.getTreeParentRow(n)},getRowById(n){const{fullAllDataRowIdData:a}=p,c=l.eqNull(n)?"":encodeURIComponent(n||"");return a[c]?a[c].row:null},getRowid(n){return Pt(h,n)},getTableData(){const{tableData:n,footerTableData:a}=v,{tableFullData:c,afterFullData:g,tableFullTreeData:x}=p;return{fullData:e.treeConfig?x.slice(0):c.slice(0),visibleData:g.slice(0),tableData:n.slice(0),footerData:a.slice(0)}},getFullData(){const{treeConfig:n}=e,{tableFullData:a,tableFullTreeData:c}=p;if(n){const g=uo.value,{transform:x,mapChildrenField:y,rowField:S,parentField:R}=g,O=g.children||g.childrenField;return x?l.toArrayTree(l.toTreeArray(c,{children:y}),{key:S,parentKey:R,children:O,mapChildren:y}):c.slice(0)}return a.slice(0)},setColumnFixed(n,a){let c=!1;const g=l.isArray(n)?n:[n],x=Qe.value,y=Qr.value;for(let S=0;S<g.length;S++){const R=g[S],O=Jo(h,R),L=bC(h,O);if(L&&L.fixed!==a){if(!L.fixed&&y)return Ee.modal&&Ee.modal.message({status:"error",content:Wr("vxe.table.maxFixedCol",[x.maxFixedSize])}),pe();l.eachTree([L],$=>{$.fixed=a,$.renderFixed=a}),N.saveCustomStore("update:fixed"),c||(c=!0)}}return c?T.refreshColumn():pe()},clearColumnFixed(n){let a=!1;return(l.isArray(n)?n:[n]).forEach(g=>{const x=Jo(h,g),y=bC(h,x);y&&y.fixed&&(l.eachTree([y],S=>{S.fixed=null,S.renderFixed=null}),N.saveCustomStore("update:fixed"),a||(a=!0))}),a?T.refreshColumn():pe()},hideColumn(n){let a=!1;return(l.isArray(n)?n:[n]).forEach(g=>{const x=Jo(h,g);x&&x.visible&&(x.visible=!1,a||(a=!0))}),a?N.handleCustom():pe()},showColumn(n){let a=!1;return(l.isArray(n)?n:[n]).forEach(g=>{const x=Jo(h,g);x&&!x.visible&&(x.visible=!0,a||(a=!0))}),a?N.handleCustom():pe()},setColumnWidth(n,a){const{elemStore:c}=p;let g=!1;const x=l.isArray(n)?n:[n];let y=l.toInteger(a);if(ei(a)){const S=eo(c["main-body-scroll"]),R=S?S.clientWidth-1:0;y=Math.floor(y*R)}return y&&(x.forEach(S=>{const R=Jo(h,S);R&&(R.resizeWidth=y,g||(g=!0))}),g)?h.refreshColumn().then(()=>({status:g})):pe().then(()=>({status:g}))},getColumnWidth(n){const a=Jo(h,n);return a?a.renderWidth:0},resetColumn(n){return Ut("vxe.error.delFunc",["resetColumn","resetCustom"]),h.resetCustom(n)},refreshColumn(n){return n&&gh(),Tc(!0).then(()=>h.refreshScroll()).then(()=>Un(!1,!0,!0))},setRowHeightConf(n){const{fullAllDataRowIdData:a}=p;let c=!1;return n&&(l.each(n,(g,x)=>{const y=a[x];if(y){const S=l.toInteger(g);S&&(y.resizeHeight=S,c||(c=!0))}}),c&&(p.isResizeCellHeight=!0,v.resizeHeightFlag++)),pe().then(()=>(Gn(),{status:c}))},getRowHeightConf(n){const{fullAllDataRowIdData:a,afterFullData:c}=p,{handleGetRowId:g}=gn(h),x=P.value,y=yt.value,S=Be.value,R={};return c.forEach(O=>{const L=g(O),$=a[L];if($){const q=$.resizeHeight;if(q||n){const G=q||y.height||x.height||$.height||S;R[L]=G}}}),R},recalcRowHeight(n){const{fullAllDataRowIdData:a}=p,c=l.isArray(n)?n:[n],g=k.value;if(g){const{handleGetRowId:x}=gn(h);g.setAttribute("data-calc-row","Y"),c.forEach(y=>{const S=l.isString(y)||l.isNumber(y)?y:x(y),R=a[S];R&&(R.resizeHeight=po(R,g)),g.removeAttribute("data-calc-row")}),v.calcCellHeightFlag++}return pe()},setRowHeight(n,a){const{fullAllDataRowIdData:c}=p;let g=!1;const x=l.isArray(n)?n:[n];let y=l.toInteger(a);if(ei(a)){const S=_.value,R=S?S.$el:null,O=R?R.clientHeight-1:0;y=Math.floor(y*O)}if(y){const{handleGetRowId:S}=gn(h);x.forEach(R=>{const O=l.isString(R)||l.isNumber(R)?R:S(R),L=c[O];L&&(L.resizeHeight=y,g||(g=!0))}),g&&(p.isResizeCellHeight=!0,v.resizeHeightFlag++)}return pe().then(()=>({status:g}))},getRowHeight(n){const{fullAllDataRowIdData:a}=p,c=P.value,g=yt.value,x=Be.value,y=l.isString(n)||l.isNumber(n)?n:Pt(h,n),S=a[y];return S?S.resizeHeight||g.height||c.height||S.height||x:0},refreshScroll(){const{elemStore:n,lastScrollLeft:a,lastScrollTop:c}=p,g=eo(n["main-header-scroll"]),x=eo(n["main-body-scroll"]),y=eo(n["main-footer-scroll"]),S=eo(n["left-body-scroll"]),R=eo(n["right-body-scroll"]),O=Z.value,L=Ne.value;return new Promise($=>{if(a||c)return _i(h,a,c).then(()=>{setTimeout($,10)});p.intoRunScroll=!0,jo(L,c),jo(x,c),jo(S,c),jo(R,c),Xo(O,a),Xo(x,a),Xo(g,a),Xo(y,a),setTimeout(()=>{p.intoRunScroll=!1,$()},10)})},recalculate(n){const a=!!n;return Un(a,a,a)},openTooltip(n,a){const c=B.value;return c&&c.open?c.open(n,a):pe()},closeTooltip(){const{tooltipStore:n}=v,a=J.value,c=B.value;return n.visible&&(Object.assign(n,{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}}),a&&a.close&&a.close()),c&&c.close&&c.close(),pe()},isAllCheckboxChecked(){return v.isAllSelected},isAllCheckboxIndeterminate(){return!v.isAllSelected&&v.isIndeterminate},getCheckboxIndeterminateRecords(n){const{treeConfig:a}=e,{fullDataRowIdData:c,treeIndeterminateRowMaps:g}=p;if(a){const x=[],y=[];return l.each(g,(S,R)=>{S&&(x.push(S),c[R]&&y.push(S))}),n?x:y}return[]},setCheckboxRow(n,a){return n&&!l.isArray(n)&&(n=[n]),ga(n,a,!0)},setCheckboxRowKey(n,a){const{fullAllDataRowIdData:c}=p;l.isArray(n)||(n=[n]);const g=[];return n.forEach(x=>{const y=c[x];y&&g.push(y.row)}),ga(g,a,!0)},isCheckedByCheckboxRow(n){const{updateCheckboxFlag:a}=v,{selectCheckboxMaps:c}=p,g=Ue.value,{checkField:x}=g;return x?l.get(n,x):!!a&&!!c[Pt(h,n)]},isCheckedByCheckboxRowKey(n){const{updateCheckboxFlag:a}=v,{fullAllDataRowIdData:c,selectCheckboxMaps:g}=p,x=Ue.value,{checkField:y}=x;if(y){const S=c[n];return S?l.get(S.row,y):!1}return!!a&&!!g[n]},isIndeterminateByCheckboxRow(n){const{treeIndeterminateRowMaps:a}=p;return!!a[Pt(h,n)]&&!h.isCheckedByCheckboxRow(n)},isIndeterminateByCheckboxRowKey(n){const{treeIndeterminateRowMaps:a}=p;return!!a[n]&&!h.isCheckedByCheckboxRowKey(n)},toggleCheckboxRow(n){const{selectCheckboxMaps:a}=p,c=Ue.value,{checkField:g}=c,x=g?!l.get(n,g):!a[Pt(h,n)];return N.handleBatchSelectRows([n],x,!0),N.checkSelectionStatus(),pe()},setAllCheckboxRow(n){return Sc(n,!0)},getRadioReserveRecord(n){const{treeConfig:a}=e,{fullDataRowIdData:c,radioReserveRow:g,afterFullData:x}=p,y=ot.value,S=uo.value,R=S.children||S.childrenField;if(y.reserve&&g){const O=Pt(h,g);if(n){if(!c[O])return g}else{const L=Ga(h);if(a){if(l.findTree(x,q=>O===l.get(q,L),{children:R}))return g}else if(!x.some($=>O===l.get($,L)))return g}}return null},clearRadioReserve(){return p.radioReserveRow=null,pe()},getCheckboxReserveRecords(n){const{treeConfig:a}=e,{afterFullData:c,fullDataRowIdData:g,checkboxReserveRowMap:x}=p,y=Ue.value,S=uo.value,R=S.children||S.childrenField,O=[];if(y.reserve){const{handleGetRowId:L}=gn(h),$={};a?l.eachTree(c,q=>{$[L(q)]=1},{children:R}):c.forEach(q=>{$[L(q)]=1}),l.each(x,(q,G)=>{q&&(n?g[G]||O.push(q):$[G]||O.push(q))})}return O},clearCheckboxReserve(){return p.checkboxReserveRowMap={},pe()},toggleAllCheckboxRow(){return bh(null,!v.isAllSelected),pe()},clearCheckboxRow(){const{treeConfig:n}=e,{tableFullData:a}=p,c=uo.value,g=c.children||c.childrenField,x=Ue.value,{checkField:y,reserve:S}=x,R=x.indeterminateField||x.halfField;if(y){const O=L=>{n&&R&&l.set(L,R,!1),l.set(L,y,!1)};n?l.eachTree(a,O,{children:g}):a.forEach(O)}return S&&a.forEach(O=>pa(O,!1)),v.isAllSelected=!1,v.isIndeterminate=!1,p.selectCheckboxMaps={},p.treeIndeterminateRowMaps={},v.updateCheckboxFlag++,pe()},setCurrentRow(n){const a=p.xeGanttView,c=P.value,g=k.value;return T.clearCurrentRow(),v.currentRow=n,(c.isCurrent||e.highlightCurrentRow)&&g&&l.arrayEach(g.querySelectorAll(`[rowid="${Pt(h,n)}"]`),x=>Dr(x,"row--current")),a&&a.handleUpdateCurrentRow&&a.handleUpdateCurrentRow(n),pe()},isCheckedByRadioRow(n){const{selectRadioRow:a}=v;return n&&a?h.eqRow(a,n):!1},isCheckedByRadioRowKey(n){const{selectRadioRow:a}=v;return a?n===Pt(h,a):!1},setRadioRow(n){return Ei(n,!0)},setRadioRowKey(n){const{fullAllDataRowIdData:a}=p,c=a[n];return c?Ei(c.row,!0):pe()},clearCurrentRow(){const n=p.xeGanttView,a=k.value;return v.currentRow=null,p.hoverRow=null,a&&l.arrayEach(a.querySelectorAll(".row--current"),c=>Xn(c,"row--current")),n&&n.handleUpdateCurrentRow&&n.handleUpdateCurrentRow(),pe()},clearRadioRow(){return v.selectRadioRow=null,pe()},getCurrentRecord(n){const{currentRow:a}=v,{fullDataRowIdData:c,afterFullRowMaps:g}=p;if(P.value.isCurrent||e.highlightCurrentRow){const y=Pt(h,a);if(n){if(c[y])return a}else if(g[y])return a}return null},getRadioRecord(n){const{fullDataRowIdData:a,afterFullRowMaps:c}=p,{selectRadioRow:g}=v;if(g){const x=Pt(h,g);if(n){if(a[x])return g}else if(c[x])return g}return null},getCurrentColumn(){return Qe.value.isCurrent||e.highlightCurrentColumn?v.currentColumn:null},setCurrentColumn(n){const{mouseConfig:a}=e,c=Rt.value,g=a&&c.selected,x=Jo(h,n);return x&&(h.clearCurrentColumn(),v.currentColumn=x),pe().then(()=>{g&&h.addCellSelectedClass()})},clearCurrentColumn(){return v.currentColumn=null,pe()},setPendingRow(n,a){const{handleGetRowId:c}=gn(h),{pendingRowMaps:g}=p;return n&&!l.isArray(n)&&(n=[n]),a?n.forEach(x=>{const y=c(x);y&&!g[y]&&(g[y]=x)}):n.forEach(x=>{const y=c(x);y&&g[y]&&delete g[y]}),v.pendingRowFlag++,pe()},togglePendingRow(n){const{handleGetRowId:a}=gn(h),{pendingRowMaps:c}=p;return n&&!l.isArray(n)&&(n=[n]),n.forEach(g=>{const x=a(g);x&&(c[x]?delete c[x]:c[x]=g)}),v.pendingRowFlag++,pe()},hasPendingByRow(n){return T.isPendingByRow(n)},isPendingByRow(n){const{pendingRowMaps:a}=p,c=Pt(h,n);return!!a[c]},getPendingRecords(){const{fullAllDataRowIdData:n,pendingRowMaps:a}=p,c=[];return l.each(a,(g,x)=>{n[x]&&c.push(g)}),c},clearPendingRow(){return p.pendingRowMaps={},v.pendingRowFlag++,pe()},sort(n,a){const c=It.value,{multiple:g,remote:x,orders:y}=c;return n&&l.isString(n)&&(n=[{field:n,order:a}]),l.isArray(n)||(n=[n]),n.length?(g||Ae(),(g?n:[n[0]]).forEach((S,R)=>{let{field:O,order:L}=S,$=O;l.isString(O)&&($=T.getColumnByField(O)),$&&$.sortable&&(y&&y.indexOf(L)===-1&&(L=Wn($)),$.order!==L&&($.order=L),$.sortTime=Date.now()+R)}),x||N.handleTableData(!0),pe().then(()=>(Gn(),T.updateCellAreas(),hn()))):pe()},setSort(n,a){return me(null,n,a)},setSortByEvent(n,a){return me(n,a,!0)},clearSort(n){const a=It.value;if(n){const c=Jo(h,n);c&&(c.order=null)}else Ae();return a.remote||h.handleTableData(!0),pe().then(()=>(Gn(),hn()))},clearSortByEvent(n,a){const{tableFullColumn:c}=p,g=It.value,{multiple:x}=g,y=[];let S=null;return n&&(a?(S=Jo(h,a),S&&(S.order=null)):c.forEach(R=>{R.order&&(R.order=null,y.push(R))}),g.remote||h.handleTableData(!0),x||(S=y[0]),S&&h.handleColumnSortEvent(n,S),x&&y.length&&Mo("clear-all-sort",{$table:h,$event:n,cols:y,sortList:[]},n)),pe().then(()=>(Gn(),hn()))},isSort(n){if(n){const a=Jo(h,n);return a?a.sortable&&!!a.order:!1}return T.getSortColumns().length>0},getSortColumns(){const n=It.value,{multiple:a,chronological:c}=n,g=[],{tableFullColumn:x}=p;return x.forEach(y=>{const{field:S,order:R}=y;y.sortable&&R&&g.push({column:y,field:S,property:S,order:R,sortTime:y.sortTime})}),a&&c&&g.length>1?l.orderBy(g,"sortTime"):g},setFilterByEvent(n,a,c){const g=Jo(h,a);return g&&g.filters?(g.filters=tc(c||[],g.id),h.handleColumnConfirmFilter(g,n)):pe()},closeFilter(){const{filterStore:n}=v,{column:a,visible:c}=n;if(n.isAllSelected=!1,n.isIndeterminate=!1,n.visible=!1,c){const g=a?a.field:null;Mo("filter-visible",{column:a,property:g,field:g,filterList:()=>h.getCheckedFilters(),visible:!1},null)}return pe()},isActiveFilterByColumn(n){const a=Jo(h,n);return a?a.filters&&a.filters.some(c=>c.checked):h.getCheckedFilters().length>0},isFilter(n){return T.isActiveFilterByColumn(n)},clearFilterByEvent(n,a){const{filterStore:c}=v,{tableFullColumn:g}=p,x=$t.value,{multiple:y}=x,S=[];let R=null;if(a?(R=Jo(h,a),R&&h.handleClearFilter(R)):g.forEach(O=>{O.filters&&(S.push(O),h.handleClearFilter(O))}),(!a||R!==c.column)&&Object.assign(c,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),x.remote||h.updateData(),y||(R=S[0]),R){const O=()=>h.getCheckedFilters(),L=[],$=[];R.filters.forEach(G=>{G.checked&&(L.push(G.value),$.push(G.data))});const q={$table:h,$event:n,column:R,field:R.field,property:R.field,values:L,datas:$,filters:O,filterList:O};h.dispatchEvent("filter-change",q,n),h.dispatchEvent("clear-filter",q,n)}return y&&S.length&&Mo("clear-all-filter",{$table:h,$event:n,cols:S,filterList:[]},n),pe()},isRowExpandLoaded(n){const{fullAllDataRowIdData:a}=p,c=a[Pt(h,n)];return c&&!!c.expandLoaded},clearRowExpandLoaded(n){const{fullAllDataRowIdData:a,rowExpandLazyLoadedMaps:c}=p,g=Io.value,{lazy:x}=g,y=Pt(h,n),S=a[y];return x&&S&&(S.expandLoaded=!1,delete c[y]),v.rowExpandedFlag++,pe()},reloadRowExpand(n){const{rowExpandLazyLoadedMaps:a}=p,c=Io.value,{lazy:g}=c,x=Pt(h,n);return g&&!a[x]&&h.clearRowExpandLoaded(n).then(()=>ch(n)),pe()},reloadExpandContent(n){return Ut("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),h.reloadRowExpand(n)},toggleRowExpand(n){return h.setRowExpand(n,!h.isRowExpandByRow(n))},setAllRowExpand(n){const a=uo.value,{tableFullData:c,tableFullTreeData:g}=p,x=a.children||a.childrenField;let y=[];return e.treeConfig?l.eachTree(g,S=>{y.push(S)},{children:x}):y=c,T.setRowExpand(y,n)},setRowExpand(n,a){const{expandColumn:c}=v;let{fullAllDataRowIdData:g,rowExpandedMaps:x,rowExpandLazyLoadedMaps:y}=p;const{handleGetRowId:S}=gn(h),R=Io.value,{reserve:O,lazy:L,accordion:$,toggleMethod:q}=R,G=[],ee=c?h.getColumnIndex(c):-1,le=c?h.getVMColumnIndex(c):-1;if(n){l.isArray(n)||(n=[n]),$&&(x={},p.rowExpandedMaps=x,n=n.slice(n.length-1,n.length));const K=q?n.filter(ve=>q({$table:h,expanded:a,column:c,columnIndex:ee,$columnIndex:le,row:ve,rowIndex:h.getRowIndex(ve),$rowIndex:h.getVMRowIndex(ve)})):n;a?K.forEach(ve=>{const de=S(ve);if(!x[de]){const he=g[de];L&&!he.expandLoaded&&!y[de]?G.push(ch(ve)):x[de]=ve}}):K.forEach(ve=>{const de=S(ve);x[de]&&delete x[de]}),O&&K.forEach(ve=>uh(ve,a))}return v.rowExpandedFlag++,Promise.all(G).then(()=>pe()).then(()=>Un(!0,!0,!0)).then(()=>(Gn(),Gl(),yh(),h.updateCellAreas()))},isRowExpandByRow(n){const{rowExpandedFlag:a}=v,{rowExpandedMaps:c}=p,g=Pt(h,n);return!!a&&!!c[g]},isExpandByRow(n){return Ut("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),T.isRowExpandByRow(n)},clearRowExpand(){const{tableFullData:n,scrollYStore:a}=p,c=Io.value,{reserve:g}=c,x=h.getRowExpandRecords();return p.rowExpandedMaps={},g&&n.forEach(y=>uh(y,!1)),v.rowExpandedFlag++,a.startIndex=0,a.endIndex=1,pe().then(()=>{if(x.length)return Un(!0,!0,!0)}).then(()=>(Gn(),Gl(),yh(),h.updateCellAreas()))},clearRowExpandReserve(){return p.rowExpandedReserveRowMap={},pe()},getRowExpandRecords(){const n=[];return l.each(p.rowExpandedMaps,a=>{a&&n.push(a)}),n},setRowGroups(n){const{aggregateConfig:a,rowGroupConfig:c}=e,g=H.value,{maxGroupSize:x}=g;if(!(a||c))return Bt("vxe.error.reqProp",["aggregate-config"]),pe();const y=n?l.isArray(n)?n:[n]:[];return x&&y.length>x?(Ee.modal&&Ee.modal.message({status:"error",content:Wr("vxe.table.maxGroupCol",[x])}),pe()):y.length?(bs(y.map(S=>l.isString(S)?S:S.field)),ha(p.tableSynchData,!0)):pe()},getRowGroups(){const{aggregateConfig:n,rowGroupConfig:a}=e,{fullColumnFieldData:c}=p;if(n||a){const{rowGroupList:g}=v;return g.map(({field:x})=>{const y=c[x];return y?y.column:{field:x}})}return[]},getRowGroupFields(){return h.getRowGroups().map(n=>n.field)},clearRowGroups(){const{aggregateConfig:n,rowGroupConfig:a}=e;return n||a?(bs([]),ha(p.tableSynchData,!0)):(Bt("vxe.error.reqProp",["aggregate-config"]),pe())},isRowGroupRecord(n){return Ut("vxe.error.delFunc",["isRowGroupRecord","isAggregateRecord"]),h.isAggregateRecord(n)},isRowGroupExpandByRow(n){return Ut("vxe.error.delFunc",["isRowGroupExpandByRow","isAggregateExpandByRow"]),h.isAggregateExpandByRow(n)},isAggregateRecord(n){const{isRowGroupStatus:a}=v;return a&&n.isAggregate},getAggregateContentByRow(n){const{isRowGroupStatus:a}=v;return a&&n&&n.isAggregate?n.groupContent:""},getAggregateRowChildren(n){const a=H.value,{childrenField:c,mapChildrenField:g}=a,{isRowGroupStatus:x}=v;return x&&n&&n.isAggregate&&c&&g?n[g]||[]:[]},isAggregateExpandByRow(n){const{rowGroupExpandedFlag:a}=v,{rowGroupExpandedMaps:c}=p;return!!a&&!!c[Pt(h,n)]},setRowGroupExpand(n,a){return n?(l.isArray(n)||(n=[n]),vh(n,a)):pe()},setRowGroupExpandByField(n,a){const{isRowGroupStatus:c}=v,g=H.value,{childrenField:x}=g;if(n&&(l.isArray(n)||(n=[n]),c)){const y=[],S={};if(n.forEach(R=>{S[R]=!0}),l.eachTree(p.afterGroupFullData,R=>{R.isAggregate&&S[R.groupField]&&y.push(R)},{children:x}),y.length)return vh(y,a)}return pe()},setAllRowGroupExpand(n){const{tableFullGroupData:a}=p,c=H.value,{mapChildrenField:g}=c,x={};return n&&g&&l.eachTree(a,y=>{y[g]&&y[g].length&&(x[Pt(h,y)]=y)},{children:g}),p.rowGroupExpandedMaps=x,nn(),h.handleTableData(),Tn(),v.rowGroupExpandedFlag++,Un(!0,!0,!0)},clearRowGroupExpand(){return p.rowGroupExpandedMaps={},nn(),h.handleTableData(),Tn(),v.rowGroupExpandedFlag++,Un(!0,!0,!0)},getTreeExpandRecords(){const n=[];return l.each(p.treeExpandedMaps,a=>{a&&n.push(a)}),n},isTreeExpandLoaded(n){const{fullAllDataRowIdData:a}=p,c=a[Pt(h,n)];return c&&!!c.treeLoaded},clearTreeExpandLoaded(n){const{fullAllDataRowIdData:a,treeExpandedMaps:c}=p,g=uo.value,{transform:x}=g;return n?(l.isArray(n)||(n=[n]),n.forEach(y=>{const S=Pt(h,y),R=a[S];R&&(R.treeLoaded=!1,c[S]&&delete c[S])})):l.each(a,y=>{y.treeLoaded=!1}),p.treeExpandedMaps={},x&&(nn(),h.handleTableData()),v.treeExpandedFlag++,pe()},reloadTreeExpand(n){const{treeExpandLazyLoadedMaps:a}=p,c=uo.value,g=c.hasChild||c.hasChildField,{transform:x,lazy:y}=c,S=Pt(h,n);return y&&n[g]&&!a[S]?h.clearTreeExpandLoaded(n).then(()=>ih(n)).then(()=>{x&&(nn(),h.handleTableData()),v.treeExpandedFlag++}).then(()=>h.recalculate()):pe()},reloadTreeChilds(n){return Ut("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),h.reloadTreeExpand(n)},toggleTreeExpand(n){return h.setTreeExpand(n,!h.isTreeExpandByRow(n))},setAllTreeExpand(n){const{tableFullData:a}=p,c=uo.value,{transform:g,lazy:x}=c,y=c.children||c.childrenField,S=[];return l.eachTree(a,R=>{const O=R[y];(x||O&&O.length)&&S.push(R)},{children:y}),h.setTreeExpand(S,n).then(()=>{if(g)return nn(),v.treeExpandedFlag++,h.recalculate()})},setTreeExpand(n,a){const c=uo.value,{transform:g}=c;return n&&(l.isArray(n)||(n=[n]),n.length)?g?pS(n,a):mh(n,a):pe()},isTreeExpandByRow(n){const{treeExpandedFlag:a}=v,{treeExpandedMaps:c}=p;return!!a&&!!c[Pt(h,n)]},clearTreeExpand(){const{tableFullTreeData:n}=p,a=uo.value,c=a.children||a.childrenField,{transform:g,reserve:x}=a,y=h.getTreeExpandRecords();return p.treeExpandedMaps={},x&&l.eachTree(n,S=>sh(S,!1),{children:c}),h.handleTableData().then(()=>{g&&(nn(),h.handleTableData()),v.treeExpandedFlag++}).then(()=>{if(Wl(),y.length)return h.recalculate()})},clearTreeExpandReserve(){return p.treeExpandedReserveRowMap={},pe()},getScroll(){return h.getScrollData()},getScrollData(){const{scrollXLoad:n,scrollYLoad:a,scrollbarHeight:c,scrollbarWidth:g}=v,{elemStore:x}=p,y=eo(x["main-body-scroll"]),S=y?y.scrollTop:0,R=y?y.scrollLeft:0,O=y?y.clientHeight:0,L=y?y.clientWidth:0,$=y?y.scrollHeight:0,q=y?y.scrollWidth:0,G=S<=0,ee=S+O>=$,le=R<=0,K=R+L>=q;return{virtualX:n,virtualY:a,isTop:G,isBottom:ee,isLeft:le,isRight:K,scrollbarHeight:c,scrollbarWidth:g,scrollTop:S,scrollLeft:R,scrollHeight:$,scrollWidth:q,clientHeight:O,clientWidth:L}},scrollTo(n,a){const{elemStore:c}=p,g=eo(c["main-header-scroll"]),x=eo(c["main-body-scroll"]),y=eo(c["main-footer-scroll"]),S=eo(c["left-body-scroll"]),R=eo(c["right-body-scroll"]),O=Z.value,L=Ne.value;return p.intoRunScroll=!0,n&&(l.isNumber(n)||(a=n.top,n=n.left)),l.isNumber(n)&&(Xo(O,n),Xo(x,n),Xo(g,n),Xo(y,n),ma()),l.isNumber(a)&&(jo(L,a),jo(x,a),jo(S,a),jo(R,a),Ri()),v.scrollXLoad||v.scrollYLoad?new Promise($=>{setTimeout(()=>{pe(()=>{p.intoRunScroll=!1,$()})},30)}):pe().then(()=>{p.intoRunScroll=!1})},scrollToRow(n,a){const{isAllOverflow:c,scrollYLoad:g,scrollXLoad:x}=v,y=[];return n&&(e.treeConfig?y.push(h.scrollToTreeRow(n)):y.push(xC(h,n))),a&&y.push(wS(a,n)),Promise.all(y).then(()=>{if(n)return!c&&(g||x)&&(Go(),Wt()),pe()})},scrollToColumn(n){const{fullColumnIdData:a}=p,c=Jo(h,n);return c&&a[c.id]?CC(h,c):pe()},clearScroll(){const{elemStore:n,scrollXStore:a,scrollYStore:c}=p,g=eo(n["main-header-scroll"]),x=eo(n["main-body-scroll"]),y=eo(n["main-footer-scroll"]),S=eo(n["left-body-scroll"]),R=eo(n["right-body-scroll"]),O=Z.value,L=Ne.value;return p.intoRunScroll=!0,Xo(O,0),Xo(x,0),Xo(g,0),Xo(y,0),jo(L,0),jo(x,0),jo(S,0),jo(R,0),a.startIndex=0,a.visibleStartIndex=0,a.endIndex=a.visibleSize,a.visibleEndIndex=a.visibleSize,c.startIndex=0,c.visibleStartIndex=0,c.endIndex=c.visibleSize,c.visibleEndIndex=c.visibleSize,pe().then(()=>{p.lastScrollLeft=0,p.lastScrollTop=0,p.intoRunScroll=!1})},updateFooter(){const{showFooter:n,footerData:a,footerMethod:c}=e,{visibleColumn:g,afterFullData:x}=p;let y=[];return n&&a&&a.length?y=a.slice(0):n&&c&&(y=g.length?c({columns:g,data:x,$table:h,$grid:m,$gantt:w}):[]),v.footerTableData=y,h.handleUpdateFooterMerge(),h.dispatchEvent("footer-data-change",{visibleColumn:p.visibleColumn,footData:y},null),pe()},updateStatus(n,a){return pe().then(()=>{const{editRules:c}=e;if(n&&c)return h.handleCellRuleUpdateStatus("change",n,a)})},setMergeCells(n){return e.spanMethod&&Bt("vxe.error.errConflicts",["merge-cells","span-method"]),Gr(n),h.handleUpdateBodyMerge(),pe().then(()=>{const{expandColumn:a}=v,{mergeBodyList:c}=p;return a&&c.length&&Ut("vxe.error.errConflicts",["type=expand","merge-cells | span-method"]),h.updateCellAreas(),hn()})},removeMergeCells(n){e.spanMethod&&Bt("vxe.error.errConflicts",["merge-cells","span-method"]);const a=ql(n);return h.handleUpdateBodyMerge(),pe().then(()=>(h.updateCellAreas(),hn(),a))},getMergeCells(){return p.mergeBodyList.slice(0)},clearMergeCells(){return p.mergeBodyList=[],p.mergeBodyMaps={},p.mergeBodyCellMaps={},v.mergeBodyFlag++,pe().then(()=>hn())},setMergeHeaderCells(n){return rl(n),h.handleUpdateHeaderMerge(),pe().then(()=>hn())},removeMergeHeaderCells(n){const a=ll(n);return h.handleUpdateHeaderMerge(),pe().then(()=>(hn(),a))},getMergeHeaderCells(){return p.mergeHeaderList.slice(0)},clearMergeHeaderCells(){return p.mergeHeaderList=[],p.mergeHeaderMaps={},p.mergeHeaderCellMaps={},v.mergeHeadFlag++,pe().then(()=>hn())},setMergeFooterCells(n){return e.footerSpanMethod&&Bt("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]),al(n),h.handleUpdateFooterMerge(),pe().then(()=>hn())},setMergeFooterItems(n){return h.setMergeFooterCells(n)},removeMergeFooterCells(n){e.footerSpanMethod&&Bt("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]);const a=A(n);return h.handleUpdateFooterMerge(),pe().then(()=>(hn(),a))},removeMergeFooterItems(n){return h.removeMergeFooterCells(n)},getMergeFooterCells(){return p.mergeFooterList.slice(0)},getMergeFooterItems(){return h.getMergeFooterCells()},clearMergeFooterCells(){return p.mergeFooterList=[],p.mergeFooterMaps={},p.mergeFooterCellMaps={},v.mergeFootFlag++,pe().then(()=>hn())},clearMergeFooterItems(){return h.clearMergeFooterCells()},updateCellAreas(){const{mouseConfig:n}=e,a=Rt.value;return n&&a.area&&h.handleRecalculateCellAreaEvent?h.handleRecalculateCellAreaEvent():pe()},getCustomStoreData(){const{id:n}=e,a=er.value,{isRowGroupStatus:c,rowGroupList:g}=v,{fullColumnFieldData:x,collectColumn:y}=p,{storage:S,checkMethod:R,storeOptions:O}=a,L=S===!0,$=Object.assign({},L?{}:S||{},O),q=Bo($.resizable,L),G=Bo($.visible,L),ee=Bo($.fixed,L),le=Bo($.sort,L),K=Bo($.aggGroup,L),ve=Bo($.aggFunc,L),de={},he=[],re={},oe={},Le={},Ye={},We={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0,aggGroupData:void 0,aggFuncData:void 0};if(!n)return S&&Bt("vxe.error.reqProp",["id"]),We;let gt=0,pt=0,ut=0,Lt=0,Mt=0;const Zt={};return l.eachTree(y,(Kt,lo,fo,ao,Jt)=>{const io=Kt.getKey();if(!io){Bt("vxe.error.reqProp",[`${Kt.getTitle()||Kt.type||""} -> column.field=?`]);return}if(Jt){if(le){const Ro=Jt.getKey(),Yt=Zt[Ro];if(pt=1,Yt){const Lo={k:io};Zt[io]=Lo,Yt.c||(Yt.c=[]),Yt.c.push(Lo)}}}else{if(le){pt=1;const Ro={k:io};Zt[io]=Ro,he.push(Ro)}ee&&(Kt.fixed||"")!==(Kt.defaultFixed||"")&&(ut=1,oe[io]=Kt.fixed)}q&&Kt.resizeWidth&&(gt=1,de[io]=Kt.renderWidth),G&&(!R||R({$table:h,column:Kt}))&&(!Kt.visible&&Kt.defaultVisible?(Lt=1,re[io]=!1):Kt.visible&&!Kt.defaultVisible&&(Lt=1,re[io]=!0)),ve&&(Kt.aggFunc||"")!==(Kt.defaultAggFunc||"")&&(Mt=1,Ye[io]=Kt.aggFunc)}),gt&&(We.resizableData=de),pt&&(We.sortData=he),ut&&(We.fixedData=oe),Lt&&(We.visibleData=re),K&&c&&(g.forEach(Kt=>{const lo=x[Kt.field];lo&&(Le[lo.column.getKey()]=!0)}),We.aggGroupData=Le),Mt&&(We.aggFuncData=Ye),We},focus(){return p.isActivated=!0,pe()},blur(){return p.isActivated=!1,pe()},connect(n){return h.connectToolbar(n)},connectToolbar(n){return n?(Ot=n,Ot.syncUpdate({collectColumn:p.collectColumn,$table:h})):Bt("vxe.error.barUnableLink"),pe()}};const ES=n=>{const{editStore:a,ctxMenuStore:c,customStore:g}=v,{mouseConfig:x,editRules:y}=e,S=k.value,R=qe.value,O=Xt.value,L=ht.value,{actived:$}=a,q=I.value,G=V.value,ee=W.value,le=F.value;if(G&&(Po(n,S,"vxe-cell--filter").flag||Po(n,G.getRefMaps().refElem.value).flag||Po(n,document.body,"vxe-table--ignore-clear").flag||N.preventEvent(n,"event.clearFilter",p._currFilterParams,T.closeFilter)),ee&&(g.btnEl===n.target||Po(n,document.body,"vxe-toolbar-custom-target").flag||Po(n,ee.getRefMaps().refElem.value).flag||Po(n,document.body,"vxe-table--ignore-clear").flag||g.visible&&h.closeCustom&&N.preventEvent(n,"event.clearCustom",{},()=>{h.closeCustom(),h.dispatchEvent("custom",{type:"close"},n)})),$.row){if(R.autoClear!==!1){const ve=$.args.cell;(!ve||!Po(n,ve).flag)&&(q&&Po(n,q.$el).flag||(!p._lastCallTime||p._lastCallTime+50<Date.now())&&(Po(n,document.body,"vxe-table--ignore-clear").flag||N.preventEvent(n,"event.clearEdit",$.args,()=>{let de;if(R.mode==="row"){const he=Po(n,S,"vxe-body--row"),re=he.flag?T.getRowNode(he.targetElem):null;de=re?!h.eqRow(re.item,$.args.row):!1}else de=!Po(n,S,"col--edit").flag;if(de||(de=Po(n,S,"vxe-header--row").flag),de||(de=Po(n,S,"vxe-footer--row").flag),!de&&e.height&&!v.overflowY){const he=n.target;Al(he,"vxe-table--body-wrapper")&&(de=n.offsetY<he.clientHeight)}(de||!Po(n,S).flag)&&setTimeout(()=>{h.handleClearEdit(n).then(()=>{!p.isActivated&&y&&O.autoClear&&(v.validErrorMaps={})})})})))}}else if(x&&!Po(n,S).flag&&!(D&&Po(n,D.getRefMaps().refElem.value).flag)&&!(le&&Po(n,le.getRefMaps().refElem.value).flag)&&!(Ot&&Po(n,Ot.getRefMaps().refElem.value).flag)&&(h.clearSelected&&h.clearSelected(),L.autoClear&&h.getCellAreas)){const ve=h.getCellAreas();ve&&ve.length&&!Po(n,document.body,"vxe-table--ignore-areas-clear").flag&&N.preventEvent(n,"event.clearAreas",{},()=>{h.clearCellAreas(),h.clearCopyCellArea(),Mo("clear-cell-area-selection",{cellAreas:ve},n)})}h.closeMenu&&c.visible&&le&&!Po(n,le.getRefMaps().refElem.value).flag&&h.closeMenu();const K=Po(n,D?D.getRefMaps().refElem.value:S).flag;!K&&y&&O.autoClear&&(v.validErrorMaps={}),p.isActivated=K},SS=()=>{T.closeFilter(),h.closeMenu&&h.closeMenu()},RS=()=>{T.closeTooltip(),h.closeMenu&&h.closeMenu()},DS=n=>{const{mouseConfig:a,keyboardConfig:c}=e,{filterStore:g,ctxMenuStore:x,editStore:y}=v,S=Rt.value,R=wt.value,{actived:O}=y;tn.hasKey(n,Sr.ESCAPE)&&N.preventEvent(n,"event.keydown",null,()=>{if(Mo("keydown-start",{},n),c&&a&&S.area&&h.handleKeyboardCellAreaEvent)h.handleKeyboardCellAreaEvent(n);else if((O.row||g.visible||x.visible)&&(n.stopPropagation(),h.closeMenu&&h.closeMenu(),T.closeFilter(),c&&R.isEsc&&O.row)){const $=O.args;h.handleClearEdit(n),S.selected&&pe(()=>h.handleSelected($,n))}Mo("keydown",{},n),Mo("keydown-end",{},n)})},OS=n=>{p.isActivated&&h.preventEvent(n,"event.keydown",null,()=>{const{mouseConfig:a,keyboardConfig:c,treeConfig:g,editConfig:x,highlightCurrentRow:y,highlightCurrentColumn:S}=e,{ctxMenuStore:R,editStore:O,currentRow:L}=v,{afterFullData:$}=p,q=Fo.value,G=on.value,ee=wt.value,le=Rt.value,K=qe.value,ve=uo.value,de=Qo.value,he=P.value,re=Qe.value,{selected:oe,actived:Le}=O,Ye=ve.children||ve.childrenField,We=n.keyCode,gt=tn.hasKey(n,Sr.ESCAPE),pt=tn.hasKey(n,Sr.BACKSPACE),ut=tn.hasKey(n,Sr.TAB),Lt=tn.hasKey(n,Sr.ENTER),Mt=tn.hasKey(n,Sr.SPACEBAR),Zt=tn.hasKey(n,Sr.ARROW_LEFT),Kt=tn.hasKey(n,Sr.ARROW_UP),lo=tn.hasKey(n,Sr.ARROW_RIGHT),fo=tn.hasKey(n,Sr.ARROW_DOWN),ao=tn.hasKey(n,Sr.DELETE),Jt=tn.hasKey(n,Sr.F2),io=tn.hasKey(n,Sr.CONTEXT_MENU),Ro=Ji(n),Yt=n.shiftKey,Lo=n.altKey,ko=Zt||Kt||lo||fo,bo=q&&R.visible&&(Lt||Mt||ko),No=co(x)&&Le.column&&Le.row,So=K.beforeEditMethod||K.activeMethod;if(bo)n.preventDefault(),R.showChild&&ri(R.selected)?h.moveCtxMenu(n,R,"selectChild",Zt,!1,R.selected.children):h.moveCtxMenu(n,R,"selected",lo,!0,de);else if(c&&a&&le.area&&h.handleKeyboardCellAreaEvent)h.handleKeyboardCellAreaEvent(n);else if(gt){if(h.closeMenu&&h.closeMenu(),h.closeFilter(),c&&ee.isEsc&&Le.row){const xo=Le.args;h.handleClearEdit(n),le.selected&&pe(()=>h.handleSelected(xo,n))}}else if(Mt&&c&&ee.isChecked&&oe.row&&oe.column&&(oe.column.type==="checkbox"||oe.column.type==="radio"))n.preventDefault(),oe.column.type==="checkbox"?N.handleToggleCheckRowEvent(n,oe.args):N.triggerRadioRowEvent(n,oe.args);else if(Jt&&co(x))No||oe.row&&oe.column&&(n.preventDefault(),h.handleEdit(oe.args,n));else if(io)p._keyCtx=oe.row&&oe.column&&G.length,clearTimeout(p.keyCtxTimeout),p.keyCtxTimeout=setTimeout(()=>{p._keyCtx=!1},1e3);else if(Lt&&!Lo&&c&&ee.isEnter&&(oe.row||Le.row||g&&(he.isCurrent||y)&&L)){const{isLastEnterAppendRow:xo,beforeEnterMethod:To,enterMethod:sn}=ee;if(Ro){if(Le.row){const Ko=Le.args;h.handleClearEdit(n),le.selected&&pe(()=>{h.handleSelected(Ko,n)})}}else if(oe.row||Le.row){const Ko=oe.row?oe.args:Le.args;if(Yt)ee.enterToTab?h.moveTabSelected(Ko,Yt,n):h.moveEnterSelected(Ko,Zt,!0,lo,!1,n);else if(ee.enterToTab)h.moveTabSelected(Ko,Yt,n);else{const Ao=oe.row||Le.row,mn=oe.column||Le.column,rn=h.getVTRowIndex(Ao),Mn={row:Ao,rowIndex:h.getRowIndex(Ao),$rowIndex:h.getVMRowIndex(Ao),_rowIndex:rn,column:mn,columnIndex:h.getColumnIndex(mn),$columnIndex:h.getVMColumnIndex(mn),_columnIndex:h.getVTColumnIndex(mn),$table:h};if(!To||To(Mn)!==!1){if(xo&&rn>=$.length-1){h.insertAt({},-1).then(({row:In})=>{h.scrollToRow(In,mn),h.handleSelected(Object.assign(Object.assign({},Ko),{row:In}),n)}),h.dispatchEvent("enter-append-row",Mn,n);return}h.moveEnterSelected(Ko,Zt,!1,lo,!0,n),sn&&sn(Mn)}}}else if(g&&(he.isCurrent||y)&&L){const Ko=L[Ye];if(Ko&&Ko.length){n.preventDefault();const Ao=Ko[0],mn={$table:h,row:Ao,rowIndex:h.getRowIndex(Ao),$rowIndex:h.getVMRowIndex(Ao)};h.setTreeExpand(L,!0).then(()=>h.scrollToRow(Ao)).then(()=>h.triggerCurrentRowEvent(n,mn))}}}else if(ko&&c&&ee.isArrow)No||(le.selected&&oe.row&&oe.column?h.moveArrowSelected(oe.args,Zt,Kt,lo,fo,n):((Kt||fo)&&(he.isCurrent||y)&&h.moveCurrentRow(Kt,fo,n),(Zt||lo)&&(re.isCurrent||S)&&h.moveCurrentColumn(Zt,lo,n)));else if(ut&&c&&ee.isTab)oe.row||oe.column?h.moveTabSelected(oe.args,Yt,n):(Le.row||Le.column)&&h.moveTabSelected(Le.args,Yt,n);else if(c&&ee.isDel&&ao&&co(x)&&(oe.row||oe.column)){if(!No){const{delMethod:xo}=ee,To={row:oe.row,rowIndex:T.getRowIndex(oe.row),column:oe.column,columnIndex:T.getColumnIndex(oe.column),$table:h,$grid:m,$gantt:w};(!So||So(To))&&(xo?xo(To):Kr(oe.row,oe.column,null),T.updateFooter(),Mo("cell-delete-value",To,n))}}else if(pt&&c&&ee.isBack&&co(x)&&(oe.row||oe.column)){if(!No){const{backMethod:xo}=ee;if(ee.isDel&&co(x)&&(oe.row||oe.column)){const To={row:oe.row,rowIndex:h.getRowIndex(oe.row),column:oe.column,columnIndex:h.getColumnIndex(oe.column),$table:h,$grid:m,$gantt:w};(!So||So(To))&&(xo?xo(To):(Kr(oe.row,oe.column,null),h.handleEdit(oe.args,n)),Mo("cell-backspace-value",To,n))}}}else if(pt&&c&&g&&ee.isBack&&(he.isCurrent||y)&&L){const{parent:xo}=l.findTree(p.afterTreeFullData,To=>To===L,{children:Ye});if(xo){n.preventDefault();const To={row:xo,rowIndex:h.getRowIndex(xo),$rowIndex:h.getVMRowIndex(xo),$table:h,$grid:m,$gantt:w};h.setTreeExpand(xo,!1).then(()=>h.scrollToRow(xo)).then(()=>h.triggerCurrentRowEvent(n,To))}}else if(c&&co(x)&&ee.isEdit&&!Ro&&(Mt||We>=48&&We<=57||We>=65&&We<=90||We>=96&&We<=111||We>=186&&We<=192||We>=219&&We<=222)){const{editMode:xo,editMethod:To}=ee;if(oe.column&&oe.row&&co(oe.column.editRender)){const sn=K.beforeEditMethod||K.activeMethod,Ko={row:oe.row,rowIndex:h.getRowIndex(oe.row),column:oe.column,columnIndex:h.getColumnIndex(oe.column),$table:h,$grid:m,$gantt:w};(!sn||sn(Object.assign(Object.assign({},oe.args),{$table:h,$grid:m,$gantt:w})))&&(To?To(Ko):(xo!=="insert"&&Kr(oe.row,oe.column,null),h.handleEdit(oe.args,n)))}}Mo("keydown",{},n)})},TS=n=>{const{keyboardConfig:a,mouseConfig:c}=e,{editStore:g,filterStore:x}=v,{isActivated:y}=p,S=Rt.value,R=wt.value,{actived:O}=g;y&&!x.visible&&(O.row||O.column||a&&R.isClip&&c&&S.area&&h.handlePasteCellAreaEvent&&h.handlePasteCellAreaEvent(n),Mo("paste",{},n))},MS=n=>{const{keyboardConfig:a,mouseConfig:c}=e,{editStore:g,filterStore:x}=v,{isActivated:y}=p,S=Rt.value,R=wt.value,{actived:O}=g;y&&!x.visible&&(O.row||O.column||a&&R.isClip&&c&&S.area&&h.handleCopyCellAreaEvent&&h.handleCopyCellAreaEvent(n),Mo("copy",{},n))},IS=n=>{const{keyboardConfig:a,mouseConfig:c}=e,{editStore:g,filterStore:x}=v,{isActivated:y}=p,S=Rt.value,R=wt.value,{actived:O}=g;y&&!x.visible&&(O.row||O.column||a&&R.isClip&&c&&S.area&&h.handleCutCellAreaEvent&&h.handleCutCellAreaEvent(n),Mo("cut",{},n))},wh=()=>{h.closeMenu&&h.closeMenu();const n=k.value;!n||!n.clientWidth||(dh(),h.updateCellAreas())},Es=n=>{const a=J.value;clearTimeout(p.tooltipTimeout),n?T.closeTooltip():a&&a.setActived&&a.setActived(!0)},Pr=()=>{nr=null,M.row=null},Eh=()=>{const{dragRow:n,dragCol:a}=v;(n||a)&&(Ss(),Fc(),va(),Pr(),v.dragRow=null,v.dragCol=null)},Fc=()=>{const n=k.value;if(n){const a="row--drag-origin";l.arrayEach(n.querySelectorAll(`.${a}`),c=>{c.draggable=!1,Xn(c,a)})}},FS=n=>{const a=k.value;if(a){const c="row--drag-origin",g=Pt(h,n);l.arrayEach(a.querySelectorAll(`[rowid="${g}"]`),x=>{Dr(x,c)})}},AS=n=>{const{dragConfig:a}=e,{dragRow:c}=v,g=Ce.value,{tooltipMethod:x}=g,y=x||(a?a.rowTooltipMethod:null);let S="";y?S=`${y({$table:h,row:c})||""}`:S=Wr("vxe.table.dragTip",[n.textContent||""]),v.dragTipText=S},PS=n=>{const a=k.value;if(a){const c=[];l.eachTree([n],x=>{c.push(`[colid="${x.id}"]`)});const g="col--drag-origin";l.arrayEach(a.querySelectorAll(c.join(",")),x=>{Dr(x,g)})}},Ss=()=>{const n=k.value;if(n){const a="col--drag-origin";l.arrayEach(n.querySelectorAll(`.${a}`),c=>{c.draggable=!1,Xn(c,a)})}},kS=n=>{const{dragCol:a}=v,c=He.value,{tooltipMethod:g}=c;let x="";g?x=`${g({$table:h,column:a})||""}`:x=Wr("vxe.table.dragTip",[n.textContent||""]),v.dragTipText=x},Ba=(n,a,c,g,x)=>{let y=k.value;if(w&&a){const{refGanttContainerElem:de}=w.getRefMaps(),he=de.value;he&&(y=he)}if(!y)return;const{overflowX:S,scrollbarWidth:R,overflowY:O,scrollbarHeight:L}=v,{prevDragToChild:$}=p,q=y.getBoundingClientRect(),G=O?R:0,ee=S?L:0,le=y.clientWidth,K=y.clientHeight;if(a){const de=Oe.value;if(de)if(g){const he=mt.value,re=a.getBoundingClientRect();let oe=a.clientHeight;const Le=Math.max(1,re.y-q.y);Le+oe>K-ee&&(oe=K-Le-ee),de.style.display="block",de.style.left=`${he?G:0}px`,de.style.top=`${Le}px`,de.style.height=`${oe}px`,de.style.width=`${le-G}px`,de.setAttribute("drag-pos",x),de.setAttribute("drag-to-child",$?"y":"n")}else de.style.display=""}else if(c){const de=Pe.value;if(de)if(g){const he=nt.value,re=Ie.value,oe=re?re.clientWidth:0,Le=De.value,Ye=Le?Le.clientWidth:0,We=c.getBoundingClientRect();let gt=c.clientWidth;const pt=Math.max(0,We.y-q.y),ut=oe;let Lt=We.x-q.x;Lt<ut&&(gt-=ut-Lt,Lt=ut);const Mt=le-Ye-(Ye?0:G);Lt+gt>Mt&&(gt=Mt-Lt),de.style.display="block",de.style.top=`${pt}px`,de.style.left=`${Lt}px`,de.style.width=`${gt}px`,$?de.style.height=`${We.height}px`:de.style.height=`${K-pt-(he?0:ee)}px`,de.setAttribute("drag-pos",x),de.setAttribute("drag-to-child",$?"y":"n")}else de.style.display=""}const ve=fe.value;ve&&(ve.style.display="block",ve.style.top=`${Math.min(y.clientHeight-y.scrollTop-ve.clientHeight,n.clientY-q.y)}px`,ve.style.left=`${Math.min(y.clientWidth-y.scrollLeft-ve.clientWidth-16,n.clientX-q.x)}px`,ve.setAttribute("drag-status",g?$?"sub":"normal":"disabled"))},va=()=>{const n=fe.value,a=Oe.value,c=Pe.value;n&&(n.style.display=""),a&&(a.style.display=""),c&&(c.style.display="")},Va=()=>{let n=k.value;const a=[".vxe-body--row"];if(w){const{refGanttContainerElem:c}=w.getRefMaps(),g=c.value;g&&(n=g),a.push(".vxe-gantt-view--body-row",".vxe-gantt-view--chart-row")}va(),Fc(),bM(n,a),p.prevDragToChild=!1,v.dragRow=null,v.dragCol=null},Sh=()=>{const n=k.value;va(),Ss(),xM(n,[".vxe-table--column"]),p.prevDragToChild=!1,v.dragRow=null,v.dragCol=null},Ac=(n,a,c,g,x,y,S)=>{const R=x||g;if(!R)return pe();S.cell=g;const{tooltipStore:O}=v,{column:L,row:$}=S,{showAll:q,contentMethod:G}=a,ee=G?G(S):null,le=G&&!l.eqNull(ee),K=le?ee:l.toString(L.type==="html"?R.innerText:R.textContent).trim(),ve=R.scrollWidth>R.clientWidth;if(K&&(q||le||ve)){const de=Ln(K);Object.assign(O,{row:$,column:L,visible:!0,content:de,type:c,currOpts:a}),pe(()=>{const he=J.value;he&&he.open&&he.open(ve?R:y,de)})}return pe()},Di=(n,a)=>{if(n){if(D)return D.callSlot(n,a);if(l.isFunction(n))return Cn(n(a))}return[]};N={getSetupOptions(){return wo()},updateAfterDataIndex:Tn,callSlot:Di,getParentElem(){const n=k.value;if(D){const a=D.getRefMaps().refElem.value;return a?a.parentNode:null}return n?n.parentNode:null},getParentHeight(){const{height:n}=e,a=k.value;if(a){const c=a.parentNode;let g=0,x=0;return c&&(w&&Al(c,"vxe-gantt--table-wrapper")?x=w.getParentHeight():m&&Al(c,"vxe-grid--table-wrapper")?x=m.getParentHeight():(x=c.clientHeight,g=n==="100%"||n==="auto"?Fg(c):0)),Math.floor(x-g)}return 0},getExcludeHeight(){return D?D.getExcludeHeight():0},defineField(n){const{treeConfig:a}=e,c=Io.value,g=uo.value,x=ot.value,y=Ue.value,S=g.children||g.childrenField,R=Ga(h);return l.isArray(n)||(n=[n]),n.map(O=>(p.tableFullColumn.forEach($=>{const{field:q,editRender:G}=$;if(q&&!l.has(O,q)&&!O[q]){let ee=null;if(G){const{defaultValue:le}=G;l.isFunction(le)?ee=le({column:$}):l.isUndefined(le)||(ee=le)}l.set(O,q,ee)}}),[x.labelField,y.checkField,y.labelField,c.labelField].forEach($=>{$&&gl(l.get(O,$))&&l.set(O,$,null)}),a&&g.lazy&&l.isUndefined(O[S])&&(O[S]=null),gl(l.get(O,R))&&l.set(O,R,Qi()),O))},handleTableData(n){const{scrollYLoad:a}=v,{scrollYStore:c,fullDataRowIdData:g}=p,x=p.xeGanttView;let y=p.afterFullData;n&&(wr(),y=nn());const S=a?y.slice(c.startIndex,c.endIndex):y.slice(0),R={};return S.forEach((O,L)=>{const $=Pt(h,O),q=g[$];q&&(q.$index=L),R[$]=O}),v.tableData=S,p.visibleDataRowIdData=R,x&&x.updateViewData&&x.updateViewData(),pe()},cacheRowMap(n){const{treeConfig:a}=e,{isRowGroupStatus:c}=v,{currKeyField:g,fullAllDataRowIdData:x,tableFullData:y,tableFullTreeData:S,tableFullGroupData:R,treeExpandedMaps:O,rowExpandedMaps:L,selectCheckboxMaps:$}=p,q=n?{}:Object.assign({},x),G={},ee={},{handleUpdateRowId:le}=pC(h),K=(ve,de,he,re,oe,Le,Ye,We)=>{let gt=q[Le];ee[Le]&&Bt("vxe.error.repeatKey",[g,Le]),gt||(gt={row:ve,rowid:Le,seq:We,index:-1,_index:-1,$index:-1,treeIndex:de,_tIndex:-1,items:he,parent:oe,level:Ye,height:0,resizeHeight:0,oTop:0,expandHeight:0},G[Le]=gt,q[Le]=gt),gt.treeLoaded=!1,gt.expandLoaded=!1,gt.row=ve,gt.items=he,gt.parent=oe,gt.level=Ye,gt.index=re,gt.treeIndex=de,$[Le]&&($[Le]=ve),L[Le]&&(L[Le]=ve),ee[Le]=!0,G[Le]=gt,q[Le]=gt};if(a){const ve=uo.value,{lazy:de}=ve,he=ve.children||ve.childrenField,re=ve.hasChild||ve.hasChildField;l.eachTree(S,(oe,Le,Ye,We,gt,pt)=>{const ut=le(oe);a&&de&&(oe[re]&&oe[he]===void 0&&(oe[he]=null),O[ut]&&(!oe[he]||!oe[he].length)&&delete O[ut]),K(oe,Le,Ye,gt?-1:Le,gt,ut,pt.length-1,mC(We))},{children:he})}else if(c){const ve=H.value,{mapChildrenField:de}=ve;l.eachTree(R,(he,re,oe,Le,Ye,We)=>{const gt=le(he);K(he,re,oe,Ye?-1:re,Ye,gt,We.length-1,mC(Le))},{children:de})}else y.forEach((ve,de,he)=>{K(ve,de,he,de,null,le(ve),0,de+1)});p.fullDataRowIdData=G,p.fullAllDataRowIdData=q,v.treeExpandedFlag++},cacheSourceMap(n){const{treeConfig:a}=e,c=uo.value,g=l.clone(n,!0),{handleUpdateRowId:x}=pC(h),y={},S=R=>{const O=x(R);y[O]=R};if(a){const R=c.children||c.childrenField;l.eachTree(g,S,{children:c.transform?c.mapChildrenField:R})}else g.forEach(S);p.sourceDataRowIdData=y,p.tableSourceData=g},analyColumnWidth(){const{tableFullColumn:n}=p,a=Qe.value,{width:c,minWidth:g}=a,x=[],y=[],S=[],R=[],O=[],L=[],$=[],q=[];n.forEach(G=>{c&&!G.width&&(G.width=c),g&&!G.minWidth&&(G.minWidth=g),G.visible&&(G.resizeWidth?x.push(G):G.width==="auto"?$.push(G):Ig(G.width)?y.push(G):ei(G.width)?O.push(G):Ig(G.minWidth)?S.push(G):G.minWidth==="auto"?R.push(G):ei(G.minWidth)?L.push(G):q.push(G))}),Object.assign(v.columnStore,{resizeList:x,pxList:y,pxMinList:S,autoMinList:R,scaleList:O,scaleMinList:L,autoList:$,remainList:q})},handleColResizeMousedownEvent(n,a,c){n.stopPropagation(),n.preventDefault();const{column:g}=c,{columnStore:x,overflowX:y,scrollbarHeight:S}=v,{visibleColumn:R}=p,{leftList:O,rightList:L}=x,$=ct.value,q=y?S:0,G=k.value,ee=Ie.value,le=De.value,K=Me.value;if(!K)return;const ve=a==="left",de=a==="right",he=K.firstElementChild,re=nt.value,{clientX:oe}=n,Le=n.target;let Ye=Le.parentElement,We=g;const gt=g.children&&g.children.length;if(gt&&(We=oM(g),gt)){const bo=Ye?Ye.parentElement:null,No=bo?bo.parentElement:null;Ye=No?No.querySelector(`.vxe-header--column[colid="${We.id}"]`):null}if(!Ye)return;const pt=l.assign(c,{cell:Ye,$table:h});let ut=0;const Lt=G.getBoundingClientRect(),Mt=le?le.getBoundingClientRect():null,Zt=Ye.getBoundingClientRect(),Kt=Le.getBoundingClientRect(),lo=Le.clientWidth,fo=l.floor(lo/2),ao=Kt.x-Lt.x+fo,Jt=vC(pt)-fo,io=de?0:Zt.x-Lt.x+lo+Jt,Ro=Zt.x-Lt.x+Ye.clientWidth-Jt;let Yt=0,Lo=0;if(ve||de){let bo=!1;const No=ve?O:L;for(let So=0;So<No.length;So++){const xo=No[So];bo?Yt+=xo.renderWidth:(bo=xo.id===We.id,bo||(Lo+=xo.renderWidth))}}const ko=bo=>{bo.stopPropagation(),bo.preventDefault();const No=G.clientHeight,So=bo.clientX-oe;let xo=ao+So;ve?Mt&&(xo=Math.min(xo,Mt.x-Lt.x-Yt-Jt)):de&&(ee&&(xo=Math.max(xo,ee.clientWidth+Lo+Jt)),xo=Math.min(xo,Ro)),ut=Math.max(xo,io);const To=Math.max(1,ut);if(K.style.left=`${To}px`,K.style.top=`${re?q:0}px`,K.style.height=`${re?No-q:No}px`,$.showDragTip&&he){he.textContent=Wr("vxe.table.resizeColTip",[Math.floor(We.renderWidth+(de?ao-ut:ut-ao))]);const sn=G.clientWidth,Ko=K.clientWidth,Ao=he.clientWidth,mn=he.clientHeight;let rn=-Ao;To<Ao+Ko?rn=0:To>sn&&(rn+=sn-To),he.style.left=`${rn}px`,he.style.top=`${Math.min(No-mn,Math.max(0,bo.clientY-Lt.y-mn/2))}px`}v.isDragResize=!0};v.isDragResize=!0,Dr(G,"col-drag--resize"),K.style.display="block",document.onmousemove=ko,document.onmouseup=function(bo){document.onmousemove=null,document.onmouseup=null,K.style.display="none",p._lastResizeTime=Date.now(),setTimeout(()=>{v.isDragResize=!1},50);const No=We.renderWidth+(de?ao-ut:ut-ao),So=Object.assign(Object.assign({},c),{resizeWidth:No,resizeColumn:We});$.dragMode==="fixed"&&R.forEach(xo=>{xo.id!==We.id&&(xo.resizeWidth||(xo.resizeWidth=xo.renderWidth))}),h.handleColResizeCellAreaEvent?h.handleColResizeCellAreaEvent(bo,So):(We.resizeWidth=No,xh(bo,So)),Xn(G,"col-drag--resize")},ko(n),h.closeMenu&&h.closeMenu()},handleColResizeDblclickEvent(n,a){const c=ct.value,{isDblclickAutoWidth:g}=c,x=k.value;if(g&&x){n.stopPropagation(),n.preventDefault();const{fullColumnIdData:y}=p,{column:S}=a;let R=S;S.children&&S.children.length&&l.eachTree(S.children,ve=>{R=ve});const O=R.id,L=y[O],q=n.target.parentNode,G=Object.assign(a,{cell:q,$table:h}),ee=vC(G);x.setAttribute("data-calc-col","Y");let le=Ve(R,x);x.removeAttribute("data-calc-col"),L&&(le=Math.max(le,L.width)),le=Math.max(ee,le);const K=Object.assign(Object.assign({},a),{resizeWidth:le,resizeColumn:R});v.isDragResize=!1,p._lastResizeTime=Date.now(),h.handleColResizeDblclickCellAreaEvent?h.handleColResizeDblclickCellAreaEvent(n,K):(R.resizeWidth=le,xh(n,K))}},handleRowResizeMousedownEvent(n,a){n.stopPropagation(),n.preventDefault();const{row:c}=a,{showOverflow:g}=e,{overflowX:x,scrollbarWidth:y,overflowY:S,scrollbarHeight:R}=v,{elemStore:O,fullAllDataRowIdData:L}=p,$=S?y:0,q=x?R:0,G=mt.value,ee=ct.value,le=P.value,K=yt.value;let ve=k.value;if(w){const{refGanttContainerElem:Ro}=w.getRefMaps(),Yt=Ro.value;Yt&&(ve=Yt)}const de=Se.value;if(!de)return;const{clientY:he}=n,re=de.firstElementChild,Le=n.currentTarget.parentNode,Ye=Le.parentNode;if(!eo(O["main-body-scroll"]))return;const gt=Pt(h,c),pt=L[gt];if(!pt)return;const ut=Be.value;let Lt=pt.resizeHeight||K.height||le.height||pt.height||ut;g||(Lt=Le.clientHeight);const Mt=ve.getBoundingClientRect(),Zt=Ye.getBoundingClientRect(),Kt=he-Zt.y-Ye.clientHeight;let lo=Lt;const fo=Le.querySelector(".vxe-cell");let ao=0;if(fo){const Ro=getComputedStyle(fo);ao=Math.max(1,Math.ceil(l.toNumber(Ro.paddingTop)+l.toNumber(Ro.paddingBottom)))}const Jt=Zt.y-Mt.y+ao,io=Ro=>{Ro.stopPropagation(),Ro.preventDefault();const Yt=ve.clientWidth-$,Lo=ve.clientHeight-q;let ko=Ro.clientY-Mt.y-Kt;if(ko<Jt?ko=Jt:lo=Math.max(ao,Lt+Ro.clientY-he),de.style.left=`${G?$:0}px`,de.style.top=`${ko}px`,de.style.width=`${Yt}px`,ee.showDragTip&&re){re.textContent=Wr("vxe.table.resizeRowTip",[lo]);const bo=re.clientWidth,No=re.clientHeight;let So=Math.max(2,Ro.clientX-Mt.x),xo=0;So+bo>=Yt-2&&(So=Yt-bo-2),ko+No>=Lo&&(xo=Lo-(ko+No)),re.style.left=`${So}px`,re.style.top=`${xo}px`}v.isDragResize=!0};v.isDragResize=!0,Dr(ve,"row-drag--resize"),de.style.display="block",document.onmousemove=io,document.onmouseup=function(Ro){if(document.onmousemove=null,document.onmouseup=null,de.style.display="none",p._lastResizeTime=Date.now(),setTimeout(()=>{v.isDragResize=!1},50),lo!==Lt){const Yt=Object.assign(Object.assign({},a),{resizeHeight:lo,resizeRow:c});p.isResizeCellHeight=!0,h.handleRowResizeCellAreaEvent?h.handleRowResizeCellAreaEvent(Ro,Yt):(pt.resizeHeight=lo,Ch(Ro,Yt),Gn())}Xn(ve,"row-drag--resize")},io(n)},handleRowResizeDblclickEvent(n,a){const c=ct.value,{isDblclickAutoHeight:g}=c,x=k.value;if(g&&x){n.stopPropagation(),n.preventDefault();const{editStore:y}=v,{fullAllDataRowIdData:S}=p,{actived:R}=y,{row:O}=a,L=Pt(h,O),$=S[L];if(!$)return;const q=()=>{x.setAttribute("data-calc-row","Y");const G=po($,x);x.removeAttribute("data-calc-row");const ee=Object.assign(Object.assign({},a),{resizeHeight:G,resizeRow:O});v.isDragResize=!1,p._lastResizeTime=Date.now(),h.handleRowResizeDblclickCellAreaEvent?h.handleRowResizeDblclickCellAreaEvent(n,ee):($.resizeHeight=G,Ch(n,ee))};R.row||R.column?h.clearEdit().then(q):q()}},saveCustomStore(n){const{customConfig:a}=e,c=lt.value,g=er.value,{updateStore:x,storage:y,storeOptions:S}=g,R=y===!0,O=Object.assign({},R?{}:y||{},S),L=Bo(O.resizable,R),$=Bo(O.visible,R),q=Bo(O.fixed,R),G=Bo(O.sort,R),ee=Bo(O.aggGroup,R),le=Bo(O.aggFunc,R);if(n!=="reset"&&(v.isCustomStatus=!0),y&&(a?co(g):g.enabled)&&(L||$||q||G||ee||le)){if(!c)return Bt("vxe.error.reqProp",["id"]),pe();const K=n==="reset"?{resizableData:{},sortData:[],visibleData:{},fixedData:{},aggGroupData:{},aggFuncData:{}}:T.getCustomStoreData();if(x)return x({$table:h,id:c,type:n,storeData:K});zl(c,n==="reset"?null:K)}return pe()},handleCustom(){const{mouseConfig:n}=e;return n&&(h.clearSelected&&h.clearSelected(),h.clearCellAreas&&(h.clearCellAreas(),h.clearCopyCellArea())),N.analyColumnWidth(),T.refreshColumn(!0)},handleUpdateDataQueue(){v.upDataFlag++},handleRefreshColumnQueue(){v.reColumnFlag++},handleFilterOptions(n){if(n){const{filterStore:a}=v,{filterRender:c,filters:g}=n,x=g||[],y=co(c)?Cg.get(c.name):null,S=n.filterRecoverMethod||(y?y.tableFilterRecoverMethod||y.filterRecoverMethod:null);a.column=n,x.forEach(R=>{const{_checked:O,checked:L}=R;R._checked=L,!L&&O!==L&&S&&S({option:R,column:n,$table:h})}),h.checkFilterOptions()}},preventEvent(n,a,c,g,x){let y=QC.get(a);!y.length&&a==="event.clearEdit"&&(y=QC.get("event.clearActived"),y.length&&Ut("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let S=null,R=!1;for(let O=0;O<y.length;O++){const L=y[O],$=L(Object.assign({$table:h,$grid:m,gantt:w,$event:n},c));if($===!1){R=!0;break}else if($&&$.status===!1){S=$.result,R=!0;break}}return R||g&&(S=g()),x&&x(),S},updateCheckboxStatus(){const{treeConfig:n}=e,{isRowGroupStatus:a}=v,{afterTreeFullData:c,afterGroupFullData:g,selectCheckboxMaps:x,treeIndeterminateRowMaps:y}=p,S=H.value,R=uo.value,O=R.children||R.childrenField,L=Ue.value,{checkField:$,indeterminateField:q,checkStrictly:G,checkMethod:ee}=L;if(!G){if(a||n){const{handleGetRowId:le}=gn(h),K={},ve=[];if(a){const de=S.mapChildrenField;de&&l.eachTree(g,he=>{const re=le(he),oe=he[de];oe&&oe.length&&!K[re]&&(K[re]=1,ve.unshift([he,re,oe]))},{children:de})}else if(n){const{transform:de,mapChildrenField:he}=R;l.eachTree(c,re=>{const oe=le(re),Le=re[de?he:O];Le&&Le.length&&!K[oe]?(K[oe]=1,ve.unshift([re,oe,Le])):q&&l.set(re,q,!1)},{children:de?he:O})}ve.forEach(de=>{const he=de[0],re=de[1],oe=de[2];let Le=0,Ye=0,We=0;const gt=oe.length;oe.forEach(ee?Lt=>{const Mt=le(Lt),Zt=$?l.get(Lt,$):x[Mt];ee({$table:h,row:Lt})?(Zt?Le++:y[Mt]&&Ye++,We++):Zt?Le++:y[Mt]&&Ye++}:Lt=>{const Mt=le(Lt);($?l.get(Lt,$):x[Mt])?Le++:y[Mt]&&Ye++,We++});let pt=!1;gt>0?We>0?pt=(Le>0||Ye>0)&&Le>=We:Le>0&&Le>=We||x[re]?pt=!0:pt=!1:pt=x[re];const ut=!pt&&(Le>0||Ye>0);$&&l.set(he,$,pt),q&&l.set(he,q,ut),pt?($||(x[re]=he),y[re]&&delete y[re]):($||x[re]&&delete x[re],ut?y[re]=he:y[re]&&delete y[re])})}v.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:n}=e,{isRowGroupStatus:a}=v,{afterFullData:c,afterTreeFullData:g,afterGroupFullData:x,checkboxReserveRowMap:y,selectCheckboxMaps:S,treeIndeterminateRowMaps:R}=p,O=H.value,{mapChildrenField:L}=O,$=Ue.value,{checkField:q,checkMethod:G,showReserveStatus:ee}=$,{handleGetRowId:le}=gn(h);let K=0,ve=0,de=0,he=0,re=0;const oe=n?g:a?x:c;oe.forEach(G?We=>{const gt=le(We),pt=q?l.get(We,q):S[gt];if(a&&h.isAggregateRecord(We)){const ut=We[L||""];pt?(re++,K++):R[gt]?(re++,de++):ut&&ut.length&&ut.some(Lt=>G({$table:h,row:Lt}))&&re++}else G({$table:h,row:We})?(pt?K++:R[gt]&&de++,re++):pt?ve++:R[gt]&&he++}:We=>{const gt=le(We);(q?l.get(We,q):S[gt])?K++:R[gt]&&de++,re++});const Le=oe.length>0?re>0?K>=re:K>=oe.length:!1;let Ye=!Le&&(K>0||de>0||ve>0||he>0);!Le&&!Ye&&ee&&(Ye=!l.isEmpty(y)),v.isAllSelected=Le,v.isIndeterminate=Ye},checkSelectionStatus(){h.updateCheckboxStatus(),h.updateAllCheckboxStatus()},handleBatchSelectRows(n,a,c){const{treeConfig:g}=e,{isRowGroupStatus:x}=v,{selectCheckboxMaps:y}=p,S=H.value,R=uo.value,{transform:O,mapChildrenField:L}=R,$=R.children||R.childrenField,q=Ue.value,{checkField:G,checkStrictly:ee,checkMethod:le}=q,{handleGetRowId:K}=gn(h),ve=q.indeterminateField||q.halfField;if(G){if((g||x)&&!ee){l.eachTree(n,de=>{(c||!le||le({$table:h,row:de}))&&(l.set(de,G,a),ve&&l.set(de,ve,!1),pa(de,a))},{children:O?L:$}),v.updateCheckboxFlag++;return}n.forEach(de=>{(c||!le||le({$table:h,row:de}))&&(l.set(de,G,a),pa(de,a))}),v.updateCheckboxFlag++;return}if(!ee){if(x){l.eachTree(n,de=>{const he=K(de);(c||!le||le({$table:h,row:de}))&&(a?y[he]=de:y[he]&&delete y[he],pa(de,a))},{children:S.mapChildrenField}),v.updateCheckboxFlag++;return}else if(g){l.eachTree(n,de=>{const he=K(de);(c||!le||le({$table:h,row:de}))&&(a?y[he]=de:y[he]&&delete y[he],pa(de,a))},{children:O?L:$}),v.updateCheckboxFlag++;return}}n.forEach(de=>{const he=K(de);(c||!le||le({$table:h,row:de}))&&(a?y[he]||(y[he]=de):y[he]&&delete y[he],pa(de,a),v.updateCheckboxFlag++)})},handleSelectRow({row:n},a,c){h.handleBatchSelectRows([n],a,c)},handleUpdateBodyMerge(){const{mergeBodyList:n}=p;p.mergeBodyCellMaps=or(n),v.mergeBodyFlag++},handleUpdateHeaderMerge(){const{mergeHeaderList:n}=p;p.mergeHeaderCellMaps=or(n),v.mergeHeadFlag++},handleUpdateFooterMerge(){const{mergeFooterList:n}=p;p.mergeFooterCellMaps=or(n),v.mergeFootFlag++},handleAggregateSummaryData(){return sS()},triggerHeaderTitleEvent(n,a,c){const g=a.content||a.message;if(g){const{tooltipStore:x}=v,{column:y}=c,S=vl(g);Es(!0),x.row=null,x.column=y,x.visible=!0,x.currOpts=a,pe(()=>{const R=J.value;R&&R.open&&R.open(n.currentTarget,S)})}},triggerHeaderTooltipEvent(n,a){const{tooltipStore:c}=v,g=mo.value,{column:x}=a;Es(!0);const y=n.currentTarget;if(!y)return;const S=y.parentElement;if(!S)return;const R=S.parentElement;if(!R)return;const O=R.parentElement;if(O&&(c.column!==x||!c.visible)){const L=O.querySelector(".vxe-cell--title");Ac(n,g,"header",O,(Al(O,"col--ellipsis")?L:S)||S,L||R,a)}},triggerBodyTooltipEvent(n,a){const{editConfig:c}=e,{editStore:g}=v,{tooltipStore:x}=v,y=zt.value,S=qe.value,{actived:R}=g,{row:O,column:L}=a,$=n.currentTarget;if(Es(x.column!==L||x.row!==O),!(L.editRender&&co(c)&&(S.mode==="row"&&R.row===O||R.row===O&&R.column===L))&&(x.column!==L||x.row!==O||!x.visible)){const q=$.querySelector(".vxe-cell--wrapper");let G=null,ee=$.querySelector(L.type==="html"?".vxe-cell--html":".vxe-cell--label");L.treeNode&&(G=$.querySelector(".vxe-tree-cell")),ee||(ee=q),Ac(n,y,"body",$,G||q,ee,a)}},triggerFooterTooltipEvent(n,a){const{column:c}=a,{tooltipStore:g}=v,x=Eo.value,y=n.currentTarget;if(Es(g.column!==c||!!g.row),g.column!==c||!g.visible){const S=y.querySelector(".vxe-cell--wrapper");let R=null,O=y.querySelector(c.type==="html"?".vxe-cell--html":".vxe-cell--label");c.type==="html"&&(R=y.querySelector(".vxe-cell--html")),O||(O=S),Ac(n,x,"footer",y,R||S,O,a)}},handleTargetLeaveEvent(){const n=zt.value;let a=J.value;a&&a.setActived&&a.setActived(!1),n.enterable?p.tooltipTimeout=setTimeout(()=>{a=J.value,a&&a.isActived&&!a.isActived()&&h.closeTooltip()},n.leaveDelay):h.closeTooltip()},triggerHeaderCellClickEvent(n,a){const{_lastResizeTime:c}=p,g=It.value,x=Qe.value,y=at.value,{column:S}=a,R=n.currentTarget,O=c&&c>Date.now()-300,L=Po(n,R,"vxe-cell--sort").flag,$=Po(n,R,"vxe-cell--filter").flag;g.trigger==="cell"&&!(O||L||$)&&h.triggerSortEvent(n,S,Wn(S)),Mo("header-cell-click",Object.assign({triggerResizable:O,triggerSort:L,triggerFilter:$,cell:R},a),n),(x.isCurrent||e.highlightCurrentColumn)&&(!y.trigger||["header","default"].includes(y.trigger))&&h.triggerCurrentColumnEvent(n,a)},triggerHeaderCellDblclickEvent(n,a){Mo("header-cell-dblclick",Object.assign({cell:n.currentTarget},a),n)},triggerCellClickEvent(n,a){const{treeConfig:c,highlightCurrentRow:g,highlightCurrentColumn:x,editConfig:y,aggregateConfig:S,rowGroupConfig:R}=e,{editStore:O,isDragResize:L,expandColumn:$,checkboxColumn:q,radioColumn:G}=v;if(L)return;const ee=Io.value,le=qe.value,K=uo.value,ve=ot.value,de=Ue.value,he=wt.value,re=H.value,oe=P.value,Le=Qe.value,Ye=at.value,{actived:We,focused:gt}=O,{row:pt,column:ut}=a,{type:Lt,treeNode:Mt,rowGroupNode:Zt}=ut,Kt=Lt==="radio",lo=Lt==="checkbox",fo=Lt==="expand",ao=n.currentTarget,Jt=Kt&&Po(n,ao,"vxe-cell--radio").flag,io=lo&&Po(n,ao,"vxe-cell--checkbox").flag,Ro=Mt&&Po(n,ao,"vxe-cell--tree-btn").flag,Yt=fo&&Po(n,ao,"vxe-table--expanded").flag,Lo=fo&&Po(n,ao,"vxe-row-group--node-btn").flag;a=Object.assign({cell:ao,triggerRadio:Jt,triggerCheckbox:io,triggerTreeNode:Ro,triggerExpandNode:Yt},a),!io&&!Jt&&(!Yt&&($&&ee.trigger==="row"||fo&&ee.trigger==="cell")&&h.triggerRowExpandEvent(n,a),c&&(K.trigger==="row"||Mt&&K.trigger==="cell")&&h.triggerTreeExpandEvent(n,a),(S||R)&&(re.trigger==="row"||Zt&&re.trigger==="cell")&&h.triggerRowGroupExpandEvent(n,a)),Ro||(!Yt&&!Lo&&((oe.isCurrent||g)&&!io&&!Jt&&h.triggerCurrentRowEvent(n,a),(Le.isCurrent||x)&&(!Ye.trigger||["cell","default"].includes(Ye.trigger))&&!io&&!Jt&&h.triggerCurrentColumnEvent(n,a),!Jt&&(G&&ve.trigger==="row"||Kt&&ve.trigger==="cell")&&h.triggerRadioRowEvent(n,a),!io&&(q&&de.trigger==="row"||lo&&de.trigger==="cell")&&h.handleToggleCheckRowEvent(n,a)),co(y)&&(he.arrowCursorLock&&n&&le.mode==="cell"&&n.target&&/^input|textarea$/i.test(n.target.tagName)&&(gt.column=ut,gt.row=pt),le.trigger==="manual"?We.args&&We.row===pt&&ut!==We.column&&wi(n,a):(!We.args||pt!==We.row||ut!==We.column)&&(le.trigger==="click"||le.trigger==="dblclick"&&le.mode==="row"&&We.row===pt)&&wi(n,a))),co(y)&&le.trigger==="dblclick"&&We.row&&We.column&&(le.mode==="row"?h.eqRow(We.row,pt)||h.handleClearEdit(n):le.mode==="cell"&&(!h.eqRow(We.row,pt)||We.column.id!==ut.id)&&h.handleClearEdit(n)),Mo("cell-click",a,n)},triggerCellDblclickEvent(n,a){const{editConfig:c}=e,{editStore:g,isDragResize:x}=v;if(x)return;const y=qe.value,{actived:S}=g,R=n.currentTarget;a=Object.assign({cell:R},a),co(c)&&y.trigger==="dblclick"&&(!S.args||n.currentTarget!==S.args.cell)&&(y.mode==="row"?Sl("blur").catch(O=>O).then(()=>{h.handleEdit(a,n).then(()=>Sl("change")).catch(O=>O)}):y.mode==="cell"&&h.handleEdit(a,n).then(()=>Sl("change")).catch(O=>O)),Mo("cell-dblclick",a,n)},handleToggleCheckRowEvent(n,a){const{selectCheckboxMaps:c}=p,g=Ue.value,{checkField:x,trigger:y}=g,{row:S}=a;if(y==="manual")return;let R=!1;x?R=!l.get(S,x):R=!c[Pt(h,S)],n?h.triggerCheckRowEvent(n,a,R):(h.handleBatchSelectRows([S],R),h.checkSelectionStatus())},triggerCheckRowEvent(n,a,c){const{treeConfig:g}=e,{row:x}=a,{isRowGroupStatus:y}=v,{afterFullData:S}=p,R=Ue.value,{checkMethod:O,trigger:L}=R;if(L!=="manual"){if(n.stopPropagation(),R.isShiftKey&&n.shiftKey&&!(g||y)){const $=h.getCheckboxRecords();if($.length){const q=$[0],G=h.getVTRowIndex(x),ee=h.getVTRowIndex(q);if(G!==ee){h.setAllCheckboxRow(!1);const le=G<ee?S.slice(G,ee+1):S.slice(ee,G+1);pe(()=>{ga(le,!0,!1)}),Mo("checkbox-range-select",Object.assign({rangeRecords:le},a),n);return}}}(y||!O||O({$table:h,row:x}))&&(h.handleBatchSelectRows([x],c),h.checkSelectionStatus(),Mo("checkbox-change",Object.assign({records:()=>h.getCheckboxRecords(),reserves:()=>h.getCheckboxReserveRecords(),indeterminates:()=>h.getCheckboxIndeterminateRecords(),checked:c},a),n))}},triggerCheckAllEvent(n,a){const c=Ue.value,{trigger:g}=c;g!=="manual"&&(n&&n.stopPropagation(),bh(n,a))},triggerRadioRowEvent(n,a){const{selectRadioRow:c}=v,{row:g}=a,x=ot.value,{trigger:y,checkMethod:S}=x;if(y!=="manual"&&(n.stopPropagation(),!S||S({$table:h,row:g}))){let R=g,O=c!==R;O?Ei(R):x.strict||(O=c===R,O&&(R=null,h.clearRadioRow())),O&&Mo("radio-change",Object.assign({oldValue:c,newValue:R},a),n)}},triggerCurrentColumnEvent(n,a){const{currentColumn:c}=v,g=Qe.value,x=at.value,y=x.beforeSelectMethod||g.currentMethod,{column:S}=a,{trigger:R}=x;if(R==="manual")return;const O=c!==S;!y||y({column:S,$table:h})?(h.setCurrentColumn(S),O&&Mo("current-column-change",Object.assign({oldValue:c,newValue:S},a),n)):Mo("current-column-disabled",a,n)},triggerCurrentRowEvent(n,a){const{currentRow:c}=v,g=P.value,x=Te.value,y=x.beforeSelectMethod||g.currentMethod,{row:S}=a,{trigger:R}=x;if(R==="manual")return;const O=c!==S;!y||y({row:S,$table:h})?(h.setCurrentRow(S),O&&(Mo("current-row-change",Object.assign({oldValue:c,newValue:S},a),n),Mo("current-change",Object.assign({oldValue:c,newValue:S},a),n))):Mo("current-row-disabled",a,n)},triggerRowExpandEvent(n,a){const{expandColumn:c}=v,{rowExpandLazyLoadedMaps:g}=p,x=Io.value,{row:y}=a,{lazy:S,trigger:R}=x;if(R==="manual")return;n.stopPropagation();const O=Pt(h,y);if(!S||!g[O]){const L=!h.isRowExpandByRow(y),$=c?h.getColumnIndex(c):-1,q=c?h.getVMColumnIndex(c):-1;h.setRowExpand(y,L),Mo("toggle-row-expand",{expanded:L,column:c,columnIndex:$,$columnIndex:q,row:y,rowIndex:h.getRowIndex(y),$rowIndex:h.getVMRowIndex(y)},n)}},triggerRowGroupExpandEvent(n,a){const{rowGroupExpandedMaps:c}=p,g=H.value,{row:x,column:y}=a,{trigger:S}=g;if(S==="manual")return;n.stopPropagation();const R=Pt(h,x),O=!c[R],L=h.getColumnIndex(y),$=h.getVMColumnIndex(y);h.setRowGroupExpand(x,O),Mo("toggle-row-group-expand",{expanded:O,column:y,columnIndex:L,$columnIndex:$,row:x},n)},triggerTreeExpandEvent(n,a){const{treeExpandLazyLoadedMaps:c,treeEATime:g}=p,x=uo.value,{row:y,column:S}=a,{lazy:R,trigger:O,accordion:L}=x;if(O==="manual")return;n.stopPropagation();const $=Pt(h,y);if(!R||!c[$]){const q=!h.isTreeExpandByRow(y),G=h.getColumnIndex(S),ee=h.getVMColumnIndex(S);g&&clearTimeout(g),h.setTreeExpand(y,q).then(()=>{L&&(p.treeEATime=setTimeout(()=>{p.treeEATime=void 0,h.scrollToRow(y)},30))}),Mo("toggle-tree-expand",{expanded:q,column:S,columnIndex:G,$columnIndex:ee,row:y},n)}},handleColumnSortEvent(n,a){const{mouseConfig:c}=e,g=Rt.value,{field:x,sortable:y,order:S}=a;if(y){const R={$table:h,$event:n,column:a,field:x,property:x,order:S,sortList:T.getSortColumns(),sortTime:a.sortTime};c&&g.area&&h.handleSortEvent&&h.handleSortEvent(n,R),S||Mo("clear-sort",R,n),Mo("sort-change",R,n)}},triggerSortEvent(n,a,c){const g=It.value,{multiple:x,allowClear:y}=g,{field:S,sortable:R}=a;R&&(!c||a.order===c?y&&h.clearSort(x?a:null):h.sort({field:S,order:c}),h.handleColumnSortEvent(n,a))},handleCellRuleUpdateStatus(n,a,c){const{validStore:g}=v,{row:x,column:y}=a;if(h.hasCellRules&&h.hasCellRules(n,x,y)){const S=h.getCellElement(x,y);if(S){const R=!l.isUndefined(c);return h.validCellRules(n,x,y,c).then(()=>{R&&g.visible&&Kr(x,y,c),h.clearValidate(x,y)}).catch(({rule:O})=>{R&&Kr(x,y,c),h.showValidTooltip({rule:O,row:x,column:y,cell:S})})}}return pe()},triggerHeaderCellMousedownEvent(n,a){const{mouseConfig:c}=e,g=Rt.value,x=Qe.value,y=He.value,{trigger:S,isCrossDrag:R,isPeerDrag:O,disabledMethod:L}=y,$=n.currentTarget,q=$&&$.tagName&&$.tagName.toLowerCase()==="input",G=Po(n,$,"vxe-cell--checkbox").flag,ee=Po(n,$,"vxe-cell--sort").flag,le=Po(n,$,"vxe-cell--filter").flag;let K=!1;const ve=x.drag&&S==="cell";if(!(q||G||ee||le)){const{column:de}=a;ve&&!de.fixed&&(R||O||!de.parentId)&&!(L&&L(a))&&(K=!0,h.handleHeaderCellDragMousedownEvent(n,a))}!K&&c&&g.area&&h.handleHeaderCellAreaMouseDnEvent&&h.handleHeaderCellAreaMouseDnEvent(n,Object.assign({cell:$,triggerSort:ee,triggerFilter:le},a)),h.focus(),h.closeMenu&&h.closeMenu()},triggerCellMousedownEvent(n,a){const{column:c}=a,{type:g,treeNode:x}=c,y=g==="radio",S=g==="checkbox",R=g==="expand",O=P.value,L=Ce.value,{trigger:$,isCrossDrag:q,isPeerDrag:G,disabledMethod:ee}=L,le=n.currentTarget;a.cell=le;const K=le&&le.tagName&&le.tagName.toLowerCase()==="input",ve=y&&Po(n,le,"vxe-cell--radio").flag,de=S&&Po(n,le,"vxe-cell--checkbox").flag,he=x&&Po(n,le,"vxe-cell--tree-btn").flag,re=R&&Po(n,le,"vxe-table--expanded").flag;let oe=!1;O.drag&&(oe=$==="row"||c.dragSort&&$==="cell");let Le=!1;K||ve||de||he||re||oe&&(q||G||!a.level)&&!(ee&&ee(a))&&(Le=!0,h.handleCellDragMousedownEvent(n,a)),!Le&&h.handleCellMousedownEvent&&h.handleCellMousedownEvent(n,a),h.focus(),h.closeFilter(),h.closeMenu&&h.closeMenu()},triggerCellMouseupEvent(){Eh()},handleRowDragDragstartEvent(n){n.dataTransfer&&n.dataTransfer.setDragImage(Mg(),0,0)},handleRowDragSwapEvent(n,a,c,g,x,y){const{treeConfig:S,dragConfig:R}=e,O=Ce.value,{afterFullData:L,tableFullData:$,fullAllDataRowIdData:q}=p,G=p.xeGanttView,{animation:ee,isPeerDrag:le,isCrossDrag:K,isSelfToChildDrag:ve,dragEndMethod:de,dragToChildMethod:he}=O,re=uo.value,oe=yt.value,Le=P.value,Ye=Be.value,{transform:We,rowField:gt,mapChildrenField:pt,parentField:ut}=re,Lt=re.children||re.childrenField,Mt=de||(R?R.dragEndMethod:null),Zt=x==="bottom"?1:0,Kt=k.value,lo={status:!1};if(!(Kt&&g&&c))return Promise.resolve(lo);if(g!==c){const fo={oldRow:c,newRow:g,dragRow:c,dragPos:x,dragToChild:!!y,offsetIndex:Zt},ao=ve&&he?he(fo):y;return Promise.resolve(Mt?Mt(fo):!0).then(Jt=>{if(!Jt)return Va(),Pr(),lo;const io=Pt(h,c),Ro=q[io]||{},Yt=Ro._index;let Lo=0,ko=-1;if(ee){Lo=Rr(Ro,oe,Le,Ye);const So=Kt.querySelector(`.vxe-body--row[rowid="${io}"]`);So&&(ko=So.offsetTop)}let bo=-1,No=-1;if(S){if(We){const So=Ro,xo=Pt(h,g),To=q[xo];if(So&&To){const{level:sn}=So,{level:Ko}=To,Ao={};l.eachTree([c],pn=>{Ao[Pt(h,pn)]=pn},{children:pt});let mn=!1;if(sn&&Ko)if(le&&!K){if(So.row[ut]!==To.row[ut])return lo}else{if(!K)return lo;if(Ao[xo]&&(mn=!0,!(K&&ve)))return Ee.modal&&Ee.modal.message({status:"error",content:Wr("vxe.error.treeDragChild")}),lo}else if(sn){if(!K)return lo}else if(Ko){if(!K)return lo;if(Ao[xo]&&(mn=!0,!(K&&ve)))return Ee.modal&&Ee.modal.message({status:"error",content:Wr("vxe.error.treeDragChild")}),lo}const rn=l.toTreeArray(p.afterTreeFullData,{key:gt,parentKey:ut,children:pt}),Mn=h.findRowIndexOf(rn,c);rn.splice(Mn,1);const Fn=h.findRowIndexOf(rn,g)+Zt;rn.splice(Fn,0,c),mn&&K&&ve&&l.each(c[Lt],pn=>{pn[ut]=c[ut]}),c[ut]=ao?g[gt]:g[ut],p.tableFullTreeData=l.toArrayTree(rn,{key:gt,parentKey:ut,children:Lt,mapChildren:pt})}}}else{bo=h.findRowIndexOf(L,c);const So=h.findRowIndexOf($,c);L.splice(bo,1),$.splice(So,1);const xo=h.findRowIndexOf(L,g),To=h.findRowIndexOf($,g);No=xo+Zt;const sn=To+Zt;L.splice(No,0,c),$.splice(sn,0,c)}return Va(),Pr(),h.handleTableData(S&&We),h.cacheRowMap(!1),Si(),S&&We||h.updateAfterDataIndex(),h.checkSelectionStatus(),v.scrollYLoad&&h.updateScrollYSpace(),n&&Mo("row-dragend",{oldRow:c,newRow:g,dragRow:c,dragPos:x,dragToChild:ao,offsetIndex:Zt,_index:{newIndex:No,oldIndex:bo}},n),pe().then(()=>{if(ee){const{tableData:So}=v,xo=q[io],To=xo._index,sn=So[0],Ko=q[Pt(h,sn)];let Ao=Kt;if(w&&G){const{refGanttContainerElem:In}=w.getRefMaps(),Fn=In.value;Fn&&(Ao=Fn)}if(Ko){const In=Ko._index,Fn=In+So.length;let pn=-1,Wo=-1,An=1;Yt<In?(pn=0,Wo=To-In):Yt>Fn?(pn=xo.$index+1,Wo=So.length,An=-1):To>Yt?(pn=Yt-In,Wo=pn+To-Yt):(pn=To-In,Wo=pn+Yt-To+1,An=-1);const Dl=So.slice(pn,Wo);if(Dl.length){const il=[];Dl.forEach(Ol=>{const Rn=Pt(h,Ol);il.push(`.vxe-body--row[rowid="${Rn}"]`),w&&il.push(`.vxe-gantt-view--body-row[rowid="${Rn}"]`,`.vxe-gantt-view--chart-row[rowid="${Rn}"]`)});const ba=Ao.querySelectorAll(il.join(","));Ds(ba,An*Lo)}}const mn=[`.vxe-body--row[rowid="${io}"]`];w&&mn.push(`.vxe-gantt-view--body-row[rowid="${io}"]`,`.vxe-gantt-view--chart-row[rowid="${io}"]`);const rn=Ao.querySelectorAll(mn.join(",")),Mn=rn[0];ko>-1&&Mn&&Ds(rn,ko-Mn.offsetTop)}Gn(),Gl(),h.updateCellAreas(),h.recalculate()}).then(()=>({status:!0}))}).catch(()=>lo)}return Promise.resolve(lo)},handleCrossTableRowDragCancelEvent(){Va(),Pr()},handleCrossTableRowDragFinishEvent(n){const{tableData:a}=v,{fullAllDataRowIdData:c}=p,g=P.value,x=yt.value,y=Be.value,S=Ce.value,{animation:R,isCrossTableDrag:O}=S,L=uo.value,{mapChildrenField:$}=L,q=k.value;if(O&&nr&&M){const{row:G}=M;if(G){const ee=Pt(h,G),le=c[ee];let K=0,ve=-1;le&&(R&&(K=Rr(le,x,g,y)),ve=le.$index);const de=ve>-1&&ve<a.length-1?a.slice(ve+1):[],he=l.toTreeArray([G],{updated:!0,children:$});h.remove(he).then(()=>{if(R&&K&&de.length){const re=p.xeGanttView;let oe=q;if(w&&re){const{refGanttContainerElem:We}=w.getRefMaps(),gt=We.value;gt&&(oe=gt)}const Le=[];de.forEach(We=>{const gt=Pt(h,We);Le.push(`.vxe-body--row[rowid="${gt}"]`),w&&Le.push(`.vxe-gantt-view--body-row[rowid="${gt}"]`,`.vxe-gantt-view--chart-row[rowid="${gt}"]`)});const Ye=oe.querySelectorAll(Le.join(","));Ds(Ye,K)}}),Mo("row-remove-dragend",{row:G},n),Va(),Pr()}}},handleCrossTableRowDragoverEmptyEvent(n){const{tableData:a}=v,c=Ce.value,{isCrossTableDrag:g}=c;if(g&&nr&&!a.length){const{$oldTable:x,$newTable:y}=nr;if(x){const S=x.reactData;x.xID!==h.xID&&(y&&y.xID!==h.xID&&y.hideCrossTableRowDropClearStatus(),n.preventDefault(),x.hideCrossTableRowDropClearStatus(),nr.$newTable=h,p.prevDragRow=null,v.dragTipText=S.dragTipText,Ba(n,n.currentTarget,null,!0,""))}}},handleCrossTableRowDragInsertEvent(n){const{treeConfig:a}=e,{prevDragRow:c,prevDragPos:g,prevDragToChild:x}=p,y=Ce.value,{animation:S,isSelfToChildDrag:R,isCrossTableDrag:O,dragEndMethod:L,dragToChildMethod:$}=y,q=P.value,G=yt.value,ee=Be.value,le=uo.value,{parentField:K,mapChildrenField:ve}=le,de=le.children||le.childrenField;if(O&&nr&&M){const{row:he}=M,{$oldTable:re}=nr,oe=k.value;if(re&&he){const Le=he;let Ye=-1;c&&(Ye=g==="bottom"?1:0);const We={oldRow:Le,newRow:c,dragRow:Le,dragPos:g,dragToChild:!!x,offsetIndex:Ye},gt=R&&$?$(We):x,pt={status:!1};Promise.resolve(L?L(We):!0).then(ut=>{if(!ut)return re&&re.xID!==h.xID&&re.handleCrossTableRowDragCancelEvent(n),Va(),Pr(),pt;let Lt=Promise.resolve();if(a){const Mt=l.toTreeArray([Le],{updated:!0,children:ve});re.handleCrossTableRowDragFinishEvent(n),c?Le[K]=c[K]:Le[K]=null,Mt.forEach(Zt=>{Zt[de]=void 0,Zt[ve]=void 0}),c?g==="bottom"?Lt=h.insertNextAt(Mt,c):Lt=h.insertAt(Mt,c):Lt=h.insert(Mt)}else re.handleCrossTableRowDragFinishEvent(n),c?g==="bottom"?Lt=h.insertNextAt(Le,c):Lt=h.insertAt(Le,c):Lt=h.insert(Le);Mo("row-insert-dragend",{oldRow:he,newRow:c,dragRow:Le,dragPos:g,dragToChild:gt,offsetIndex:Ye},n),Va(),Lt.then(()=>{const{tableData:Mt}=v,{fullAllDataRowIdData:Zt}=p,Kt=Pt(h,Le),lo=Zt[Kt];let fo=0,ao=-1;lo&&(S&&(fo=Rr(lo,G,q,ee)),ao=lo.$index);const Jt=ao>-1?Mt.slice(ao):[];if(S&&fo&&Jt.length){const io=p.xeGanttView;let Ro=oe;if(w&&io){const{refGanttContainerElem:ko}=w.getRefMaps(),bo=ko.value;bo&&(Ro=bo)}const Yt=[];Jt.forEach(ko=>{const bo=Pt(h,ko);Yt.push(`.vxe-body--row[rowid="${bo}"]`),w&&Yt.push(`.vxe-gantt-view--body-row[rowid="${bo}"]`,`.vxe-gantt-view--chart-row[rowid="${bo}"]`)});const Lo=Ro.querySelectorAll(Yt.join(","));Ds(Lo,-fo)}})})}}},hideCrossTableRowDropClearStatus(){va()},handleRowDragDragendEvent(n){const{treeConfig:a}=e,{fullAllDataRowIdData:c,prevDragToChild:g}=p,{dragRow:x}=v,y=uo.value,{lazy:S}=y,R=y.hasChild||y.hasChildField,{prevDragRow:O,prevDragPos:L}=p,$=Ce.value,{isCrossTableDrag:q}=$;if(q&&nr){const{$newTable:G}=nr;if(G&&G.xID!==h.xID){G.handleCrossTableRowDragInsertEvent(n);return}}if(a&&S&&g){const G=Pt(h,O),ee=c[G];O[R]?ee&&ee.treeLoaded&&h.handleRowDragSwapEvent(n,!0,x,O,L,g):h.handleRowDragSwapEvent(n,!0,x,O,L,g)}else h.handleRowDragSwapEvent(n,!0,x,O,L,g)},handleRowDragDragoverEvent(n){const{treeConfig:a}=e,{fullAllDataRowIdData:c}=p,{dragRow:g}=v,x=uo.value,{lazy:y,transform:S,parentField:R}=x,O=x.hasChild||x.hasChildField,L=Ce.value,{isPeerDrag:$,isCrossDrag:q,isToChildDrag:G,isCrossTableDrag:ee}=L;if(!g&&!(ee&&(!a||q)&&nr)){n.preventDefault();return}const le=Ji(n),K=n.currentTarget,ve=K.getAttribute("rowid")||"",de=c[ve];if(de){n.preventDefault();const he=de.row,re=Pt(h,he),oe=c[re],Ye=n.clientY-K.getBoundingClientRect().y<K.clientHeight/2?"top":"bottom";if(p.prevDragToChild=!!(a&&S&&q&&G&&le),p.prevDragRow=he,p.prevDragPos=Ye,ee&&(!a||q)&&nr){const{$oldTable:We,$newTable:gt}=nr;if(We){const pt=We.reactData;if(We.xID===h.xID)gt&&gt.hideCrossTableRowDropClearStatus(),v.isCrossDragRow=!1,pt.isCrossDragRow=!1,nr.$newTable=null;else{gt&&gt.xID!==h.xID&&gt.hideCrossTableRowDropClearStatus(),We.hideCrossTableRowDropClearStatus(),pt.isCrossDragRow=!0,v.dragTipText=pt.dragTipText,nr.$newTable=h,Ba(n,K,null,!0,Ye);return}}}if(h.eqRow(g,he)||le&&a&&y&&he[O]&&oe&&!oe.treeLoaded||!q&&a&&S&&($?g[R]!==he[R]:de.level)){Ba(n,K,null,!1,Ye);return}Ba(n,K,null,!0,Ye),Mo("row-dragover",{oldRow:g,targetRow:he,dragPos:Ye},n)}},handleCellDragMousedownEvent(n,a){var c;n.stopPropagation();const{dragConfig:g}=e,x=Ce.value,{isCrossTableDrag:y,trigger:S,dragStartMethod:R}=x,{row:O}=a,L=n.currentTarget,$=S==="cell"||S==="row"?L:(c=L.parentElement)===null||c===void 0?void 0:c.parentElement,q=$.parentElement,G=R||(g?g.dragStartMethod:null);if(Fc(),G&&!G(a)){q.draggable=!1,v.dragRow=null,v.dragCol=null,Pr(),va();return}y&&(M.row=O,nr={$oldTable:h,$newTable:null}),v.dragRow=O,v.isCrossDragRow=!1,v.dragCol=null,q.draggable=!0,FS(O),AS($),Mo("row-dragstart",a,n)},handleCellDragMouseupEvent(){Eh()},handleHeaderCellDragDragstartEvent(n){n.dataTransfer&&n.dataTransfer.setDragImage(Mg(),0,0)},handleColDragSwapColumn(){return gh(),Tc(!1).then(()=>{h.updateCellAreas(),h.saveCustomStore("update:sort")})},handleColDragSwapEvent(n,a,c,g,x,y){const{mouseConfig:S}=e,R=He.value,{animation:O,isPeerDrag:L,isCrossDrag:$,isSelfToChildDrag:q,isToChildDrag:G,dragEndMethod:ee,dragToChildMethod:le}=R,{collectColumn:K,fullColumnIdData:ve}=p,de=k.value,he=x==="right"?1:0,re={status:!1};if(!(de&&g&&c))return Promise.resolve(re);if(g!==c){const oe=c,Le=g,Ye={oldColumn:oe,newColumn:Le,dragColumn:oe,dragPos:x,dragToChild:!!y,offsetIndex:he},We=q&&le?le(Ye):y;return Promise.resolve(ee?ee(Ye):!0).then(gt=>{if(!gt)return Sh(),Pr(),re;let pt=null;const ut=[];let Lt=0;O&&l.eachTree([oe],Yt=>{!pt&&(!Yt.children||!Yt.children.length)&&(pt=Yt,Lt+=Yt.renderWidth),ut.push(Yt)}),pt||(pt=oe);const Mt=ve[pt.id]||{},Zt=Mt._index;let Kt=-1;if(O){const Yt=de.querySelector(`.vxe-table--column[colid="${pt.id}"]`);Yt&&(Kt=Yt.offsetLeft)}let lo=-1,fo=-1;const ao={};l.eachTree([oe],Yt=>{ao[Yt.id]=Yt});let Jt=!1;if(oe.parentId&&Le.parentId)if(L&&!$){if(oe.parentId!==Le.parentId)return re}else{if(!$)return re;if(ao[Le.id]&&(Jt=!0,!($&&q)))return Ee.modal&&Ee.modal.message({status:"error",content:Wr("vxe.error.treeDragChild")}),re}else if(oe.parentId){if(!$)return re}else if(Le.parentId){if(!$)return re;if(ao[Le.id]&&(Jt=!0,!($&&q)))return Ee.modal&&Ee.modal.message({status:"error",content:Wr("vxe.error.treeDragChild")}),re}const io=l.findTree(K,Yt=>Yt.id===oe.id);if(Jt&&$&&q){if(io){const{items:Yt,index:Lo}=io,ko=oe.children||[];ko.forEach(bo=>{bo.parentId=oe.parentId}),Yt.splice(Lo,1,...ko),oe.children=[]}}else if(io){const{items:Yt,index:Lo,parent:ko}=io;Yt.splice(Lo,1),ko||(lo=Lo)}const Ro=l.findTree(K,Yt=>Yt.id===Le.id);if(Ro){const{items:Yt,index:Lo,parent:ko}=Ro;$&&G&&We?(oe.parentId=Le.id,Le.children=(Le.children||[]).concat([oe])):(oe.parentId=Le.parentId,Yt.splice(Lo+he,0,oe)),ko||(fo=Lo)}return l.eachTree(K,(Yt,Lo,ko,bo,No)=>{if(!No){const So=Lo+1;Yt.renderSortNumber=So}}),S&&(h.clearSelected&&h.clearSelected(),h.clearCellAreas&&(h.clearCellAreas(),h.clearCopyCellArea())),Sh(),Pr(),n&&Mo("column-dragend",{oldColumn:oe,newColumn:Le,dragColumn:oe,dragPos:x,dragToChild:We,offsetIndex:he,_index:{newIndex:fo,oldIndex:lo}},n),pe().then(()=>{if(a)return h.handleColDragSwapColumn()}).then(()=>{if(O){const{tableColumn:Yt}=v,{visibleColumn:Lo,fullColumnIdData:ko}=p;let bo=null;const No={};if(l.eachTree([oe],So=>{!bo&&(!So.children||!So.children.length)&&(bo=So),No[So.id]=So}),bo||(bo=oe),Lt&&ut.length){const So=l.findIndexOf(Lo,Ao=>!!bo&&Ao.id===bo.id),xo=Yt[0],To=ko[xo.id];if(To){const Ao=To._index,mn=Ao+Yt.length;let rn=-1,Mn=-1,In=1;Zt<Ao?(rn=0,Mn=So-Ao):Zt>mn?(rn=Mt.$index+1,Mn=Yt.length,In=-1):So>Zt?(rn=Zt-Ao,Mn=rn+So-Zt):(rn=So-Ao+1,Mn=rn+Zt-So,In=-1);const Fn=[],pn={};for(let Wo=rn;Wo<Mn;Wo++){const An=Yt[Wo];!pn[An.id]&&!No[An.id]&&(pn[An.id]=An,Fn.push(An))}if(l.eachTree([Le],Wo=>{pn[Wo.id]||(pn[Wo.id]=Wo,Fn.push(Wo))}),Fn.length){const Wo=de.querySelectorAll(Fn.map(An=>`.vxe-table--column[colid="${An.id}"]`).join(","));SC(Wo,In*Lt)}}const sn=de.querySelectorAll(ut.map(Ao=>`.vxe-table--column[colid="${Ao.id}"]`).join(",")),Ko=sn[0];Kt>-1&&Ko&&SC(sn,Kt-Ko.offsetLeft)}}return ws(),ma(),h.updateCellAreas(),{status:!0}})}).catch(()=>re)}return Promise.resolve(re)},handleHeaderCellDragDragendEvent(n){const{dragCol:a}=v,{prevDragCol:c,prevDragPos:g,prevDragToChild:x}=p;h.handleColDragSwapEvent(n,!0,a,c,g,x)},handleHeaderCellDragDragoverEvent(n){const{dragCol:a}=v,c=He.value,{isToChildDrag:g,isPeerDrag:x,isCrossDrag:y}=c;if(!a){n.preventDefault();return}const S=Ji(n),R=n.currentTarget,O=R.getAttribute("colid"),L=h.getColumnById(O);if(L){n.preventDefault();const{clientX:$}=n,G=$-R.getBoundingClientRect().x<R.clientWidth/2?"left":"right";if(p.prevDragToChild=!!(y&&g&&S),p.prevDragCol=L,p.prevDragPos=G,L.fixed||a&&a.id===L.id||!y&&(x?a.parentId!==L.parentId:L.parentId)){Ba(n,null,R,!1,G);return}Ba(n,null,R,!0,G),Mo("column-dragover",{oldColumn:a,targetColumn:L,dragPos:G},n);const ee=k.value;if(!ee)return;const le=Z.value,K=_.value,ve=K?K.$el:null,de=le||ve;if(de){const he=ee.getBoundingClientRect(),re=ee.clientWidth,oe=Ie.value,Le=oe?oe.clientWidth:0,Ye=De.value,We=Ye?Ye.clientWidth:0,gt=he.x+Le,pt=he.x+re-We,ut=28,Lt=$-gt,Mt=pt-$;if(Lt>0&&Lt<=ut){const Zt=Math.floor(re/(Lt>ut/2?240:120));de.scrollLeft-=Zt*(ut-Lt)}else if(Mt>0&&Mt<=ut){const Zt=Math.floor(re/(Mt>ut/2?240:120));de.scrollLeft+=Zt*(ut-Mt)}}}},handleHeaderCellDragMousedownEvent(n,a){var c;n.stopPropagation();const g=He.value,{trigger:x,dragStartMethod:y}=g,{column:S}=a,R=n.currentTarget,O=x==="cell"?R:(c=R.parentElement)===null||c===void 0?void 0:c.parentElement;if(Ss(),y&&!y(a)){O.draggable=!1,v.dragRow=null,v.dragCol=null,Pr(),va();return}v.dragCol=S,v.dragRow=null,O.draggable=!0,Pr(),PS(S),kS(O),Mo("column-dragstart",a,n)},handleHeaderCellDragMouseupEvent(){Ss(),va(),Pr(),v.dragRow=null,v.dragCol=null},handleScrollEvent(n,a,c,g,x,y){const{highlightHoverRow:S}=e,{lastScrollLeft:R,lastScrollTop:O}=p,L=Z.value,$=Ne.value;if(!L||!$)return;const q=P.value,G=I.value,ee=J.value,le=$.clientHeight,K=L.clientWidth,ve=$.scrollHeight,de=L.scrollWidth;let he=!1,re=!1,oe=!1,Le=!1,Ye="",We=!1,gt=!1,pt=!1,ut=!1;if(c){const Mt=Gt.value;oe=x<=0,oe||(Le=x+K>=de),x>R?(Ye="right",x+K>=de-Mt&&(ut=!0)):(Ye="left",x<=Mt&&(pt=!0)),h.checkScrolling(),p.lastScrollLeft=x}if(a){const Mt=te.value;he=g<=1,he||(re=g+le>=ve-1),g>O?(Ye="bottom",g+le>=ve-Mt&&(gt=!0)):(Ye="top",g<=Mt&&(We=!0)),p.lastScrollTop=g}v.lastScrollTime=Date.now();const Lt=Object.assign({scrollTop:g,scrollLeft:x,bodyHeight:le,bodyWidth:K,scrollHeight:ve,scrollWidth:de,isX:c,isY:a,isTop:he,isBottom:re,isLeft:oe,isRight:Le,direction:Ye},y);Gl(),bS(c,a),c&&h.closeFilter(),(q.isHover||S)&&h.clearHoverRow(),G&&G.reactData.visible&&G.close(),ee&&ee.reactData.visible&&ee.close(),(gt||We||ut||pt)&&Mo("scroll-boundary",Lt,n),Mo("scroll",Lt,n)},triggerScrollXEvent(){Nt.value.immediate?ma():mS()},triggerScrollYEvent(){_t.value.immediate?Ri():vS()},triggerBodyScrollEvent(n,a){const{scrollYLoad:c,scrollXLoad:g}=v,{elemStore:x,intoRunScroll:y,lastScrollTop:S,lastScrollLeft:R,inWheelScroll:O,inVirtualScroll:L,inHeaderScroll:$,inBodyScroll:q,scrollRenderType:G,inFooterScroll:ee}=p;if(O||L||$||ee)return;const le=Z.value,K=Ne.value,ve=eo(x["left-body-scroll"]),de=eo(x["main-body-scroll"]),he=eo(x["right-body-scroll"]),re=eo(x["main-header-scroll"]),oe=eo(x["main-footer-scroll"]),Le=tt.value;if(y||!de||!le||!K||q&&G!==a)return;let Ye=K.scrollTop,We=le.scrollLeft;ve&&a==="left"?Ye=ve.scrollTop:he&&a==="right"?Ye=he.scrollTop:(Ye=de.scrollTop,We=de.scrollLeft);const gt=We!==R,pt=Ye!==S;p.inBodyScroll=!0,p.scrollRenderType=a,pt&&(a==="left"?(jo(de,Ye),jo(he,Ye)):a==="right"?(jo(de,Ye),jo(ve,Ye)):(jo(ve,Ye),jo(he,Ye)),jo(K,Ye),jo(Le,Ye),ys(Ye),c&&h.triggerScrollYEvent(n)),gt&&(Xo(le,We),Xo(re,We),Xo(oe,We),g&&h.triggerScrollXEvent(n)),h.handleScrollEvent(n,pt,gt,Ye,We,{type:"body",fixed:a})},triggerHeaderScrollEvent(n,a){const{scrollXLoad:c}=v,{elemStore:g,intoRunScroll:x,inWheelScroll:y,inVirtualScroll:S,inBodyScroll:R,inFooterScroll:O}=p;if(y||S||R||O)return;const L=Ne.value,$=Z.value,q=eo(g["main-body-scroll"]),G=eo(g["main-header-scroll"]),ee=eo(g["main-footer-scroll"]);if(x||!G||!$||!L)return;const le=L.scrollTop,K=G.scrollLeft,ve=!0,de=!1;p.inHeaderScroll=!0,Xo($,K),Xo(ee,K),Xo(q,K),c&&h.triggerScrollXEvent(n),h.handleScrollEvent(n,de,ve,le,K,{type:"header",fixed:a})},triggerFooterScrollEvent(n,a){const{scrollXLoad:c}=v,{elemStore:g,intoRunScroll:x,inWheelScroll:y,inVirtualScroll:S,inHeaderScroll:R,inBodyScroll:O}=p;if(y||S||R||O)return;const L=Ne.value,$=Z.value,q=eo(g["main-body-scroll"]),G=eo(g["main-header-scroll"]),ee=eo(g["main-footer-scroll"]);if(x||!ee||!$||!L)return;const le=L.scrollTop,K=ee.scrollLeft,ve=!0,de=!1;p.inFooterScroll=!0,Xo($,K),Xo(G,K),Xo(q,K),c&&h.triggerScrollXEvent(n),h.handleScrollEvent(n,de,ve,le,K,{type:"footer",fixed:a})},triggerBodyWheelEvent(n){const{target:a,deltaY:c,deltaX:g,shiftKey:x}=n;if(a&&/^textarea$/i.test(a.tagName)||!c&&!g)return;const{highlightHoverRow:y}=oc,{scrollXLoad:S,scrollYLoad:R,expandColumn:O}=v,L=ro.value,$=ho.value,{elemStore:q,lastScrollTop:G,lastScrollLeft:ee}=p,le=P.value,K=Fe.value,ve=je.value,de=Z.value,he=Ne.value,re=eo(q["left-body-scroll"]),oe=eo(q["main-header-scroll"]),Le=eo(q["main-body-scroll"]),Ye=eo(q["main-footer-scroll"]),We=eo(q["right-body-scroll"]),gt=tt.value;if(!Le)return;const pt=xS(v.lastScrollTime),ut=x?0:c*pt,Lt=(x?g||c:g)*pt,Mt=Le.scrollTop,Zt=Le.scrollLeft,Kt=Mt+ut,lo=Zt+Lt,fo=lo!==ee,ao=Kt!==G;if(fo&&K.visible==="hidden"){n.preventDefault();return}if(ao){if(ve.visible==="hidden"){n.preventDefault();return}if(ut<0?Mt<=0:Mt>=Le.scrollHeight-Le.clientHeight)return}if(E){if(ao&&cC(n.target,[re,Le,We],n.currentTarget)){n.stopPropagation();return}if(fo&&cC(n.target,[oe,Le,Ye],n.currentTarget)){n.stopPropagation();return}}if(L||$||O){if((le.isHover||y)&&h.clearHoverRow(),fo)if(n.preventDefault(),p.inWheelScroll=!0,i.firefox||i.safari){const Jt=lo;Xo(de,Jt),Xo(Le,Jt),Xo(oe,Jt),Xo(Ye,Jt),S&&h.triggerScrollXEvent(n),h.handleScrollEvent(n,ao,fo,Le.scrollTop,Jt,{type:"table",fixed:""})}else CS(lo,Jt=>{p.inWheelScroll=!0;const io=Jt;Xo(de,io),Xo(Le,io),Xo(oe,io),Xo(Ye,io),S&&h.triggerScrollXEvent(n),h.handleScrollEvent(n,ao,fo,Le.scrollTop,io,{type:"table",fixed:""})});if(ao)if(n.preventDefault(),p.inWheelScroll=!0,i.firefox||i.safari){const Jt=Kt;jo(he,Jt),jo(Le,Jt),jo(re,Jt),jo(We,Jt),jo(gt,Jt),ys(Jt),R&&h.triggerScrollYEvent(n),h.handleScrollEvent(n,ao,fo,Jt,Le.scrollLeft,{type:"table",fixed:""})}else yS(Kt-Mt,Jt=>{p.inWheelScroll=!0;const io=Le.scrollTop+Jt;jo(he,io),jo(Le,io),jo(re,io),jo(We,io),jo(gt,io),ys(io),R&&h.triggerScrollYEvent(n),h.handleScrollEvent(n,ao,fo,io,Le.scrollLeft,{type:"table",fixed:""})})}},triggerVirtualScrollXEvent(n){const{scrollXLoad:a}=v,{elemStore:c,inWheelScroll:g,lastScrollTop:x,inHeaderScroll:y,inBodyScroll:S,inFooterScroll:R}=p;if(y||S||R||g)return;const O=eo(c["main-header-scroll"]),L=eo(c["main-body-scroll"]),$=eo(c["main-footer-scroll"]),q=Ne.value,G=n.currentTarget,{scrollLeft:ee}=G,le=q||L;let K=0;le&&(K=le.scrollTop);const ve=!0,de=K!==x;p.inVirtualScroll=!0,Xo(L,ee),Xo(O,ee),Xo($,ee),a&&h.triggerScrollXEvent(n),h.handleScrollEvent(n,de,ve,K,ee,{type:"table",fixed:""})},triggerVirtualScrollYEvent(n){const{scrollYLoad:a}=v,{elemStore:c,inWheelScroll:g,lastScrollLeft:x,inHeaderScroll:y,inBodyScroll:S,inFooterScroll:R}=p;if(y||S||R||g)return;const O=eo(c["left-body-scroll"]),L=eo(c["main-body-scroll"]),$=eo(c["right-body-scroll"]),q=tt.value,G=Z.value,ee=n.currentTarget,{scrollTop:le}=ee,K=G||L;let ve=0;K&&(ve=K.scrollLeft);const de=ve!==x,he=!0;p.inVirtualScroll=!0,jo(L,le),jo(O,le),jo($,le),jo(q,le),ys(le),a&&h.triggerScrollYEvent(n),h.handleScrollEvent(n,he,de,le,ve,{type:"table",fixed:""})},scrollToTreeRow(n){const{treeConfig:a}=e,{isRowGroupStatus:c}=v,{tableFullData:g}=p,x=[];if(a||c){const y=H.value,S=uo.value,R=S.children||S.childrenField,O=l.findTree(g,L=>h.eqRow(L,n),{children:c?y.mapChildrenField:R});if(O){const L=O.nodes;L.forEach(($,q)=>{q<L.length-1&&!h.isTreeExpandByRow($)&&x.push(h.setTreeExpand($,!0))})}}return Promise.all(x).then(()=>xC(h,n))},updateScrollYStatus:Si,updateScrollXSpace(){const{scrollXLoad:n,overflowX:a,scrollXWidth:c}=v,{visibleColumn:g,scrollXStore:x,elemStore:y,fullColumnIdData:S}=p,R=p.xeGanttView,O=Rt.value,L=_.value;if(L?L.$el:null){const q=eo(y["main-body-scroll"]),G=eo(y["main-body-table"]),ee=eo(y["main-header-table"]),le=eo(y["main-footer-table"]);let K=0;const ve=g[x.startIndex];ve&&(K=(S[ve.id]||{}).oLeft);let de=0;q&&(de=q.clientWidth);let he=!1,re=c;c>Za&&(q&&G&&q.scrollLeft+de>=Za?K=Za-G.clientWidth:K=(Za-de)*(K/(c-de)),re=Za,he=!0),n&&a||(K=0),wo().scrollMarginStyle?(ee&&(ee.style.marginLeft=ee.getAttribute("xvm")?`${K}px`:""),G&&(G.style.marginLeft=`${K}px`),le&&(le.style.marginLeft=le.getAttribute("xvm")?`${K}px`:"")):(ee&&(ee.style.transform=ee.getAttribute("xvm")?`translate(${K}px, 0px)`:""),G&&(G.style.transform=`translate(${K}px, ${v.scrollYTop||0}px)`),le&&(le.style.transform=le.getAttribute("xvm")?`translate(${K}px, 0px)`:"")),["main"].forEach(Ye=>{["header","body","footer"].forEach(gt=>{const pt=eo(y[`${Ye}-${gt}-xSpace`]);pt&&(pt.style.width=n?`${re}px`:"")})}),v.scrollXLeft=K,v.scrollXWidth=re,v.isScrollXBig=he;const Le=bt.value;return Le&&(Le.style.width=`${re}px`),vs(),he&&O.area&&Bt("vxe.error.notProp",["mouse-config.area"]),R&&R.handleUpdateSXSpace&&R.handleUpdateSXSpace(),pe().then(()=>{hn()})}},updateScrollYSpace(){const{isAllOverflow:n,overflowY:a,scrollYLoad:c,scrollYHeight:g,expandColumn:x}=v,{scrollYStore:y,elemStore:S,isResizeCellHeight:R,afterFullData:O,fullAllDataRowIdData:L,rowExpandedMaps:$}=p,q=p.xeGanttView,{startIndex:G}=y,ee=Rt.value,le=Io.value,K=P.value,ve=yt.value,de=Be.value,he=eo(S["main-body-scroll"]),re=eo(S["main-body-table"]),oe=eo(S["left-body-table"]),Le=eo(S["right-body-table"]),Ye=["main","left","right"];let We=0,gt=g,pt=!1;if(c)if(!(R||ve.height||K.height)&&!x&&n)gt=O.length*de,gt>Ra&&(pt=!0),We=Math.max(0,G*de);else{const fo=O[G];if(fo){let ao=Pt(h,fo),Jt=L[ao]||{};We=Jt.oTop||0;const io=O[O.length-1];ao=Pt(h,io),Jt=L[ao]||{},Jt.oTop&&(gt=(Jt.oTop||0)+(Jt.resizeHeight||ve.height||K.height||Jt.height||de),x&&$[ao]&&(gt+=Jt.expandHeight||le.height||0)),gt>Ra&&(pt=!0)}else gt=re?re.clientHeight:0}else re&&(gt=re.clientHeight);let ut=0;he&&(ut=he.clientHeight);let Lt=gt,Mt=We;pt&&(he&&re&&he.scrollTop+ut>=Ra?Mt=Ra-re.clientHeight:Mt=(Ra-ut)*(We/(g-ut)),Lt=Ra),c&&a||(Mt=0),wo().scrollMarginStyle?(oe&&(oe.style.marginTop=`${Mt}px`),re&&(re.style.marginTop=`${Mt}px`),Le&&(Le.style.marginTop=`${Mt}px`)):(oe&&(oe.style.transform=`translate(0px, ${Mt}px)`),re&&(re.style.transform=`translate(${v.scrollXLeft||0}px, ${Mt}px)`),Le&&(Le.style.transform=`translate(0px, ${Mt}px)`)),Ye.forEach(lo=>{["header","body","footer"].forEach(ao=>{const Jt=eo(S[`${lo}-${ao}-ySpace`]);Jt&&(Jt.style.height=Lt?`${Lt}px`:"")})});const Zt=vt.value;Zt&&(Zt.style.height=Lt?`${Lt}px`:"");const Kt=Je.value;return Kt&&(Kt.style.height=Lt?`${Lt}px`:""),v.scrollYTop=Mt,v.scrollYHeight=Lt,v.isScrollYBig=pt,vs(),pt&&ee.area&&Bt("vxe.error.notProp",["mouse-config.area"]),q&&q.handleUpdateSYSpace&&q.handleUpdateSYSpace(),pe().then(()=>{hn()})},updateScrollXData(){const{isAllOverflow:n}=v;return Oc(),h.updateScrollXSpace(),pe().then(()=>{Oc(),h.updateScrollXSpace(),n||h.updateScrollYSpace()})},updateScrollYData(){return h.handleTableData(),h.updateScrollYSpace(),pe().then(()=>{h.handleTableData(),h.updateScrollYSpace()})},checkScrolling(){const{elemStore:n}=p,a=eo(n["main-body-scroll"]),c=Ie.value,g=De.value,y=Z.value||a;y&&(c&&(y.scrollLeft>0?Dr(c,"scrolling--middle"):Xn(c,"scrolling--middle")),g&&(y.clientWidth<y.scrollWidth-Math.ceil(y.scrollLeft)?Dr(g,"scrolling--middle"):Xn(g,"scrolling--middle")))},handleUpdateAggData(){return ha(p.tableSynchData,!0)},updateZindex(){e.zIndex?p.tZindex=e.zIndex:p.tZindex<RE()&&(p.tZindex=SE())},handleCheckedCheckboxRow:ga,triggerHoverEvent(n,{row:a}){N.setHoverRow(a)},setHoverRow(n){const a=p.xeGanttView,c=Pt(h,n),g=k.value;N.clearHoverRow(),g&&l.arrayEach(g.querySelectorAll(`.vxe-body--row[rowid="${c}"]`),x=>Dr(x,"row--hover")),p.hoverRow=n,a&&a.handleUpdateHoverRow&&a.handleUpdateHoverRow(n)},clearHoverRow(){const n=p.xeGanttView,a=k.value;a&&l.arrayEach(a.querySelectorAll(".vxe-body--row.row--hover"),c=>Xn(c,"row--hover")),p.hoverRow=null,n&&n.handleUpdateHoverRow&&n.handleUpdateHoverRow()},getCell(n,a){return T.getCellElement(n,a)},findRowIndexOf(n,a){return a?l.findIndexOf(n,c=>h.eqRow(c,a)):-1},eqRow(n,a){return n&&a?n===a?!0:Pt(h,n)===Pt(h,a):!1},handleConnectGanttView(n){return n&&n.connectUpdate&&(n.connectUpdate({$table:h}),p.xeGanttView=n),pe()}},Object.assign(h,T,N);const Rh=n=>{const{showHeader:a,showFooter:c}=e,{tableData:g,tableColumn:x,tableGroupColumn:y,columnStore:S,footerTableData:R}=v,O=ke.value,L=Fe.value,$=je.value,{overscrollBehavior:q}=L,{overscrollBehavior:G}=$,ee=n==="left",le=ee?S.leftList:S.rightList,K=l.eqNull(q)?O.overscrollBehavior:q,ve=l.eqNull(G)?O.overscrollBehavior:G;return u("div",{ref:ee?Ie:De,class:[`vxe-table--fixed-${n}-wrapper`,`sx--${L.visible}`,`sy--${$.visible}`,{[`x-ob--${K}`]:K,[`y-ob--${ve}`]:ve}]},[a?u(MC,{ref:ee?se:X,fixedType:n,tableData:g,tableColumn:x,tableGroupColumn:y,fixedColumn:le}):_n(h),u(OC,{ref:ee?ye:Re,fixedType:n,tableData:g,tableColumn:x,fixedColumn:le}),c?u(AC,{ref:ee?Y:ue,footerTableData:R,tableColumn:x,fixedColumn:le,fixedType:n}):_n(h)])},LS=()=>{const n=Vn.value,a=o.empty,c={$table:h,$grid:m,gantt:w};if(a)return a(c);{const g=n.name?Cg.get(n.name):null,x=g?g.renderTableEmpty||g.renderTableEmptyView||g.renderEmpty:null;if(x)return Cn(x(n,c))}return vl(e.emptyText)||Wr("vxe.table.emptyText")},NS=()=>{const{dragConfig:n}=e,{dragRow:a,dragCol:c,dragTipText:g}=v,x=He.value,y=Ce.value,R=(y.slots||{}).tip||(n&&n.slots?n.slots.rowTip:null),L=(x.slots||{}).tip,$=a||(y.isCrossTableDrag?M.row:null);return $&&R?Di(R,{row:$}):c&&L?Di(L,{column:c}):[u("span",g)]},$S=()=>{const{dragRow:n,dragCol:a}=v,c=P.value,g=Qe.value,x=Ce.value,y=He.value,S=n||(x.isCrossTableDrag?M.row:null);return c.drag||g.drag?u("div",{class:"vxe-table--drag-wrapper"},[u("div",{ref:Oe,class:["vxe-table--drag-row-line",{"is--guides":x.showGuidesStatus}]}),u("div",{ref:Pe,class:["vxe-table--drag-col-line",{"is--guides":y.showGuidesStatus}]}),S&&x.showDragTip||a&&y.showDragTip?u("div",{ref:fe,class:"vxe-table--drag-sort-tip"},[u("div",{class:"vxe-table--drag-sort-tip-wrapper"},[u("div",{class:"vxe-table--drag-sort-tip-status"},[u("span",{class:["vxe-table--drag-sort-tip-normal-status",S?Ns().TABLE_DRAG_STATUS_ROW:Ns().TABLE_DRAG_STATUS_COLUMN]}),u("span",{class:["vxe-table--drag-sort-tip-sub-status",Ns().TABLE_DRAG_STATUS_SUB_ROW]}),u("span",{class:["vxe-table--drag-sort-tip-disabled-status",Ns().TABLE_DRAG_DISABLED]})]),u("div",{class:"vxe-table--drag-sort-tip-content"},NS())])]):_n(h)]):_n(h)},_S=()=>{const{treeConfig:n}=e,{expandColumn:a,isRowGroupStatus:c}=v,g=yl.value,x=Io.value,{mode:y}=x;if(y!=="fixed")return _n(h);const S=[u("div",{key:"repY",ref:Je})];if(a){const{handleGetRowId:R}=gn(h);g.forEach(O=>{const L=Io.value,{height:$,padding:q,indent:G}=L,{fullAllDataRowIdData:ee,fullColumnIdData:le}=p,K=uo.value,{transform:ve,seqMode:de}=K,he={},re=R(O),oe=ee[re],Le=a.id,Ye=le[Le]||{};let We=0,gt=-1,pt=-1,ut=-1,Lt=-1;oe&&(ut=oe.index,Lt=oe.$index,pt=oe._index,We=oe.level,gt=oe.seq,c||n&&ve&&de==="increasing"?gt=oe._index+1:n&&de==="fixed"&&(gt=oe._tIndex+1)),$&&(he.height=`${$}px`),(c||n)&&(he.paddingLeft=`${We*(l.isNumber(G)?G:K.indent)+30}px`);let Mt=-1,Zt=-1,Kt=-1;Ye&&(Mt=Ye.index,Zt=Ye.$index,Kt=Ye._index);const lo={$table:h,$grid:m,$gantt:w,seq:gt,column:a,columnIndex:Mt,$columnIndex:Zt,_columnIndex:Kt,fixed:"",source:"table",type:"body",level:We,rowid:re,row:O,rowIndex:ut,$rowIndex:Lt,_rowIndex:pt,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};S.push(u("div",{key:re,class:["vxe-body--row-expanded-cell",{"is--padding":q,"is--ellipsis":$}],rowid:re,style:he},a.renderData(lo)))})}return u("div",{ref:tt,class:"vxe-table--row-expanded-wrapper"},S)},Dh=()=>u("div",{key:"vsx",ref:rt,class:"vxe-table--scroll-x-virtual"},[u("div",{ref:$e,class:"vxe-table--scroll-x-left-corner"}),u("div",{ref:dt,class:"vxe-table--scroll-x-wrapper"},[u("div",{ref:Z,class:"vxe-table--scroll-x-handle",onScroll:h.triggerVirtualScrollXEvent},[u("div",{ref:bt,class:"vxe-table--scroll-x-space"})]),u("div",{class:"vxe-table--scroll-x-handle-appearance"})]),u("div",{ref:ce,class:"vxe-table--scroll-x-right-corner"})]),Oh=()=>u("div",{ref:ze,class:"vxe-table--scroll-y-virtual"},[u("div",{ref:Ke,class:"vxe-table--scroll-y-top-corner"}),u("div",{ref:ft,class:"vxe-table--scroll-y-wrapper"},[u("div",{ref:Ne,class:"vxe-table--scroll-y-handle",onScroll:h.triggerVirtualScrollYEvent},[u("div",{ref:vt,class:"vxe-table--scroll-y-space"})]),u("div",{class:"vxe-table--scroll-y-handle-appearance"})]),u("div",{ref:Vt,class:"vxe-table--scroll-y-bottom-corner"})]),Th=()=>{const{showHeader:n,showFooter:a}=e,{overflowX:c,tableData:g,tableColumn:x,tableGroupColumn:y,footerTableData:S,columnStore:R}=v,O=ke.value,L=Fe.value,$=je.value,{overscrollBehavior:q}=L,{overscrollBehavior:G}=$,{leftList:ee,rightList:le}=R,K=l.eqNull(q)?O.overscrollBehavior:q,ve=l.eqNull(G)?O.overscrollBehavior:G;return u("div",{ref:ie,class:["vxe-table--viewport-wrapper",{[`x-ob--${K}`]:K,[`y-ob--${ve}`]:ve}]},[u("div",{class:["vxe-table--main-wrapper",`sx--${L.visible}`,`sy--${$.visible}`]},[n?u(MC,{ref:U,tableData:g,tableColumn:x,tableGroupColumn:y}):_n(h),u(OC,{ref:_,tableData:g,tableColumn:x}),a?u(AC,{ref:z,footerTableData:S,tableColumn:x}):_n(h)]),u("div",{class:"vxe-table--fixed-wrapper"},[ee&&ee.length&&c?Rh("left"):_n(h),le&&le.length&&c?Rh("right"):_n(h)]),_S()])},Mh=()=>{const n=mt.value;return u("div",{class:"vxe-table--layout-wrapper"},n?[Oh(),Th()]:[Th(),Oh()])},HS=()=>{const{loading:n,stripe:a,showHeader:c,height:g,treeConfig:x,mouseConfig:y,showFooter:S,highlightCell:R,highlightHoverRow:O,highlightHoverColumn:L,editConfig:$,editRules:q}=e,{isGroup:G,overflowX:ee,overflowY:le,scrollXLoad:K,scrollYLoad:ve,tableData:de,initStore:he,isRowGroupStatus:re,columnStore:oe,filterStore:Le,customStore:Ye,tooltipStore:We}=v,{teleportToWrapperElem:gt,popupToWrapperElem:pt}=p,{leftList:ut,rightList:Lt}=oe,Mt=o.loading,Zt={header:o.headerTooltip||o["header-tooltip"],body:o.tooltip,footer:o.footerTooltip||o["footer-tooltip"]},Kt=We.visible&&We.type?Zt[We.type]:null,lo=Ce.value,fo=_o.value,ao=we.value,Jt=Xt.value,io=Ue.value,Ro=uo.value,Yt=P.value,Lo=Qe.value,ko=C.value,bo=el.value,No=Rt.value,So=ht.value,xo=Qn.value,To=Fo.value,sn=v.isColLoading||v.isRowLoading||n,Ko=ct.value,Ao=y&&No.area,mn=He.value,rn=nt.value,Mn=mt.value,{isCrossTableDrag:In}=lo,Fn={onKeydown:DS};return In&&!de.length&&(Fn.onDragover=h.handleCrossTableRowDragoverEmptyEvent),u("div",Object.assign({ref:k,class:["vxe-table","vxe-table--render-default",`tid_${s}`,`border--${bo}`,`sx-pos--${rn?"top":"bottom"}`,`sy-pos--${Mn?"left":"right"}`,{[`size--${ko}`]:ko,[`valid-msg--${Jt.msgMode}`]:!!q,"vxe-editable":!!$,"old-cell-valid":q&&wo().cellVaildMode==="obsolete","cell--highlight":R,"cell--selected":y&&No.selected,"cell--area":Ao,"header-cell--area":Ao&&So.selectCellByHeader,"body-cell--area":Ao&&So.selectCellByBody,"row--highlight":Yt.isHover||O,"column--highlight":Lo.isHover||L,"checkbox--range":io.range,"col--drag-cell":Lo.drag&&mn.trigger==="cell","is--header":c,"is--footer":S,"is--group":G,"is-row-group":re,"is--tree-line":x&&(Ro.showLine||Ro.line),"is--fixed-left":ut.length,"is--fixed-right":Lt.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!x&&a,"is--loading":sn,"is--empty":!sn&&!de.length,"is--scroll-y":le,"is--scroll-x":ee,"is--virtual-x":K,"is--virtual-y":ve}],spellcheck:!1},Fn),[u("div",{class:"vxe-table-slots"},o.default?o.default({}):[]),u("div",{ref:j,class:"vxe-table-vars"},[u("div",{class:"vxe-table-var-default"}),u("div",{class:"vxe-table-var-medium"}),u("div",{class:"vxe-table-var-small"}),u("div",{class:"vxe-table-var-mini"})]),u("div",{key:"tw",class:"vxe-table--render-wrapper"},rn?[Dh(),Mh()]:[Mh(),Dh()]),u("div",{key:"tn",ref:xe,class:"vxe-table--empty-place-wrapper"},[u("div",{class:"vxe-table--empty-placeholder"},[u("div",{class:"vxe-table--empty-content"},LS())])]),u("div",{key:"tl",class:"vxe-table--border-line"}),u("div",{key:"tcl",ref:Me,class:"vxe-table--resizable-col-bar"},Ko.showDragTip?[u("div",{class:"vxe-table--resizable-number-tip"})]:[]),u("div",{key:"ttw"},[u(ca,{to:gt,disabled:!(w&&gt)},[u("div",{ref:Q},[u("div",{key:"trl",ref:Se,class:"vxe-table--resizable-row-bar"},Ko.showDragTip?[u("div",{class:"vxe-table--resizable-number-tip"})]:[]),he.custom?u(RM,{key:"cs",ref:W,customStore:Ye}):_n(h),d?u(d,{key:"lg",class:"vxe-table--loading",modelValue:sn,icon:xo.icon,text:xo.text},Mt?{default:()=>Di(Mt,{$table:h,$grid:m,$gantt:w,loading:sn})}:{}):Mt?u("div",{class:["vxe-loading--custom-wrapper",{"is--visible":sn}]},Di(Mt,{$table:h,$grid:m,$gantt:w,loading:sn})):_n(h),$S()])])]),u("div",{key:"tpw"},[u(ca,{to:pt,disabled:!(D&&pt)},[u("div",{ref:be},[he.filter?u(OM,{key:"tf",ref:V,filterStore:Le}):_n(h),To?u(FM,{key:"tm",ref:F}):_n(h)])])]),he.import&&e.importConfig?u(MM,{key:"it",defaultOptions:v.importParams,storeData:v.importStore}):_n(h),he.export&&(e.exportConfig||e.printConfig)?u(IM,{key:"et",defaultOptions:v.exportParams,storeData:v.exportStore}):_n(h),b?u("div",{},[u(b,{key:"ctp",ref:B,isArrow:!1,enterable:!1}),u(b,{key:"btp",ref:J,theme:fo.theme,enterable:fo.enterable,enterDelay:fo.enterDelay,leaveDelay:fo.leaveDelay,useHTML:fo.useHTML,width:fo.width,height:fo.height,minWidth:fo.minWidth,minHeight:fo.minHeight,maxWidth:fo.maxWidth,maxHeight:fo.maxHeight},Kt?{content:()=>{const{type:pn,row:Wo,column:An,content:Dl}=We;if(Kt){if(An&&pn==="header")return u("div",{key:pn},Kt({column:An,tooltipContent:Dl,$table:h,$grid:m,$gantt:w}));if(Wo&&An&&pn==="body")return u("div",{key:pn},Kt({row:Wo,column:An,tooltipContent:Dl,$table:h,$grid:m,$gantt:w}));if(Wo&&An&&pn==="footer")return u("div",{key:pn},Kt({row:Wo,column:An,tooltipContent:Dl,$table:h,$grid:m,$gantt:w}))}return _n(h)}}:{}),e.editRules&&Jt.showMessage&&(Jt.message==="default"?!g:Jt.message==="tooltip")?u(b,{key:"vtp",ref:I,class:[{"old-cell-valid":q&&wo().cellVaildMode==="obsolete"},"vxe-table--valid-error"],theme:ao.theme,enterable:ao.enterable,enterDelay:ao.enterDelay,leaveDelay:ao.leaveDelay}):_n(h)]):_n(h)])},Pc=xt(0);no(()=>e.data?e.data.length:-1,()=>{Pc.value++}),no(()=>e.data,()=>{Pc.value++}),no(Pc,()=>{const{initStatus:n}=p,a=e.data||[];a&&a.length>=2e4&&Ut("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),ha(a,!0).then(()=>{const{scrollXLoad:c,scrollYLoad:g,expandColumn:x}=v,y=Io.value;return p.inited=!0,p.initStatus=!0,n||xs(),(c||g)&&x&&y.mode!=="fixed"&&Ut("vxe.error.scrollErrProp",["column.type=expand"]),T.recalculate()})});const kc=xt(0);no(()=>v.staticColumns.length,()=>{kc.value++}),no(()=>v.staticColumns,()=>{kc.value++}),no(kc,()=>{pe(()=>hh(l.clone(v.staticColumns)))});const Lc=xt(0);no(()=>v.tableColumn.length,()=>{Lc.value++}),no(()=>v.tableColumn,()=>{Lc.value++}),no(Lc,()=>{N.analyColumnWidth()}),no(()=>v.upDataFlag,()=>{pe(()=>{T.updateData()})}),no(()=>v.reColumnFlag,()=>{pe(()=>{T.refreshColumn()})});const Er=xt(0);no(C,()=>{Er.value++}),no(()=>e.showHeader,()=>{Er.value++}),no(()=>e.showFooter,()=>{Er.value++}),no(()=>v.overflowX,()=>{Er.value++}),no(()=>v.overflowY,()=>{Er.value++}),no(()=>e.height,()=>{Er.value++}),no(()=>e.maxHeight,()=>{Er.value++}),no(nt,()=>{Er.value++}),no(mt,()=>{Er.value++}),no(()=>Ee.getLanguage(),()=>{Er.value++}),no(()=>Fe.value.visible,()=>{Er.value++}),no(()=>je.value.visible,()=>{Er.value++}),no(Er,()=>{h.recalculate(!0)});const Nc=xt(0);no(()=>e.footerData?e.footerData.length:-1,()=>{Nc.value++}),no(()=>e.footerData,()=>{Nc.value++}),no(Nc,()=>{p.footerFullDataRowData={},h.updateFooter()}),no(()=>e.syncResize,n=>{n&&(Ic(),pe(()=>{Ic(),setTimeout(()=>Ic())}))});const $c=xt(0);no(()=>e.mergeCells?e.mergeCells.length:-1,()=>{$c.value++}),no(()=>e.mergeCells,()=>{$c.value++}),no($c,()=>{fn(e.mergeCells||[])});const _c=xt(0);no(()=>e.mergeHeaderCells?e.mergeHeaderCells.length:-1,()=>{_c.value++}),no(()=>e.mergeHeaderCells,()=>{_c.value++}),no(_c,()=>{Ar(e.mergeHeaderCells||[])});const Oi=xt(0);no(()=>e.mergeFooterCells?e.mergeFooterCells.length:-1,()=>{Oi.value++}),no(()=>e.mergeFooterCells,()=>{Oi.value++}),no(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Oi.value++}),no(()=>e.mergeFooterItems,()=>{Oi.value++}),no(Oi,()=>{const n=e.mergeFooterCells||e.mergeFooterItems;Ha(n||[])}),no(zr,n=>{bs(n)}),no(Et,()=>{const{inited:n,tableFullData:a}=p;n&&(yr(),v.tableData=[],pe(()=>{h.reloadData(a)}))}),f&&no(()=>f?f.reactData.resizeFlag:null,()=>{wh()}),yr(),pI.forEach(n=>{const{setupTable:a}=n;if(a){const c=a(h);c&&l.isObject(c)&&Object.assign(h,c)}}),N.preventEvent(null,"created",{$table:h});let Ti;return mR(()=>{T.recalculate().then(()=>T.refreshScroll()),N.preventEvent(null,"activated",{$table:h})}),vR(()=>{const{filterStore:n}=v;n.visible&&h.clearFilter(),h.closeTooltip(),p.isActivated=!1,N.preventEvent(null,"deactivated",{$table:h})}),sr(()=>{const n=Qe.value,a=P.value,c=er.value,g=H.value,x=_t.value,{groupFields:y}=g;if(w){const{refClassifyWrapperElem:S}=w.getRefMaps(),R=S.value;R&&(p.teleportToWrapperElem=R)}if(D){const{refPopupContainerElem:S}=D.getRefMaps(),R=S.value;R&&(p.popupToWrapperElem=R)}if((n.drag||a.drag||c.allowSort)&&ME(),bs(y),pe(()=>{const{exportConfig:S,importConfig:R,treeConfig:O,highlightCurrentRow:L,highlightCurrentColumn:$}=e,{scrollXStore:q,scrollYStore:G}=p,ee=qe.value,le=uo.value,K=ot.value,ve=Ue.value,de=Io.value,he=P.value,re=er.value,oe=Rt.value,Le=wn.value,Ye=Sn.value,We=Te.value,gt=at.value,pt=wt.value,ut=H.value,Lt=Ce.value;if(e.rowId&&Ut("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&Ut("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&Ut("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||he.keyField)&&(ve.reserve||ve.checkRowKeys||K.reserve||K.checkRowKey||de.expandRowKeys||le.expandRowKeys)&&Ut("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(ee.showStatus||ee.showUpdateStatus||ee.showInsertStatus)&&!e.keepSource&&Ut("vxe.error.reqProp",["keep-source"]),O&&!le.transform&&e.stripe&&Ut("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&Ut("vxe.error.reqProp",["footer-data | footer-method"]),he.height&&Ut("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&Ut("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&Ut("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&Ut("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&Ut("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&Ut("vxe.error.delProp",["resizable","column-config.resizable"]),e.aggregateConfig&&e.rowGroupConfig&&Ut("vxe.error.notSupportProp",["aggregate-config","row-group-config","row-group-config=null"]),R&&Ye.types&&!Ye.importMethod&&!l.includeArrays(l.keys(Ye._typeMaps),Ye.types)&&Ut("vxe.error.errProp",[`export-config.types=${Ye.types.join(",")}`,Ye.types.filter(Mt=>l.includes(l.keys(Ye._typeMaps),Mt)).join(",")||l.keys(Ye._typeMaps).join(",")]),S&&Le.types&&!Le.exportMethod&&!l.includeArrays(l.keys(Le._typeMaps),Le.types)&&Ut("vxe.error.errProp",[`export-config.types=${Le.types.join(",")}`,Le.types.filter(Mt=>l.includes(l.keys(Le._typeMaps),Mt)).join(",")||l.keys(Le._typeMaps).join(",")]),e.id||(e.customConfig?co(re):re.enabled)&&re.storage&&Bt("vxe.error.reqProp",["id"]),e.treeConfig&&ve.range&&Bt("vxe.error.noTree",["checkbox-config.range"]),he.height&&!e.showOverflow&&Ut("vxe.error.notProp",["table.show-overflow"]),!h.triggerCellAreaModnEvent&&(e.areaConfig&&Ut("vxe.error.notProp",["area-config"]),e.clipConfig&&Ut("vxe.error.notProp",["clip-config"]),e.fnrConfig&&Ut("vxe.error.notProp",["fnr-config"]),oe.area)){Bt("vxe.error.notProp",["mouse-config.area"]);return}if(!h.handlePivotTableAggregateData){if(re.allowGroup){Bt("vxe.error.notProp",["custom-config.allowGroup"]);return}if(re.allowValues){Bt("vxe.error.notProp",["custom-config.allowValues"]);return}}if(O&&he.drag&&!le.transform&&Bt("vxe.error.notSupportProp",["row-config.drag","tree-config.transform=false","tree-config.transform=true"]),O&&Lt.isCrossTableDrag&&!Lt.isCrossDrag&&Bt("vxe.error.reqSupportProp",["tree-config & row-drag-config.isCrossTableDrag","row-drag-config.isCrossDrag"]),e.dragConfig&&Ut("vxe.error.delProp",["drag-config","row-drag-config"]),e.rowGroupConfig&&Ut("vxe.error.delProp",["row-group-config","aggregate-config"]),ut.countFields&&Ut("vxe.error.delProp",["row-group-config.countFields","column.agg-func"]),ut.aggregateMethod&&Ut("vxe.error.delProp",["row-group-config.aggregateMethod","aggregate-config.calcValuesMethod"]),ut.countMethod&&Ut("vxe.error.delProp",["aggregate-config.countMethod","aggregate-config.calcValuesMethod"]),e.treeConfig&&le.children&&Ut("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&le.line&&Ut("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),oe.area&&oe.selected&&Ut("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),oe.area&&e.treeConfig&&!le.transform&&Bt("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&ee.activeMethod&&Ut("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&ve.isShiftKey&&Bt("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),ve.halfField&&Ut("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),O&&l.arrayEach(["rowField","parentField","childrenField","hasChildField","mapChildrenField"],Mt=>{const Zt=le[Mt];Zt&&Zt.indexOf(".")>-1&&Bt("vxe.error.errProp",[`${Mt}=${Zt}`,`${Mt}=${Zt.split(".")[0]}`])}),he.currentMethod&&Ut("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),n.currentMethod&&Ut("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(he.isCurrent||L)&&e.keyboardConfig&&pt.isArrow&&!l.isBoolean(We.isFollowSelected)&&Ut("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(n.isCurrent||$)&&e.keyboardConfig&&pt.isArrow&&!l.isBoolean(gt.isFollowSelected)&&Ut("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),Object.assign(G,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(q,{startIndex:0,endIndex:0,visibleSize:0}),cS(),e.autoResize){const Mt=k.value,Zt=N.getParentElem();Ti=fI.create(()=>{e.autoResize&&dh()}),Mt&&Ti.observe(Mt),Zt&&Ti.observe(Zt)}}),x.mode!=="scroll"){const S=ie.value;S&&S.addEventListener("wheel",h.triggerBodyWheelEvent,{passive:!1})}tn.on(h,"paste",TS),tn.on(h,"copy",MS),tn.on(h,"cut",IS),tn.on(h,"mousedown",ES),tn.on(h,"blur",SS),tn.on(h,"mousewheel",RS),tn.on(h,"keydown",OS),tn.on(h,"resize",wh),tn.on(h,"contextmenu",h.handleGlobalContextmenuEvent),h.preventEvent(null,"mounted",{$table:h})}),ns(()=>{const n=ie.value;n&&n.removeEventListener("wheel",h.triggerBodyWheelEvent),p.cvCacheMaps={},p.prevDragRow=null,p.prevDragCol=null,Ti&&Ti.disconnect(),T.closeFilter(),h.closeMenu&&h.closeMenu(),tn.off(h,"paste"),tn.off(h,"copy"),tn.off(h,"cut"),tn.off(h,"mousedown"),tn.off(h,"blur"),tn.off(h,"mousewheel"),tn.off(h,"keydown"),tn.off(h,"resize"),tn.off(h,"contextmenu"),N.preventEvent(null,"beforeUnmount",{$table:h})}),mr(()=>{N.preventEvent(null,"unmounted",{$table:h}),l.assign(p,fC())}),pe(()=>{e.loading&&!d&&!o.loading&&(Bt("vxe.error.errProp",["loading=true","loading=false | <template #loading>...</template>"]),Bt("vxe.error.reqComp",["vxe-loading"])),(e.showOverflow===!0||e.showOverflow==="tooltip"||e.showHeaderOverflow===!0||e.showHeaderOverflow==="tooltip"||e.showFooterOverflow===!0||e.showFooterOverflow==="tooltip"||e.tooltipConfig||e.editRules)&&(b||(e.showOverflow===!0&&Bt("vxe.error.errProp",["show-overflow=true","show-overflow=title"]),e.showOverflow==="tooltip"&&Bt("vxe.error.errProp",["show-overflow=tooltip","show-overflow=title"]),e.showHeaderOverflow===!0&&Bt("vxe.error.errProp",["show-header-overflow=true","show-header-overflow=title"]),e.showHeaderOverflow==="tooltip"&&Bt("vxe.error.errProp",["show-header-overflow=tooltip","show-header-overflow=title"]),e.showFooterOverflow===!0&&Bt("vxe.error.errProp",["show-footer-overflow=true","show-footer-overflow=title"]),e.showFooterOverflow==="tooltip"&&Bt("vxe.error.errProp",["show-footer-overflow=tooltip","show-footer-overflow=title"]),Bt("vxe.error.reqComp",["vxe-tooltip"])))}),ir("$xeColgroup",null),ir("$xeTable",h),h.renderVN=HS,h},render(){return this.renderVN()}}),{getConfig:jr,getIcon:Ql,getI18n:Ja,renderer:oy,commands:ny,createEvent:hI,useFns:mI}=Ee;function ry(){return{connectTable:null}}const Aa=Fr({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],refreshOptions:Object,import:[Boolean,Object],importOptions:Object,export:[Boolean,Object],exportOptions:Object,print:[Boolean,Object],printOptions:Object,zoom:[Boolean,Object],zoomOptions:Object,custom:[Boolean,Object],customOptions:Object,buttons:{type:Array,default:()=>jr().toolbar.buttons},tools:{type:Array,default:()=>jr().toolbar.tools},perfect:{type:Boolean,default:()=>jr().toolbar.perfect},size:{type:String,default:()=>jr().toolbar.size||jr().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:o,emit:r}=t,s=l.uniqueId(),i=Ee.getComponent("VxeButton"),d=Co("$xeGrid",null),b=Co("$xeGantt",null),f=d||b,{computeSize:E}=mI.useSize(e),m=un({isRefresh:!1,connectFlag:0,columns:[]}),w=ry(),D=xt(),C={refElem:D},M={xID:s,props:e,context:t,reactData:m,internalData:w,getRefMaps:()=>C};let v={};const p=ae(()=>Object.assign({},l.clone(jr().toolbar.refresh,!0),e.refreshOptions,e.refresh)),T=ae(()=>Object.assign({},l.clone(jr().toolbar.import,!0),e.importOptions,e.import)),N=ae(()=>Object.assign({},l.clone(jr().toolbar.export,!0),e.exportOptions,e.export)),k=ae(()=>Object.assign({},l.clone(jr().toolbar.print,!0),e.printOptions,e.print)),j=ae(()=>Object.assign({},l.clone(jr().toolbar.zoom,!0),e.zoomOptions,e.zoom)),J=ae(()=>Object.assign({},l.clone(jr().toolbar.custom,!0),e.customOptions,e.custom)),B=ae(()=>{const{connectTable:ze}=w,Z=ze;if((m.connectFlag||Z)&&Z){const{computeCustomOpts:$e}=Z.getComputeMaps();return $e.value}return{trigger:""}}),I=ae(()=>B.value.trigger),F=()=>{const{connectTable:ze}=w;if(ze)return!0;Bt("vxe.error.barUnableLink")},V=({$event:ze})=>{const{connectTable:Z}=w,$e=Z;$e&&$e.triggerCustomEvent&&$e.triggerCustomEvent(ze)},W=({$event:ze})=>{const{connectTable:Z}=w,$e=Z;$e&&$e.customOpenEvent(ze)},ie=({$event:ze})=>{const{connectTable:Z}=w,$e=Z;if($e){const{customStore:ce}=$e.reactData;ce.activeBtn=!1,setTimeout(()=>{!ce.activeBtn&&!ce.activeWrapper&&$e.customCloseEvent(ze)},350)}},U=({$event:ze})=>{const{isRefresh:Z}=m,$e=p.value;if(!Z){const ce=$e.queryMethod||$e.query;if(ce){m.isRefresh=!0;try{Promise.resolve(ce({})).catch(Ne=>Ne).then(()=>{m.isRefresh=!1})}catch(Ne){m.isRefresh=!1}}else f&&(m.isRefresh=!0,f.triggerToolbarCommitEvent({code:$e.code||"reload"},ze).catch(()=>{}).then(()=>{m.isRefresh=!1}))}},_=({$event:ze})=>{f?f.triggerZoomEvent(ze):Ut("vxe.error.notProp",["[toolbar] zoom"])},z=()=>{if(F()){const{connectTable:ze}=w,Z=ze;Z&&Z.importData()}},se=()=>{if(F()){const{connectTable:ze}=w,Z=ze;Z&&Z.openImport()}},ye=()=>{if(F()){const{connectTable:ze}=w,Z=ze;Z&&Z.exportData()}},Y=()=>{if(F()){const{connectTable:ze}=w,Z=ze;Z&&Z.openExport()}},X=()=>{if(F()){const{connectTable:ze}=w,Z=ze;Z&&Z.print()}},Re=()=>{if(F()){const{connectTable:ze}=w,Z=ze;Z&&Z.openPrint()}},ue=(ze,Z,$e)=>{switch(Z.code){case"print":X();break;case"open_print":Re();break;case"custom":V(ze);break;case"export":ye();break;case"open_export":Y();break;case"import":z();break;case"open_import":se();break;case"zoom":_(ze);break;case"refresh":U(ze);break;default:$e();break}},Q=(ze,Z)=>{const{$event:$e}=ze,{connectTable:ce}=w,Ne=ce,{code:Ke}=Z;Ke&&ue(ze,Z,()=>{if(f)f.triggerToolbarBtnEvent(Z,$e);else{const dt=ny.get(Ke),ft={code:Ke,button:Z,$table:Ne,$grid:d,$gantt:b,$event:$e};if(dt){const Vt=dt.tableCommandMethod||dt.commandMethod;Vt?Vt(ft):Bt("vxe.error.notCommands",[`[toolbar] ${Ke}`])}M.dispatchEvent("button-click",ft,$e)}})},be=(ze,Z)=>{const{$event:$e}=ze,{connectTable:ce}=w,Ne=ce,{code:Ke}=Z;Ke&&ue(ze,Z,()=>{if(f)f.triggerToolbarTolEvent(Z,$e);else{const dt=ny.get(Ke),ft={code:Ke,button:null,tool:Z,$table:Ne,$grid:d,$gantt:b,$event:$e};if(dt){const Vt=dt.tableCommandMethod||dt.commandMethod;Vt?Vt(ft):Bt("vxe.error.notCommands",[`[toolbar] ${Ke}`])}M.dispatchEvent("tool-click",ft,$e)}})};v={dispatchEvent:(ze,Z,$e)=>{r(ze,hI($e,{$toolbar:M},Z))},syncUpdate(ze){w.connectTable=ze.$table,m.columns=ze.collectColumn,m.connectFlag++}},Object.assign(M,v);const De=(ze,Z)=>{const{dropdowns:$e}=ze,ce=[];return $e?$e.map((Ne,Ke)=>Ne.visible===!1?$o():i?u(i,Object.assign(Object.assign({key:Ke},Object.assign({},Ne,{content:Ne.content||Ne.name,options:void 0})),{onClick:dt=>Z?Q(dt,Ne):be(dt,Ne)})):$o()):ce},Me=()=>{const{buttons:ze}=e,{connectTable:Z}=w,$e=Z,ce=o.buttonPrefix||o["button-prefix"],Ne=o.buttonSuffix||o["button-suffix"],Ke=[];return ce&&Ke.push(...Cn(ce({buttons:ze||[],$grid:d,$gantt:b,$table:$e}))),ze&&ze.forEach((dt,ft)=>{const{dropdowns:Vt,buttonRender:bt}=dt;if(dt.visible!==!1){const vt=bt?oy.get(bt.name):null;if(bt&&vt&&vt.renderToolbarButton){const Ot=vt.toolbarButtonClassName,lt={$grid:d,$gantt:b,$table:$e,button:dt};Ke.push(u("span",{key:`br${dt.code||ft}`,class:["vxe-button--item",Ot?l.isFunction(Ot)?Ot(lt):Ot:""]},Cn(vt.renderToolbarButton(bt,lt))))}else i&&Ke.push(u(i,Object.assign(Object.assign({key:`bd${dt.code||ft}`},Object.assign({},dt,{content:dt.content||dt.name,options:void 0})),{onClick:Ot=>Q(Ot,dt)}),Vt&&Vt.length?{dropdowns:()=>De(dt,!0)}:{}))}}),Ne&&Ke.push(...Cn(Ne({buttons:ze||[],$grid:d,$gantt:b,$table:$e}))),Ke},Se=()=>{const{tools:ze}=e,{connectTable:Z}=w,$e=Z,ce=o.toolPrefix||o["tool-prefix"],Ne=o.toolSuffix||o["tool-suffix"],Ke=[];return ce&&Ke.push(...Cn(ce({tools:ze||[],$grid:d,$gantt:b,$table:$e}))),ze&&ze.forEach((dt,ft)=>{const{dropdowns:Vt,toolRender:bt}=dt;if(dt.visible!==!1){const vt=bt?bt.name:null,Ot=bt?oy.get(vt):null;if(bt&&Ot&&Ot.renderToolbarTool){const lt=Ot.toolbarToolClassName,Et={$grid:d,$gantt:b,$table:$e,tool:dt};Ke.push(u("span",{key:vt,class:["vxe-tool--item",lt?l.isFunction(lt)?lt(Et):lt:""]},Cn(Ot.renderToolbarTool(bt,Et))))}else i&&Ke.push(u(i,Object.assign(Object.assign({key:ft},Object.assign({},dt,{content:dt.content||dt.name,options:void 0})),{onClick:lt=>be(lt,dt)}),Vt&&Vt.length?{dropdowns:()=>De(dt,!1)}:{}))}}),Ne&&Ke.push(...Cn(Ne({tools:ze||[],$grid:d,$gantt:b,$table:$e}))),Ke},xe=()=>{const ze=T.value;return i?u(i,{key:"import",circle:!0,icon:ze.icon||Ql().TOOLBAR_TOOLS_IMPORT,title:Ja("vxe.toolbar.import"),onClick:se}):$o()},fe=()=>{const ze=N.value;return i?u(i,{key:"export",circle:!0,icon:ze.icon||Ql().TOOLBAR_TOOLS_EXPORT,title:Ja("vxe.toolbar.export"),onClick:Y}):$o()},Oe=()=>{const ze=k.value;return i?u(i,{key:"print",circle:!0,icon:ze.icon||Ql().TOOLBAR_TOOLS_PRINT,title:Ja("vxe.toolbar.print"),onClick:Re}):$o()},Pe=()=>{const ze=p.value;return i?u(i,{key:"refresh",circle:!0,icon:m.isRefresh?ze.iconLoading||Ql().TOOLBAR_TOOLS_REFRESH_LOADING:ze.icon||Ql().TOOLBAR_TOOLS_REFRESH,title:Ja("vxe.toolbar.refresh"),onClick:U}):$o()},tt=()=>{const ze=j.value;return f&&i?u(i,{key:"zoom",circle:!0,icon:f.isMaximized()?ze.iconOut||Ql().TOOLBAR_TOOLS_MINIMIZE:ze.iconIn||Ql().TOOLBAR_TOOLS_FULLSCREEN,title:Ja(`vxe.toolbar.zoom${f.isMaximized()?"Out":"In"}`),onClick:_}):$o()},Je=()=>{const ze=J.value,Z=I.value,$e={};return Z==="manual"||(Z==="hover"?($e.onMouseenter=W,$e.onMouseleave=ie):$e.onClick=V),i?u(i,Object.assign({key:"custom",circle:!0,icon:ze.icon||Ql().TOOLBAR_TOOLS_CUSTOM,title:Ja("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},$e)):$o()},rt=()=>{const{perfect:ze,loading:Z,refresh:$e,zoom:ce,custom:Ne,className:Ke}=e,{connectTable:dt}=w,ft=E.value,Vt=o.tools,bt=o.buttons,vt=dt;return u("div",{ref:D,class:["vxe-toolbar",Ke?l.isFunction(Ke)?Ke({$toolbar:M}):Ke:"",{[`size--${ft}`]:ft,"is--perfect":ze,"is--loading":Z}]},[u("div",{class:"vxe-buttons--wrapper"},bt?bt({$grid:d,$gantt:b,$table:vt}):Me()),u("div",{class:"vxe-tools--wrapper"},Vt?Vt({$grid:d,$gantt:b,$table:vt}):Se()),u("div",{class:"vxe-tools--operate"},[e.import?xe():$o(),e.export?fe():$o(),e.print?Oe():$o(),$e?Pe():$o(),ce&&f?tt():$o(),Ne?Je():$o()])])};return M.renderVN=rt,pe(()=>{const ze=p.value,Z=ze.queryMethod||ze.query;e.refresh&&!f&&!Z&&Ut("vxe.error.notFunc",["[toolbar] queryMethod"]),l.isPlainObject(e.custom)&&Ut("vxe.error.delProp",["[toolbar] custom={...}","custom=boolean & custom-options={...}"]),l.isPlainObject(e.print)&&Ut("vxe.error.delProp",["[toolbar] print={...}","print=boolean & print-options={...}"]),l.isPlainObject(e.export)&&Ut("vxe.error.delProp",["[toolbar] export={...}","export=boolean & export-options={...}"]),l.isPlainObject(e.import)&&Ut("vxe.error.delProp",["[toolbar] import={...}","import=boolean & import-options={...}"]),l.isPlainObject(e.refresh)&&Ut("vxe.error.delProp",["[toolbar] refresh={...}","refresh=boolean & refresh-options={...}"]),l.isPlainObject(e.refresh)&&Ut("vxe.error.delProp",["[toolbar] zoom={...}","zoom=boolean & zoom-options={...}"]);const $e=J.value;$e.isFooter&&Ut("vxe.error.delProp",["[toolbar] toolbar.custom.isFooter","table.custom-config.showFooter"]),$e.showFooter&&Ut("vxe.error.delProp",["[toolbar] toolbar.custom.showFooter","table.custom-config.showFooter"]),$e.immediate&&Ut("vxe.error.delProp",["[toolbar] toolbar.custom.immediate","table.custom-config.immediate"]),$e.trigger&&Ut("vxe.error.delProp",["[toolbar] toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(i||Bt("vxe.error.reqComp",["vxe-button"]))}),mr(()=>{l.assign(w,ry())}),M},render(){return this.renderVN()}}),{getConfig:Da,getI18n:Qa,commands:vI,hooks:bI,useFns:xI,createEvent:CI,globalEvents:yg,GLOBAL_EVENT_KEYS:yI,renderEmptyElement:dl}=Ee,wI=Object.keys(oc),ly=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeRowLevel","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","recalcRowHeight","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","setFilterByEvent","sort","setSort","setSortByEvent","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","getScrollData","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","setMergeHeaderCells","removeMergeHeaderCells","getMergeHeaderCells","clearMergeHeaderCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setRowGroupExpandByField","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","isAggregateRecord","isAggregateExpandByRow","getAggregateContentByRow","getAggregateRowChildren","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect","connectToolbar"];function ay(){return{}}const fi=Fr({name:"VxeGrid",props:mM,emits:vM,setup(e,t){var o;const{slots:r,emit:s}=t,i=l.uniqueId(),d=Ee.getComponent("VxeForm"),b=Ee.getComponent("VxePager"),f=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:E}=xI.useSize(e),m=un({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:((o=Da().pager)===null||o===void 0?void 0:o.pageSize)||10,currentPage:1}}),w=ay(),D=xt(),C=xt(),M=xt(),v=xt(),p=xt(),T=xt(),N=xt(),k=xt(),j=xt(),J=xt(),B=xt(),I=P=>{const H={};return P.forEach(ne=>{H[ne]=(...Te)=>{const Ce=C.value;if(Ce&&Ce[ne])return Ce[ne](...Te)}}),H},F=I(ly);ly.forEach(P=>{F[P]=(...H)=>{const ne=C.value;if(ne&&ne[P])return ne&&ne[P](...H)}});const V=ae(()=>l.merge({},l.clone(Da().grid.proxyConfig,!0),e.proxyConfig)),W=ae(()=>{const P=V.value;return!!(l.isBoolean(P.message)?P.message:P.showResponseMsg)}),ie=ae(()=>{const P=V.value;return l.isBoolean(P.showActionMsg)?P.showActionMsg:!!P.showActiveMsg}),U=ae(()=>Object.assign({},Da().grid.pagerConfig,e.pagerConfig)),_=ae(()=>Object.assign({},Da().grid.formConfig,e.formConfig)),z=ae(()=>Object.assign({},Da().grid.toolbarConfig,e.toolbarConfig)),se=ae(()=>Object.assign({},Da().grid.zoomConfig,e.zoomConfig)),ye=ae(()=>{const{height:P,maxHeight:H}=e,{isZMax:ne,tZindex:Te}=m,Ce={};return ne?Ce.zIndex=Te:(P&&(Ce.height=P==="auto"||P==="100%"?"100%":sa(P)),H&&(Ce.maxHeight=H==="auto"||H==="100%"?"100%":sa(H))),Ce}),Y=ae(()=>{const P={};return wI.forEach(H=>{P[H]=e[H]}),P}),X=ae(()=>{const{seqConfig:P,pagerConfig:H,editConfig:ne,proxyConfig:Te}=e,{isZMax:Ce,tablePage:He}=m,Ze=Y.value,ct=V.value,st=U.value,ot=De.value,Ue=Object.assign({},Ze);return Ce&&(Ze.maxHeight?Ue.maxHeight="100%":Ue.height="100%"),Te&&co(ct)&&(Ue.loading=ot,H&&ct.seq&&co(st)&&(Ue.seqConfig=Object.assign({},P,{startIndex:(He.currentPage-1)*He.pageSize}))),ne&&(Ue.editConfig=Object.assign({},ne)),Ue}),Re=ae(()=>{const{layouts:P}=e;let H=[];P&&P.length?H=P:H=Da().grid.layouts||f;let ne=[],Te=[],Ce=[];return H.length&&(l.isArray(H[0])?(ne=H[0],Te=H[1]||[],Ce=H[2]||[]):Te=H),{headKeys:ne,bodyKeys:Te,footKeys:Ce}}),ue=ae(()=>U.value.currentPage),Q=ae(()=>U.value.pageSize),be=ae(()=>U.value.total),Ie=ae(()=>{const{tablePage:P}=m;return Math.max(Math.ceil(P.total/P.pageSize),1)}),De=ae(()=>{const{loading:P,proxyConfig:H}=e,{tableLoading:ne}=m,Te=V.value,{showLoading:Ce}=Te;return P||ne&&Ce&&H&&co(Te)}),Me={refElem:D,refTable:C,refForm:M,refToolbar:v,refPager:p,refPopupContainerElem:T},Se={computeProxyOpts:V,computePagerOpts:U,computeFormOpts:_,computeToolbarOpts:z,computeZoomOpts:se},xe={xID:i,props:e,context:t,reactData:m,internalData:w,getRefMaps:()=>Me,getComputeMaps:()=>Se},fe=()=>{const P=z.value;e.toolbarConfig&&co(P)&&pe(()=>{const H=C.value,ne=v.value;H&&ne&&H.connectToolbar(ne)})},Oe=()=>{const{proxyConfig:P}=e,{formData:H}=m,ne=V.value,Te=_.value;return P&&co(ne)&&ne.form?H:Te.data},Pe=P=>{const{tablePage:H}=m,{pagerConfig:ne}=e,Te=U.value;if(ne&&co(Te))if(P)Te[P]&&(H[P]=l.toNumber(Te[P]));else{const{currentPage:Ce,pageSize:He,total:Ze}=Te;Ce&&(H.currentPage=Ce),He&&(H.pageSize=He),Ze&&(H.total=Ze)}},tt=P=>{const H=ie.value,ne=C.value,Te=ne?ne.getCheckboxRecords():[];Te.length?(ne&&ne.togglePendingRow(Te),xe.clearCheckboxRow()):H&&Ee.modal&&Ee.modal.message({id:P,content:Qa("vxe.grid.selectOneRecord"),status:"warning"})},Je=(P,H)=>{const ne=V.value,Ce=(ne.response||ne.props||{}).message,He=C.value;let Ze;return P&&Ce&&(Ze=l.isFunction(Ce)?Ce({data:P,$table:He,$grid:xe,$gantt:null}):l.get(P,Ce)),Ze||Qa(H)},rt=(P,H,ne)=>{const Te=ie.value,Ce=xe.getCheckboxRecords();if(Te)if(Ce.length){if(Ee.modal)return Ee.modal.confirm({id:`cfm_${P}`,content:Qa(H),escClosable:!0}).then(He=>{if(He==="confirm")return ne()})}else Ee.modal&&Ee.modal.message({id:`msg_${P}`,content:Qa("vxe.grid.selectOneRecord"),status:"warning"});else Ce.length&&ne();return Promise.resolve()},ze=P=>{const{proxyConfig:H}=e,{tablePage:ne}=m,{$event:Te,currentPage:Ce,pageSize:He}=P,Ze=V.value;ne.currentPage=Ce,ne.pageSize=He,xe.dispatchEvent("page-change",P,Te),H&&co(Ze)&&xe.commitProxy("query").then(ct=>{xe.dispatchEvent("proxy-query",ct,Te)})},Z=P=>{const H=C.value,{proxyConfig:ne}=e;if(!H)return;const{computeSortOpts:Te}=H.getComputeMaps(),Ce=V.value;Te.value.remote&&(m.sortData=P.sortList,ne&&co(Ce)&&(m.tablePage.currentPage=1,xe.commitProxy("query").then(Ze=>{xe.dispatchEvent("proxy-query",Ze,P.$event)})))},$e=P=>{Z(P),xe.dispatchEvent("sort-change",P,P.$event)},ce=P=>{Z(P),xe.dispatchEvent("clear-all-sort",P,P.$event)},Ne=P=>{const H=C.value,{proxyConfig:ne}=e;if(!H)return;const{computeFilterOpts:Te}=H.getComputeMaps(),Ce=V.value;Te.value.remote&&(m.filterData=P.filterList,ne&&co(Ce)&&(m.tablePage.currentPage=1,xe.commitProxy("query").then(Ze=>{xe.dispatchEvent("proxy-query",Ze,P.$event)})))},Ke=P=>{Ne(P),xe.dispatchEvent("filter-change",P,P.$event)},dt=P=>{Ne(P),xe.dispatchEvent("clear-all-filter",P,P.$event)},ft=P=>{const{proxyConfig:H}=e,ne=V.value;m.tableLoading||(H&&co(ne)&&xe.commitProxy("reload").then(Te=>{xe.dispatchEvent("proxy-query",Object.assign(Object.assign({},Te),{isReload:!0}),P.$event)}),xe.dispatchEvent("form-submit",P,P.$event))},Vt=P=>{const H=C.value,{proxyConfig:ne}=e,{$event:Te}=P,Ce=V.value;ne&&co(Ce)&&(H&&H.clearScroll(),xe.commitProxy("reload").then(He=>{xe.dispatchEvent("proxy-query",Object.assign(Object.assign({},He),{isReload:!0}),Te)})),xe.dispatchEvent("form-reset",P,Te)},bt=P=>{xe.dispatchEvent("form-submit-invalid",P,P.$event)},vt=P=>{const{$event:H}=P;xe.dispatchEvent("form-toggle-collapse",P,H),xe.dispatchEvent("form-collapse",P,H)},Ot=P=>{const{isZMax:H}=m;return(P?!H:H)&&(m.isZMax=!H,m.tZindex<RE()&&(m.tZindex=SE())),pe().then(()=>xe.recalculate(!0)).then(()=>(setTimeout(()=>xe.recalculate(!0),15),m.isZMax))},lt=(P,H)=>{const ne=P[H];if(ne)if(l.isString(ne)){if(r[ne])return r[ne];Bt("vxe.error.notSlot",[`[grid] ${ne}`])}else return ne;return null},Et=P=>{const H={};return l.objectMap(P,(ne,Te)=>{ne&&(l.isString(ne)?r[ne]?H[Te]=r[ne]:Bt("vxe.error.notSlot",[`[grid] ${ne}`]):H[Te]=ne)}),H},Xt=()=>{const{formConfig:P,proxyConfig:H}=e,{formData:ne}=m,Te=V.value,Ce=_.value;if(P&&co(Ce)||r.form){let He=[];if(r.form)He=r.form({$grid:xe,$gantt:null});else if(Ce.items){const Ze={};if(!Ce.inited){Ce.inited=!0;const ct=Te.beforeItem;Te&&ct&&Ce.items.forEach(st=>{ct({$grid:xe,$gantt:null,item:st})})}Ce.items.forEach(ct=>{l.each(ct.slots,st=>{l.isFunction(st)||r[st]&&(Ze[st]=r[st])})}),d&&He.push(u(d,Object.assign(Object.assign({ref:M},Object.assign({},Ce,{data:H&&co(Te)&&Te.form?ne:Ce.data})),{onSubmit:ft,onReset:Vt,onSubmitInvalid:bt,onCollapse:vt}),Ze))}return u("div",{ref:N,key:"form",class:"vxe-grid--form-wrapper"},He)}return dl(xe)},jt=()=>{const{toolbarConfig:P}=e,H=z.value,ne=r.toolbar;if(P&&co(H)||ne){let Te=[];if(ne)Te=ne({$grid:xe,$gantt:null});else{const Ce=H.slots,He={};if(Ce){const Ze=lt(Ce,"buttons"),ct=lt(Ce,"buttonPrefix"),st=lt(Ce,"buttonSuffix"),ot=lt(Ce,"tools"),Ue=lt(Ce,"toolPrefix"),zt=lt(Ce,"toolSuffix");Ze&&(He.buttons=Ze),ct&&(He.buttonPrefix=ct),st&&(He.buttonSuffix=st),ot&&(He.tools=ot),Ue&&(He.toolPrefix=Ue),zt&&(He.toolSuffix=zt)}Te.push(u(Aa,Object.assign(Object.assign({ref:v},H),{slots:void 0}),He))}return u("div",{ref:k,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},Te)}return dl(xe)},Gt=()=>{const P=r.top;return P?u("div",{ref:j,key:"top",class:"vxe-grid--top-wrapper"},P({$grid:xe,$gantt:null})):dl(xe)},Ct=()=>{const P=r.left;return P?u("div",{class:"vxe-grid--left-wrapper"},P({$grid:xe,$gantt:null})):dl(xe)},Nt=()=>{const P=r.right;return P?u("div",{class:"vxe-grid--right-wrapper"},P({$grid:xe,$gantt:null})):dl(xe)},_t=()=>{const{proxyConfig:P}=e,H=X.value,ne=V.value,Te=Object.assign({},mt),Ce=r.empty,He=r.loading,Ze=r.rowDragIcon||r["row-drag-icon"],ct=r.columnDragIcon||r["column-drag-icon"],st=r.headerTooltip||r["header-tooltip"],ot=r.tooltip,Ue=r.footerTooltip||r["footer-tooltip"];P&&co(ne)&&(ne.sort&&(Te.onSortChange=$e,Te.onClearAllSort=ce),ne.filter&&(Te.onFilterChange=Ke,Te.onClearAllFilter=dt));const zt={};return Ce&&(zt.empty=Ce),He&&(zt.loading=He),Ze&&(zt.rowDragIcon=Ze),ct&&(zt.columnDragIcon=ct),st&&(zt.headerTooltip=st),ot&&(zt.tooltip=ot),Ue&&(zt.footerTooltip=Ue),u("div",{class:"vxe-grid--table-wrapper"},[u(Fa,Object.assign(Object.assign({ref:C},H),Te),zt)])},ke=()=>r.bottom?u("div",{ref:J,key:"bottom",class:"vxe-grid--bottom-wrapper"},r.bottom({$grid:xe,$gantt:null})):dl(xe),Fe=()=>{const{proxyConfig:P,pagerConfig:H}=e,ne=V.value,Te=U.value,Ce=r.pager;return H&&co(Te)||r.pager?u("div",{ref:B,key:"pager",class:"vxe-grid--pager-wrapper"},Ce?Ce({$grid:xe,$gantt:null}):[b?u(b,Object.assign(Object.assign(Object.assign({ref:p},Te),P&&co(ne)?m.tablePage:{}),{onPageChange:ze}),Et(Te.slots)):dl(xe)]):dl(xe)},je=P=>{const H=[];return P.forEach(ne=>{switch(ne){case"Form":H.push(Xt());break;case"Toolbar":H.push(jt());break;case"Top":H.push(Gt());break;case"Table":H.push(u("div",{key:"table",class:"vxe-grid--table-container"},[Ct(),_t(),Nt()]));break;case"Bottom":H.push(ke());break;case"Pager":H.push(Fe());break;default:Bt("vxe.error.notProp",[`[grid] layouts -> ${ne}`]);break}}),H},nt=()=>{const P=Re.value,{headKeys:H,bodyKeys:ne,footKeys:Te}=P,Ce=r.asideLeft||r["aside-left"],He=r.asideRight||r["aside-right"];return[u("div",{class:"vxe-grid--layout-header-wrapper"},je(H)),u("div",{class:"vxe-grid--layout-body-wrapper"},[Ce?u("div",{class:"vxe-grid--layout-aside-left-wrapper"},Ce({})):dl(xe),u("div",{class:"vxe-grid--layout-body-content-wrapper"},je(ne)),He?u("div",{class:"vxe-grid--layout-aside-right-wrapper"},He({})):dl(xe)]),u("div",{class:"vxe-grid--layout-footer-wrapper"},je(Te)),u("div",{ref:T})]},mt={};rh.forEach(P=>{const H=l.camelCase(`on-${P}`);mt[H]=(...ne)=>s(P,...ne)});const te=()=>{const P=_.value;if(P.items){const H={};return P.items.forEach(ne=>{const{field:Te,itemRender:Ce}=ne;if(Te){let He=null;if(Ce){const{startField:Ze,endField:ct,defaultValue:st}=Ce;l.isFunction(st)?He=st({item:ne}):l.isUndefined(st)||(He=st),Ze&&ct&&(l.set(H,Ze,null),l.set(H,ct,null))}H[Te]=He}}),H}return{}},_e=()=>{const{proxyConfig:P,formConfig:H}=e,{proxyInited:ne}=m,Te=V.value,Ce=_.value;P&&co(Te)&&(H&&co(Ce)&&Te.form&&Ce.items&&(m.formData=te()),ne||(m.proxyInited=!0,Te.autoLoad!==!1&&pe().then(()=>xe.commitProxy("initial")).then(He=>{Qe("proxy-query",Object.assign(Object.assign({},He),{isInited:!0}),new Event("initial"))})))},Be=P=>{const H=se.value;yg.hasKey(P,yI.ESCAPE)&&m.isZMax&&H.escRestore!==!1&&xe.triggerZoomEvent(P)},Qe=(P,H,ne)=>{s(P,CI(ne,{$grid:xe,$gantt:null},H))},at={dispatchEvent:Qe,getEl(){return D.value},commitProxy(P,...H){const{proxyConfig:ne,toolbarConfig:Te,pagerConfig:Ce,editRules:He,validConfig:Ze}=e,{tablePage:ct}=m,st=ie.value,ot=W.value,Ue=V.value,zt=U.value,mo=z.value,{beforeQuery:Eo,afterQuery:_o,beforeDelete:we,afterDelete:qe,beforeSave:It,afterSave:$t,ajax:Ht={}}=Ue,Rt=Ue.response||Ue.props||{},ht=C.value;if(!ht)return pe();let wt=Oe(),Ft=null,Tt=null;if(l.isString(P)){const{buttons:qt}=mo,ro=Te&&co(mo)&&qt?l.findTree(qt,ho=>ho.code===P,{children:"dropdowns"}):null;Ft=ro?ro.item:null,Tt=P}else Ft=P,Tt=Ft.code;const to=Ft?Ft.params:null;switch(Tt){case"insert":return ht.insert({});case"insert_edit":return ht.insert({}).then(({row:qt})=>ht.setEditRow(qt,!0));case"insert_actived":return ht.insert({}).then(({row:qt})=>ht.setEditRow(qt,!0));case"mark_cancel":tt(Tt);break;case"remove":return rt(Tt,"vxe.grid.removeSelectRecord",()=>ht.removeCheckboxRow());case"import":ht.importData(to);break;case"open_import":ht.openImport(to);break;case"export":ht.exportData(to);break;case"open_export":ht.openExport(to);break;case"reset_custom":return ht.resetCustom(!0);case"initial":case"reload":case"query":{const qt=Ht.query,ro=Ht.querySuccess,ho=Ht.queryError;if(qt){const Ho=Tt==="initial",an=Tt==="reload";if(!Ho&&m.tableLoading)return pe();let yn=null,Uo=[],Yo=[],on={};if(Ce&&((Ho||an)&&(ct.currentPage=1),co(zt)&&(on=Object.assign({},ct))),Ho){if(ne&&co(Ue)&&Ue.form&&(wt=te(),m.formData=wt),ht){const qo=ht.internalData,{tableFullColumn:Fo,fullColumnFieldData:Qo}=qo,{computeSortOpts:wn}=ht.getComputeMaps();let xn=wn.value.defaultSort;Fo.forEach(Io=>{Io.order=null}),xn&&(l.isArray(xn)||(xn=[xn]),Uo=xn.map(Io=>{const{field:uo,order:Vn}=Io,Qn=Qo[uo];if(Qn){const zn=Qn.column;zn&&(zn.order=Vn)}return{field:uo,property:uo,order:Vn}})),Yo=ht.getCheckedFilters()}}else ht&&(an?yn=ht.clearAll():(Uo=ht.getSortColumns(),Yo=ht.getCheckedFilters()));const bn={$table:ht,$grid:xe,$gantt:null,code:Tt,button:Ft,isInited:Ho,isReload:an,page:on,sort:Uo.length?Uo[0]:{},sorts:Uo,filters:Yo,form:wt,options:qt};return m.sortData=Uo,m.filterData=Yo,m.tableLoading=!0,Promise.all([Promise.resolve((Eo||qt)(bn,...H)),yn]).then(([qo])=>{let Fo=[];if(m.tableLoading=!1,qo)if(Ce&&co(zt)){const Qo=Rt.total,wn=(l.isFunction(Qo)?Qo({data:qo,$table:ht,$grid:xe,$gantt:null}):l.get(qo,Qo||"page.total"))||0;ct.total=l.toNumber(wn);const Sn=Rt.result;Fo=(l.isFunction(Sn)?Sn({data:qo,$table:ht,$grid:xe,$gantt:null}):l.get(qo,Sn||"result"))||[];const xn=Math.max(Math.ceil(wn/ct.pageSize),1);ct.currentPage>xn&&(ct.currentPage=xn)}else{const Qo=Rt.list;Fo=(Qo?l.isFunction(Qo)?Qo({data:qo,$table:ht,$grid:xe,$gantt:null}):l.get(qo,Qo):qo)||[]}return ht?ht.loadData(Fo):pe(()=>{const Qo=C.value;Qo&&Qo.loadData(Fo)}),_o&&_o(bn,...H),ro&&ro(Object.assign(Object.assign({},bn),{response:qo})),{status:!0}}).catch(qo=>(m.tableLoading=!1,ho&&ho(Object.assign(Object.assign({},bn),{response:qo})),{status:!1}))}else Bt("vxe.error.notFunc",["[grid] proxy-config.ajax.query"]);break}case"delete":{const qt=Ht.delete,ro=Ht.deleteSuccess,ho=Ht.deleteError;if(qt){const Ho=xe.getCheckboxRecords(),an=Ho.filter(Yo=>!ht.isInsertByRow(Yo)),Uo={$table:ht,$grid:xe,$gantt:null,code:Tt,button:Ft,body:{removeRecords:an},form:wt,options:qt};if(Ho.length)return rt(Tt,"vxe.grid.deleteSelectRecord",()=>an.length?(m.tableLoading=!0,Promise.resolve((we||qt)(Uo,...H)).then(Yo=>(m.tableLoading=!1,ht.setPendingRow(an,!1),ot&&Ee.modal&&Ee.modal.message({content:Je(Yo,"vxe.grid.delSuccess"),status:"success"}),qe?qe(Uo,...H):xe.commitProxy("query"),ro&&ro(Object.assign(Object.assign({},Uo),{response:Yo})),{status:!0})).catch(Yo=>(m.tableLoading=!1,ot&&Ee.modal&&Ee.modal.message({id:Tt,content:Je(Yo,"vxe.grid.operError"),status:"error"}),ho&&ho(Object.assign(Object.assign({},Uo),{response:Yo})),{status:!1}))):ht.remove(Ho));st&&Ee.modal&&Ee.modal.message({id:Tt,content:Qa("vxe.grid.selectOneRecord"),status:"warning"})}else Bt("vxe.error.notFunc",["[grid] proxy-config.ajax.delete"]);break}case"save":{const qt=Ht.save,ro=Ht.saveSuccess,ho=Ht.saveError;if(qt){const Ho=ht.getRecordset(),{insertRecords:an,removeRecords:yn,updateRecords:Uo,pendingRecords:Yo}=Ho,on={$table:ht,$grid:xe,$gantt:null,code:Tt,button:Ft,body:Ho,form:wt,options:qt};an.length&&(Ho.pendingRecords=Yo.filter(qo=>ht.findRowIndexOf(an,qo)===-1)),Yo.length&&(Ho.insertRecords=an.filter(qo=>ht.findRowIndexOf(Yo,qo)===-1));let bn=Promise.resolve();return He&&(bn=ht[Ze&&Ze.msgMode==="full"?"fullValidate":"validate"](Ho.insertRecords.concat(Uo))),bn.then(qo=>{if(!qo){if(Ho.insertRecords.length||yn.length||Uo.length||Ho.pendingRecords.length)return m.tableLoading=!0,Promise.resolve((It||qt)(on,...H)).then(Fo=>(m.tableLoading=!1,ht.clearPendingRow(),ot&&Ee.modal&&Ee.modal.message({content:Je(Fo,"vxe.grid.saveSuccess"),status:"success"}),$t?$t(on,...H):xe.commitProxy("query"),ro&&ro(Object.assign(Object.assign({},on),{response:Fo})),{status:!0})).catch(Fo=>(m.tableLoading=!1,ot&&Ee.modal&&Ee.modal.message({id:Tt,content:Je(Fo,"vxe.grid.operError"),status:"error"}),ho&&ho(Object.assign(Object.assign({},on),{response:Fo})),{status:!1}));st&&Ee.modal&&Ee.modal.message({id:Tt,content:Qa("vxe.grid.dataUnchanged"),status:"info"})}})}else Bt("vxe.error.notFunc",["[grid] proxy-config.ajax.save"]);break}default:{const qt=vI.get(Tt);if(qt){const ro=qt.tableCommandMethod||qt.commandMethod;ro?ro({code:Tt,button:Ft,$grid:xe,$table:ht,$gantt:null},...H):Bt("vxe.error.notCommands",[`[grid] ${Tt}`])}}}return pe()},getParams(){return e.params},zoom(){return m.isZMax?xe.revert():xe.maximize()},isMaximized(){return m.isZMax},maximize(){return Ot(!0)},revert(){return Ot()},getFormData:Oe,getFormItems(P){const H=_.value,{formConfig:ne}=e,{items:Te}=H,Ce=[];return l.eachTree(ne&&co(H)&&Te?Te:[],He=>{Ce.push(He)},{children:"children"}),l.isUndefined(P)?Ce:Ce[P]},resetForm(){const P=M.value;return P?P.reset():pe()},validateForm(){const P=M.value;return P?P.validate():pe()},validateFormField(P){const H=M.value;return H?H.validateField(P):pe()},clearFormValidate(P){const H=M.value;return H?H.clearValidate(P):pe()},homePage(){const{tablePage:P}=m;return P.currentPage=1,pe()},homePageByEvent(P){const H=p.value;H&&H.homePageByEvent(P)},endPage(){const{tablePage:P}=m,H=Ie.value;return P.currentPage=H,pe()},endPageByEvent(P){const H=p.value;H&&H.endPageByEvent(P)},getCurrentPage(){const{tablePage:P}=m;return P.currentPage},setCurrentPage(P){const{tablePage:H}=m,ne=Ie.value;return H.currentPage=Math.min(ne,Math.max(1,l.toNumber(P))),pe()},setCurrentPageByEvent(P,H){const ne=p.value;ne&&ne.setCurrentPageByEvent(P,H)},getPageSize(){const{tablePage:P}=m;return P.pageSize},setPageSize(P){const{tablePage:H}=m;return H.pageSize=Math.max(1,l.toNumber(P)),pe()},setPageSizeByEvent(P,H){const ne=p.value;ne&&ne.setPageSizeByEvent(P,H)},getProxyInfo(){const P=C.value;if(e.proxyConfig){const{sortData:H}=m;return{data:P?P.getFullData():[],filter:m.filterData,form:Oe(),sort:H.length?H[0]:{},sorts:H,pager:m.tablePage,pendingRecords:P?P.getPendingRecords():[]}}return null}},yt={extendTableMethods:I,callSlot(P,H){return P&&(l.isString(P)&&(P=r[P]||null),l.isFunction(P))?Cn(P(H)):[]},getExcludeHeight(){const{height:P}=e,{isZMax:H}=m,ne=D.value;if(ne){const Te=N.value,Ce=k.value,He=j.value,Ze=J.value,ct=B.value,st=ne.parentElement;let ot=0;return st&&(P==="100%"||P==="auto")&&(ot=H?0:Fg(st)),ot+Fg(ne)+$i(Te)+$i(Ce)+$i(He)+$i(Ze)+$i(ct)}return 0},getParentHeight(){const P=D.value;if(P){const H=P.parentElement;return(m.isZMax?vc().visibleHeight:H?l.toNumber(getComputedStyle(H).height):0)-yt.getExcludeHeight()}return 0},triggerToolbarCommitEvent(P,H){const{code:ne}=P;return xe.commitProxy(P,H).then(Te=>{ne&&Te&&Te.status&&["query","reload","delete","save"].includes(ne)&&xe.dispatchEvent(ne==="delete"||ne==="save"?`proxy-${ne}`:"proxy-query",Object.assign(Object.assign({},Te),{isReload:ne==="reload"}),H)})},triggerToolbarBtnEvent(P,H){xe.triggerToolbarCommitEvent(P,H),xe.dispatchEvent("toolbar-button-click",{code:P.code,button:P},H)},triggerToolbarTolEvent(P,H){xe.triggerToolbarCommitEvent(P,H),xe.dispatchEvent("toolbar-tool-click",{code:P.code,tool:P},H)},triggerZoomEvent(P){xe.zoom(),xe.dispatchEvent("zoom",{type:m.isZMax?"max":"revert"},P)}};Object.assign(xe,F,at,yt,{loadColumn(P){const H=C.value;return l.eachTree(P,ne=>{ne.slots&&l.each(ne.slots,Te=>{l.isFunction(Te)||r[Te]||Bt("vxe.error.notSlot",[`[grid] ${Te}`])})}),H?H.loadColumn(P):pe()},reloadColumn(P){return xe.clearAll(),xe.loadColumn(P)}});const Xe=()=>{const P=E.value,H=ye.value,ne=De.value;return u("div",{ref:D,class:["vxe-grid",{[`size--${P}`]:P,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":m.isZMax,"is--loading":ne}],style:H},nt())},ge=xt(0);return no(()=>e.columns?e.columns.length:-1,()=>{ge.value++}),no(()=>e.columns,()=>{ge.value++}),no(ge,()=>{pe(()=>xe.loadColumn(e.columns||[]))}),no(()=>e.toolbarConfig,()=>{fe()}),no(ue,()=>{Pe("currentPage")}),no(Q,()=>{Pe("pageSize")}),no(be,()=>{Pe("total")}),no(()=>e.proxyConfig,()=>{_e()}),bI.forEach(P=>{const{setupGrid:H}=P;if(H){const ne=H(xe);ne&&l.isObject(ne)&&Object.assign(xe,ne)}}),Pe(),sr(()=>{pe(()=>{const{columns:P}=e,H=V.value;e.formConfig&&(d||Bt("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(b||Bt("vxe.error.reqComp",["vxe-pager"])),H.props&&Ut("vxe.error.delProp",["[grid] proxy-config.props","proxy-config.response"]),P&&P.length&&xe.loadColumn(P),fe(),_e()}),yg.on(xe,"keydown",Be)}),mr(()=>{yg.off(xe,"keydown"),l.assign(w,ay())}),xe.renderVN=Xe,ir("$xeGrid",xe),ir("$xeGantt",null),xe},render(){return this.renderVN()}}),tS=Object.assign({},fi,{install(e){e.component(fi.name,fi)}});Ee.dynamicApp&&Ee.dynamicApp.component(fi.name,fi);Ee.component(fi);function EI(e){const t=ae(()=>{const{renderParams:i}=e;return i.column}),o=ae(()=>{const{renderParams:i}=e;return i.row}),r=ae(()=>{const{renderOpts:i}=e;return i.props||{}}),s=ae({get(){const{renderParams:i}=e,{row:d,column:b}=i;return l.get(d,b.field)},set(i){const{renderParams:d}=e,{row:b,column:f}=d;return l.set(b,f.field,i)}});return{currColumn:t,currRow:o,cellModel:s,cellOptions:r}}const SI=Object.assign({},Fa,{install(e){e.component(Fa.name,Fa)}}),RI={useCellView:EI};Ee.dynamicApp&&Ee.dynamicApp.component(Fa.name,Fa);Ee.component(Fa);Ee.tableHandle=RI;const DI=Object.assign({},Aa,{install(e){e.component(Aa.name,Aa)}});Ee.dynamicApp&&Ee.dynamicApp.component(Aa.name,Aa);Ee.component(Aa);function OI(e,t,o){["query","querySuccess","queryError","queryAll","queryAllSuccess","queryAllError"].forEach(r=>{TI(r,e,t,o)})}function TI(e,t,o,r){var b;const{proxyConfig:s}=o,i=(b=s==null?void 0:s.ajax)==null?void 0:b[e];if(!Pg(i))return o;const d=(f,E,...m)=>Ul(null,null,function*(){const w=r();return yield i(f,cn(cn({},E instanceof PointerEvent?{}:E),w),...m)});t.setState({gridOptions:{proxyConfig:{ajax:{[e]:d}}}})}function MI(e){e.formats.add("formatDate",{tableCellFormatMethod({cellValue:t}){return bR(t)}}),e.formats.add("formatDateTime",{tableCellFormatMethod({cellValue:t}){return xR(t)}})}let iy=!1,oS;const II=(e="")=>Pa({name:e});function FI(){iy||(Ee.component(SI),Ee.component(hM),Ee.component(gM),Ee.component(tS),Ee.component(DI),Ee.component(Qg),Ee.component(uE),Ee.component(II("VxeForm")),Ee.component(dE),Ee.component(fE),Ee.component(eh),Ee.component(gE),Ee.component(hE),Ee.component(mE),Ee.component(vE),Ee.component(bE),Ee.component(xE),Ee.component(yE),iy=!0)}function AI(e){const{configVxeTable:t,useVbenForm:o}=e;FI(),oS=o;const{isDark:r,locale:s}=my(),i={"zh-CN":VT,"en-US":_T};no([()=>r.value,()=>s.value],([d,b])=>{Ee.setTheme(d?"dark":"light"),Ee.setI18n(b,i[b]),Ee.setLanguage(b)},{immediate:!0}),MI(Ee),t(Ee)}function PI(){return{class:"",gridClass:"",gridOptions:{},gridEvents:{},formOptions:void 0,showSearchForm:!0}}class kI{constructor(t={}){wa(this,"formApi",{});wa(this,"grid",{});wa(this,"state",null);wa(this,"store");wa(this,"isMounted",!1);wa(this,"stateHandler");const o=cn({},t),r=PI();this.store=new oR(Ia(o,r),{onUpdate:()=>{this.state=this.store.state}}),this.state=this.store.state,this.stateHandler=new CR,yR(this)}mount(t,o){!this.isMounted&&t&&(this.grid=t,this.formApi=o,this.stateHandler.setConditionTrue(),this.isMounted=!0)}query(){return Ul(this,arguments,function*(t={}){try{yield this.grid.commitProxy("query",Ta(t))}catch(o){console.error("Error occurred while querying:",o)}})}reload(){return Ul(this,arguments,function*(t={}){try{yield this.grid.commitProxy("reload",Ta(t))}catch(o){console.error("Error occurred while reloading:",o)}})}setGridOptions(t){this.setState({gridOptions:t})}setLoading(t){this.setState({gridOptions:{loading:t}})}setState(t){Pg(t)?this.store.setState(o=>Ia(t(o),o)):this.store.setState(o=>Ia(t,o))}toggleSearchForm(t){var o,r;return this.setState({showSearchForm:vy(t)?t:!((o=this.state)!=null&&o.showSearchForm)}),(r=this.state)==null?void 0:r.showSearchForm}unmount(){this.isMounted=!1,this.stateHandler.reset()}}const LI={class:"mr-1 pl-1 text-[1rem]"},NI={class:"mt-2"},wg="form-",_s="toolbar-actions",Hs="toolbar-tools",$I="table-title",_I=Pa({__name:"use-vxe-grid",props:{api:{},tableTitle:{},tableTitleHelp:{},class:{},gridClass:{},gridOptions:{},gridEvents:{},formOptions:{},showSearchForm:{type:Boolean},separator:{type:[Boolean,Object]}},setup(e){var se,ye;const t=e,o=wR("gridRef"),r=(ye=(se=t.api)==null?void 0:se.useStore)==null?void 0:ye.call(se),{gridOptions:s,class:i,gridClass:d,gridEvents:b,formOptions:f,tableTitle:E,tableTitleHelp:m,showSearchForm:w,separator:D}=nR(t,r),{isMobile:C}=my(),M=ae(()=>!f.value||w.value===!1||D.value===!1?!1:D.value===!0||D.value===void 0?!0:D.value.show!==!1),v=ae(()=>!D.value||vy(D.value)||!D.value.backgroundColor?void 0:D.value.backgroundColor),p=ER(),[T,N]=oS({compact:!0,handleSubmit:()=>Ul(null,null,function*(){const Y=yield N.getValues();N.setLatestSubmissionValues(Ta(Y)),t.api.reload(Y)}),handleReset:()=>Ul(null,null,function*(){var Re;const Y=yield N.getValues();yield N.resetForm();const X=yield N.getValues();N.setLatestSubmissionValues(X),(rR(Y,X)||!((Re=f.value)!=null&&Re.submitOnChange))&&t.api.reload(X)}),commonConfig:{componentProps:{class:"w-full"}},showCollapseButton:!0,submitButtonOptions:{content:ae(()=>hr("common.search"))},wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}),k=ae(()=>{var Y;return!!((Y=p[$I])!=null&&Y.call(p))||E.value}),j=ae(()=>{var Y,X;return!!((Y=p[_s])!=null&&Y.call(p))||!!((X=p[Hs])!=null&&X.call(p))||k.value}),J=ae(()=>{var Q,be,Ie,De,Me,Se,xe;const Y=(Q=p[_s])==null?void 0:Q.call(p),X=(be=p[Hs])==null?void 0:be.call(p),Re={code:"search",icon:"vxe-icon-search",circle:!0,status:w.value?"primary":void 0,title:w.value?hr("common.hideSearchPanel"):hr("common.showSearchPanel")},ue={tools:(Me=(De=(Ie=s.value)==null?void 0:Ie.toolbarConfig)==null?void 0:De.tools)!=null?Me:[]};return(xe=(Se=s.value)==null?void 0:Se.toolbarConfig)!=null&&xe.search&&f.value&&(ue.tools=Array.isArray(ue.tools)?[...ue.tools,Re]:[Re]),j.value?(ue.slots=cn(cn({},Y||k.value?{buttons:_s}:{}),X?{tools:Hs}:{}),{toolbarConfig:ue}):{toolbarConfig:ue}}),B=ae(()=>{var Re,ue;const Y=(ue=(Re=Ee==null?void 0:Ee.getConfig())==null?void 0:Re.grid)!=null?ue:{},X=SR(Ia({},Ta(J.value),Ta(s.value),Y));if(X.proxyConfig){const{ajax:Q}=X.proxyConfig;X.proxyConfig.enabled=!!Q,X.proxyConfig.autoLoad=!1}if(X.pagerConfig){const Q=["PrevJump","PrevPage","Number","NextPage","NextJump"],be=["Total","Sizes","Home",...Q,"End"];X.pagerConfig=Ia({},X.pagerConfig,{pageSize:20,background:!0,pageSizes:[10,20,30,50,100,200],className:"mt-2 w-full",layouts:C.value?Q:be,size:"mini"})}return X.formConfig&&(X.formConfig.enabled=!1),X});function I(Y){var X,Re;Y.code==="search"&&F(),(Re=(X=b.value)==null?void 0:X.toolbarToolClick)==null||Re.call(X,Y)}function F(){var Y,X;(X=(Y=t.api)==null?void 0:Y.toggleSearchForm)==null||X.call(Y)}const V=ae(()=>ya(cn({},b.value),{toolbarToolClick:I})),W=ae(()=>{const Y=[];for(const X of Object.keys(p))["empty","form","loading",_s,Hs].includes(X)||Y.push(X);return Y}),ie=ae(()=>{const Y=[];for(const X of Object.keys(p))X.startsWith(wg)&&Y.push(X);return Y.map(X=>X.replace(wg,""))}),U=ae(()=>{const Y=B.value.emptyText!==void 0,X=B.value.emptyRender!==void 0;return!Y&&!X});function _(){return Ul(this,null,function*(){var be,Ie,De,Me,Se,xe,fe,Oe,Pe,tt;yield pe();const Y=(Ie=(be=Ee==null?void 0:Ee.getConfig())==null?void 0:be.grid)!=null?Ie:{},X=Ia({},Ta(s.value),Ta(Y)),Re=(De=X.proxyConfig)==null?void 0:De.autoLoad;((Me=B.value.proxyConfig)==null?void 0:Me.enabled)&&Re&&((fe=(xe=t.api.grid).commitProxy)==null||fe.call(xe,"query",f.value?(Se=yield N.getValues())!=null?Se:{}:{}));const Q=(Oe=s.value)==null?void 0:Oe.formConfig;Q&&Q.enabled&&console.warn("[Vben Vxe Table]: The formConfig in the grid is not supported, please use the `formOptions` props"),(tt=(Pe=t.api)==null?void 0:Pe.setState)==null||tt.call(Pe,{gridOptions:X}),OI(t.api,X,()=>N.getLatestSubmissionValues())})}no(f,()=>{N.setState(Y=>{const X=Ia({},f.value,Y);return ya(cn({},X),{collapseTriggerResize:!!X.showCollapseButton})})},{immediate:!0});const z=ae(()=>{var Y;return(Y=N.getState())==null?void 0:Y.compact});return sr(()=>{var Y,X;(X=(Y=t.api)==null?void 0:Y.mount)==null||X.call(Y,o.value,N),_()}),mr(()=>{var Y,X,Re;(Y=N==null?void 0:N.unmount)==null||Y.call(N),(Re=(X=t.api)==null?void 0:X.unmount)==null||Re.call(X)}),(Y,X)=>(Mi(),Vc("div",{class:Hh(Dn(qc)("bg-card h-full rounded-md",Dn(i)))},[Hn(Dn(tS),OR({ref_key:"gridRef",ref:o,class:Dn(qc)("p-2",{"pt-0":j.value&&!Dn(f)},Dn(d))},B.value,TR(V.value)),kh({"toolbar-tools":Lr(Re=>{var ue,Q;return[Nr(Y.$slots,"toolbar-tools",Yl(Kl(Re))),(Q=(ue=Dn(s))==null?void 0:ue.toolbarConfig)!=null&&Q.search&&Dn(f)?(Mi(),_h(Dn(Qg),{key:0,icon:"vxe-icon-search",circle:"",class:"ml-2",status:Dn(w)?"primary":void 0,title:Dn(hr)("common.search"),onClick:F},null,8,["status","title"])):$o("",!0)]}),form:Lr(()=>[Dn(f)?RR((Mi(),Vc("div",{key:0,class:Hh(Dn(qc)("relative rounded py-3",z.value?M.value?"pb-8":"pb-4":M.value?"pb-4":"pb-0"))},[Nr(Y.$slots,"form",{},()=>[Hn(Dn(T),null,kh({"reset-before":Lr(Re=>[Nr(Y.$slots,"reset-before",Yl(Kl(Re)))]),"submit-before":Lr(Re=>[Nr(Y.$slots,"submit-before",Yl(Kl(Re)))]),"expand-before":Lr(Re=>[Nr(Y.$slots,"expand-before",Yl(Kl(Re)))]),"expand-after":Lr(Re=>[Nr(Y.$slots,"expand-after",Yl(Kl(Re)))]),_:2},[Lh(ie.value,Re=>({name:Re,fn:Lr(ue=>[Nr(Y.$slots,`${wg}${Re}`,Yl(Kl(ue)))])}))]),1024)]),M.value?(Mi(),Vc("div",{key:0,style:DR(cn({},v.value?{backgroundColor:v.value}:void 0)),class:"bg-background-deep z-100 absolute -left-2 bottom-1 h-2 w-[calc(100%+1rem)] overflow-hidden md:bottom-2 md:h-3"},null,4)):$o("",!0)],2)),[[sR,Dn(w)!==!1]]):$o("",!0)]),loading:Lr(()=>[Nr(Y.$slots,"loading",{},()=>[Hn(Dn(iR),{spinning:!0})])]),_:2},[j.value?{name:"toolbar-actions",fn:Lr(Re=>[k.value?Nr(Y.$slots,"table-title",{key:0},()=>[Nh("div",LI,[$h(zc(Dn(E))+" ",1),Dn(m)?(Mi(),_h(Dn(lR),{key:0,"trigger-class":"pb-1"},{default:Lr(()=>[$h(zc(Dn(m)),1)]),_:1})):$o("",!0)])]):$o("",!0),Nr(Y.$slots,"toolbar-actions",Yl(Kl(Re)))]),key:"0"}:void 0,Lh(W.value,Re=>({name:Re,fn:Lr(ue=>[Nr(Y.$slots,Re,Yl(Kl(ue)))])})),U.value?{name:"empty",fn:Lr(()=>[Nr(Y.$slots,"empty",{},()=>[Hn(Dn(aR),{class:"mx-auto"}),Nh("div",NI,zc(Dn(hr)("common.noData")),1)])]),key:"1"}:void 0]),1040,["class"])],2))}});function HI(e){const t=new kI(e),o=t;return o.useStore=s=>cR(t.store,s),[Pa((s,{attrs:i,slots:d})=>(ns(()=>{t.unmount()}),t.setState(cn(cn({},s),i)),()=>u(_I,ya(cn(cn({},s),i),{api:o}),d)),{name:"VbenVxeGrid",inheritAttrs:!1,slots:Object}),o]}AI({configVxeTable:e=>{e.setConfig({grid:{align:"center",border:!1,columnConfig:{resizable:!0},formConfig:{enabled:!1},minHeight:180,proxyConfig:{autoLoad:!0,response:{result:"items",total:"total",list:""},showActiveMsg:!0,showResponseMsg:!1},round:!0,showOverflow:!0,size:"small"}}),e.renderer.forEach((t,o)=>{o.startsWith("Cell")&&e.renderer.delete(o)}),e.renderer.add("CellImage",{renderTableDefault(t,o){const{props:r}=t,{column:s,row:i}=o;return u(FR,cn({src:i[s.field]},r))}}),e.renderer.add("CellLink",{renderTableDefault(t){const{props:o}=t;return u(Eg,{size:"small",type:"link"},{default:()=>o==null?void 0:o.text})}}),e.renderer.add("CellTag",{renderTableDefault({options:t,props:o},{column:r,row:s}){const i=dR(s,r.field),b=(t!=null?t:[{color:"success",label:hr("common.enabled"),value:1},{color:"error",label:hr("common.disabled"),value:0}]).find(f=>f.value===i);return u(AR,cn(cn({},o),MR(b!=null?b:{},["label"])),{default:()=>{var f;return(f=b==null?void 0:b.label)!=null?f:i}})}}),e.renderer.add("CellSwitch",{renderTableDefault({attrs:t,props:o},{column:r,row:s}){var f;const i=`__loading_${r.field}`,d=ya(cn({checkedChildren:hr("common.enabled"),checkedValue:1,unCheckedChildren:hr("common.disabled"),unCheckedValue:0},o),{checked:s[r.field],loading:(f=s[i])!=null?f:!1,"onUpdate:checked":b});function b(E){return Ul(this,null,function*(){var m;s[i]=!0;try{(yield(m=t==null?void 0:t.beforeChange)==null?void 0:m.call(t,E,s))!==!1&&(s[r.field]=E)}finally{s[i]=!1}})}return u($R,d)}}),e.renderer.add("CellOperation",{renderTableDefault({attrs:t,options:o,props:r},{column:s,row:i}){const d=cn({size:"small",type:"link"},r);let b="end";switch(s.align){case"center":{b="center";break}case"left":{b="start";break}default:{b="end";break}}const f={delete:{danger:!0,text:hr("common.delete")},edit:{text:hr("common.edit")}},E=(o||["edit","delete"]).map(C=>IR(C)?f[C]?cn(cn({code:C},f[C]),d):cn({code:C,text:fR(`common.${C}`)?hr(`common.${C}`):C},d):cn(cn(cn({},d),f[C.code]),C)).map(C=>{const M={};return Object.keys(C).forEach(v=>{M[v]=Pg(C[v])?C[v](i):C[v]}),M}).filter(C=>C.show!==!1);function m(C,M=!0){return u(Eg,ya(cn(cn({},r),C),{icon:void 0,onClick:M?()=>{var v;return(v=t==null?void 0:t.onClick)==null?void 0:v.call(t,{code:C.code,row:i})}:void 0}),{default:()=>{const v=[];return C.icon&&v.push(u(pR,{class:"size-5",icon:C.icon})),v.push(C.text),v}})}function w(C){let M=null;return u(XR,ya(cn(cn({getPopupContainer(v){return M=v.closest(".vxe-table--viewport-wrapper"),document.body},placement:"topLeft",title:hr("ui.actionTitle.delete",[(t==null?void 0:t.nameTitle)||""])},r),C),{icon:void 0,onOpenChange:v=>{v?M==null||M.style.setProperty("pointer-events","none"):M==null||M.style.removeProperty("pointer-events")},onConfirm:()=>{var v;(v=t==null?void 0:t.onClick)==null||v.call(t,{code:C.code,row:i})}}),{default:()=>m(cn({},C),!1),description:()=>u("div",{class:"truncate"},hr("ui.actionMessage.deleteConfirm",[i[(t==null?void 0:t.nameField)||"name"]]))})}const D=E.map(C=>C.code==="delete"?w(C):m(C));return u("div",{class:"flex table-operations",style:{justifyContent:b}},D)}})},useVbenForm:uR});const KI=(...e)=>HI(...e);export{KI as u};
